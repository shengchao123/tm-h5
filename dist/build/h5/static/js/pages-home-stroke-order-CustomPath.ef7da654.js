(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-stroke-order-CustomPath"],{"0732":function(t,a,n){var o=n("4bad");a=o(!1),a.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-d0308716]{color:#333}.color-666[data-v-d0308716]{color:#666}.color-999[data-v-d0308716]{color:#999}.bg-color[data-v-d0308716]{background-color:#f7f7f7}.bg-white[data-v-d0308716]{background-color:#fff}.white-color[data-v-d0308716]{color:#fff}.primary-color[data-v-d0308716]{color:#f54400}.success-color[data-v-d0308716]{color:#0e130f}.warning-color[data-v-d0308716]{color:#f0ad4e}.error-color[data-v-d0308716]{color:#dd524d}.primary-text[data-v-d0308716]{color:#333}.secondary-text[data-v-d0308716]{color:#666}.tip-text[data-v-d0308716]{color:#999}.color-e32417[data-v-d0308716]{color:#e32417}.custom-path-wrap[data-v-d0308716]{height:calc(100vh)}.custom-path-wrap .content[data-v-d0308716]{padding:%?20?% 0;overflow:scroll;position:absolute;left:0;right:0;bottom:%?121?%;height:42vh;background:#fff;box-shadow:0 %?-6?% %?17?% 0 rgba(0,0,0,.1);border-radius:%?30?% %?30?% 0 0;z-index:99}.custom-path-wrap .content .add-point-btn[data-v-d0308716]{color:#e32417;border:1px solid #e32417;border-radius:%?28?%;height:%?56?%;width:%?208?%;margin-left:%?90?%;margin-top:%?20?%}.custom-path-wrap .btn-wrap[data-v-d0308716]{position:absolute;left:0;right:0;bottom:0;height:%?120?%}.custom-path-wrap .btn-wrap .btn[data-v-d0308716]{font-size:%?32?%;background:#e32417;height:%?88?%;width:%?690?%;border-radius:49px;color:#fff}',""]),t.exports=a},"0db5":function(t,a,n){"use strict";n.r(a);var o=n("0f68"),e=n("3935");for(var r in e)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(r);n("bd02");var i,c=n("f0c5"),d=Object(c["a"])(e["default"],o["b"],o["c"],!1,null,"71833736",null,!1,o["a"],i);a["default"]=d.exports},"0f68":function(t,a,n){"use strict";var o;n.d(a,"b",(function(){return e})),n.d(a,"c",(function(){return r})),n.d(a,"a",(function(){return o}));var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"num-list-wrap center-align between-row"},[n("div",{staticClass:"flex1 center-align"},[n("div",{staticClass:"column center-align"},[n("div",{staticClass:"line",class:0===t.currentIndex&&"hideLine"}),n("div",{staticClass:"circle center ft22"},[t._v(t._s(t.pointData.index+1))]),n("div",{staticClass:"line",class:t.currentIndex===t.lastIndex&&"hideLine"})]),n("div",{staticClass:"ft32 ml16 flex1"},[t._v(t._s(t.pointData.item.name))])]),n("div",{staticClass:"center-align"},[t._l(t.btns,(function(a,o){return["up"===a.type&&0===t.currentIndex||"down"===a.type&&t.currentIndex===t.lastIndex?t._e():n("div",{key:o,staticClass:"btn center ml16",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onBtn(a.type)}}},[n("div",{staticClass:"ml8 color-666"},[t._v(t._s(a.text))])])]}))],2)])},r=[]},1557:function(t,a,n){"use strict";var o;n.d(a,"b",(function(){return e})),n.d(a,"c",(function(){return r})),n.d(a,"a",(function(){return o}));var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"map-wrap"},[n("div",{class:t.mapClass,attrs:{id:"map"}})])},r=[]},"15e8":function(t,a,n){"use strict";n.r(a);var o=n("210f"),e=n("9518");for(var r in e)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(r);n("8c2c");var i,c=n("f0c5"),d=Object(c["a"])(e["default"],o["b"],o["c"],!1,null,"d0308716",null,!1,o["a"],i);a["default"]=d.exports},1989:function(t,a,n){var o=n("4bad");a=o(!1),a.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-71833736]{color:#333}.color-666[data-v-71833736]{color:#666}.color-999[data-v-71833736]{color:#999}.bg-color[data-v-71833736]{background-color:#f7f7f7}.bg-white[data-v-71833736]{background-color:#fff}.white-color[data-v-71833736]{color:#fff}.primary-color[data-v-71833736]{color:#f54400}.success-color[data-v-71833736]{color:#0e130f}.warning-color[data-v-71833736]{color:#f0ad4e}.error-color[data-v-71833736]{color:#dd524d}.primary-text[data-v-71833736]{color:#333}.secondary-text[data-v-71833736]{color:#666}.tip-text[data-v-71833736]{color:#999}.color-e32417[data-v-71833736]{color:#e32417}.num-list-wrap[data-v-71833736]{padding:0 %?32?%}.num-list-wrap .line[data-v-71833736]{border-left:1px solid #ffd53d;width:1px;height:%?40?%}.num-list-wrap .hideLine[data-v-71833736]{border-color:transparent}.num-list-wrap .circle[data-v-71833736]{background:#feffff;border:1px solid #e1b406;height:%?40?%;width:%?40?%;border-radius:%?22?%;color:#e1b406}.num-list-wrap .btn[data-v-71833736]{border:1px solid #dcdcdc;border-radius:%?28?%;width:%?100?%;height:%?56?%;font-size:%?26?%}',""]),t.exports=a},"210f":function(t,a,n){"use strict";var o;n.d(a,"b",(function(){return e})),n.d(a,"c",(function(){return r})),n.d(a,"a",(function(){return o}));var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"custom-path-wrap relative"},[n("Map",{attrs:{mapInitObj:t.mapInitObj,mapClass:"mapVH50",points:t.points}}),n("div",{staticClass:"content"},[t._l(t.points,(function(a,o){return n("NumList",{key:o,attrs:{currentIndex:o,lastIndex:t.points.length-1,pointData:{item:a,index:o}},on:{onHandlePoints:function(a){arguments[0]=a=t.$handleEvent(a),t.onHandlePoints.apply(void 0,arguments)}}})})),n("div",{staticClass:"add-point-btn center",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onAddRedPoints.apply(void 0,arguments)}}},[t._v("+添加红色地标")])],2),n("div",{staticClass:"btn-wrap bt center"},[n("div",{staticClass:"btn center bold",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onConfirmCreateCustomPath.apply(void 0,arguments)}}},[t._v("确定")])])],1)},r=[]},"34fc":function(t,a,n){"use strict";n.r(a);var o=n("cf6c"),e=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return o[t]}))}(r);a["default"]=e.a},3935:function(t,a,n){"use strict";n.r(a);var o=n("b0d3"),e=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return o[t]}))}(r);a["default"]=e.a},"3ad2":function(t,a,n){"use strict";var o=n("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("a434");var e=o(n("548c")),r=o(n("0db5")),i=n("b893"),c={name:"CustomPath",methods:{onConfirmCreateCustomPath:function(){uni.$emit("setJourneyPointListEvent",this.points),uni.navigateBack()},onHandlePoints:function(t,a){if("del"===t)return this.points.splice(a,1),void this.$store.commit("travel/CUSTOM_PATH_POINTS",this.points);var n="up"===t?a-1:a+1;this.points=(0,i.swapArr)(this.points,a,n),this.$store.commit("travel/CUSTOM_PATH_POINTS",this.points)},onAddRedPoints:function(){uni.navigateTo({url:"/pages/home/stroke-order/GetRedPoints"})}},watch:{"$store.state.travel.customPathPoints":{handler:function(t,a){console.log(t,a),t&&(this.points=JSON.parse(JSON.stringify(t)))},immediate:!0}},data:function(){return{points:[],mapInitObj:{resizeEnable:!0,zooms:[9,19],zoom:9,center:[119.365056,30.134302]}}},components:{Map:e.default,NumList:r.default}};a.default=c},4345:function(t,a,n){var o=n("1989");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var e=n("4f06").default;e("015b42ce",o,!0,{sourceMap:!1,shadowMode:!1})},"548c":function(t,a,n){"use strict";n.r(a);var o=n("1557"),e=n("34fc");for(var r in e)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(r);n("b409");var i,c=n("f0c5"),d=Object(c["a"])(e["default"],o["b"],o["c"],!1,null,"0c96bac8",null,!1,o["a"],i);a["default"]=d.exports},6025:function(t,a,n){var o=n("0732");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var e=n("4f06").default;e("a519859a",o,!0,{sourceMap:!1,shadowMode:!1})},8831:function(t,a,n){var o=n("b367");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var e=n("4f06").default;e("04e19050",o,!0,{sourceMap:!1,shadowMode:!1})},"8c2c":function(t,a,n){"use strict";var o=n("6025"),e=n.n(o);e.a},9518:function(t,a,n){"use strict";n.r(a);var o=n("3ad2"),e=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return o[t]}))}(r);a["default"]=e.a},aa2a:function(t,a,n){"use strict";var o=n("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("ac1f"),n("841c");var e=o(n("024c")),r={data:function(){return{$amap:null}},methods:{drawDistrict:function(){var t=this;e.default.plugin("AMap.DistrictSearch",(function(){new e.default.DistrictSearch({extensions:"all",subdistrict:0}).search("临安区",(function(a,n){var o=[new e.default.LngLat(-360,90,!0),new e.default.LngLat(-360,-90,!0),new e.default.LngLat(360,-90,!0),new e.default.LngLat(360,90,!0)],r=n.districtList[0].boundaries,i=[o];i.push.apply(i,r);var c=new e.default.Polygon({pathL:i,strokeColor:"#FD9124",strokeWeight:1.5,fillColor:"rgba(10,133,238,0.14)"});c.setPath(i),t.$amap.add(c)}))}))}},mounted:function(){this.$amap=new e.default.Map("map",this.mapInitObj),this.drawDistrict()}},i=r;a.default=i},b0d3:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("a9e3");var o={name:"NumList",methods:{onBtn:function(t){this.$emit("onHandlePoints",t,this.currentIndex)}},data:function(){return{btns:[{text:"上移",type:"up"},{text:"下移",type:"down"},{text:"删除",type:"del"}]}},props:{pointData:Object,currentIndex:[String,Number],lastIndex:[String,Number]}};a.default=o},b367:function(t,a,n){var o=n("4bad");a=o(!1),a.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-0c96bac8]{color:#333}.color-666[data-v-0c96bac8]{color:#666}.color-999[data-v-0c96bac8]{color:#999}.bg-color[data-v-0c96bac8]{background-color:#f7f7f7}.bg-white[data-v-0c96bac8]{background-color:#fff}.white-color[data-v-0c96bac8]{color:#fff}.primary-color[data-v-0c96bac8]{color:#f54400}.success-color[data-v-0c96bac8]{color:#0e130f}.warning-color[data-v-0c96bac8]{color:#f0ad4e}.error-color[data-v-0c96bac8]{color:#dd524d}.primary-text[data-v-0c96bac8]{color:#333}.secondary-text[data-v-0c96bac8]{color:#666}.tip-text[data-v-0c96bac8]{color:#999}.color-e32417[data-v-0c96bac8]{color:#e32417}.map-wrap[data-v-0c96bac8]{position:relative}.map-wrap .mapVH60[data-v-0c96bac8]{width:100vw;height:60vh}.map-wrap .mapH400[data-v-0c96bac8]{width:92vw;height:%?400?%}.map-wrap .mapVH50[data-v-0c96bac8]{width:100vw;height:50vh}',""]),t.exports=a},b409:function(t,a,n){"use strict";var o=n("8831"),e=n.n(o);e.a},bd02:function(t,a,n){"use strict";var o=n("4345"),e=n.n(o);e.a},cf6c:function(t,a,n){"use strict";var o=n("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("4160"),n("159b"),n("d81d");var e=o(n("aa2a")),r=o(n("024c")),i={name:"index",methods:{drawMarker:function(){var t=this,a=new r.default.Icon({size:new r.default.Size(23,38),image:n("f023"),imageSize:new r.default.Size(23,38)});this.points.forEach((function(n,o){var e=new r.default.Marker({position:new r.default.LngLat(n.lng,n.lat),map:t.$amap,icon:a,touchZoom:!1}),i='<div style="color:#ffffff;width:22px;text-align:center;margin-top:2px;font-size:11px">'.concat(o+1,"</div>");new r.default.Marker({position:new r.default.LngLat(n.lng,n.lat),map:t.$amap,content:i,touchZoom:!1}),e.setExtData(n),e.on("click",t.markerClick)}))},markerClick:function(t){if(this.needClick){var a=t.target.getExtData();uni.navigateTo({url:"/pages/home/introduction/index?journeyPointId=".concat(a.journeyPointId)})}},drawPath:function(){var t=this.points.map((function(t){return new r.default.LngLat(t.lng,t.lat)})),a=new r.default.Polyline({path:t,showDir:!0,strokeWeight:5,strokeColor:"#FC5E51",lineJoin:"round",map:this.$amap});this.$amap.add(a)}},watch:{points:function(){this.$amap.clearMap(),this.drawDistrict(),this.drawPath(),this.drawMarker()}},props:{points:Array,needClick:{type:[Boolean,String],default:!1},mapClass:{type:String},mapInitObj:{type:Object}},mounted:function(){this.drawPath(),this.drawMarker()},mixins:[e.default]};a.default=i},f023:function(t,a,n){t.exports=n.p+"static/img/travel_mark.ec7b4603.png"}}]);