(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-original-travel-stroke-order-detail~pages-original-travel-stroke-order-index"],{"082c":function(t,e,a){var o=a("4bad");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-1ebcf4bc]{color:#333}.color-666[data-v-1ebcf4bc]{color:#666}.color-999[data-v-1ebcf4bc]{color:#999}.bg-color[data-v-1ebcf4bc]{background-color:#f7f7f7}.bg-white[data-v-1ebcf4bc]{background-color:#fff}.white-color[data-v-1ebcf4bc]{color:#fff}.primary-color[data-v-1ebcf4bc]{color:#f54400}.success-color[data-v-1ebcf4bc]{color:#0e130f}.warning-color[data-v-1ebcf4bc]{color:#f0ad4e}.error-color[data-v-1ebcf4bc]{color:#dd524d}.primary-text[data-v-1ebcf4bc]{color:#333}.secondary-text[data-v-1ebcf4bc]{color:#666}.tip-text[data-v-1ebcf4bc]{color:#999}.color-e32417[data-v-1ebcf4bc]{color:#e32417}.head-map-from[data-v-1ebcf4bc]{background:#fff}.head-map-from .route-select[data-v-1ebcf4bc]{height:%?74?%}.head-map-from .name[data-v-1ebcf4bc]{width:%?480?%}',""]),t.exports=e},"08f3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statusMap=e.transportationNameMap=e.activityNameMap=e.playTimeNameMap=e.transportationOptions=e.needLifeDocumentaryOptions=e.activityTypeOptions=e.playTimeOptions=void 0,a("dca8"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0");var o=Object.freeze([{id:"01",name:"半天"},{id:"02",name:"1天"},{id:"03",name:"2天"},{id:"04",name:"3天"}]);e.playTimeOptions=o;var n=Object.freeze([{id:"01",name:"党员活动"},{id:"02",name:"学习教育"},{id:"03",name:"观光游览"},{id:"04",name:"其他"}]);e.activityTypeOptions=n;var i=Object.freeze([{id:!0,name:"需要"},{id:!1,name:"不需要"}]);e.needLifeDocumentaryOptions=i;var r=Object.freeze([{id:"01",name:"包车"},{id:"02",name:"公共交通"},{id:"03",name:"自行前往"},{id:"04",name:"自驾"},{id:"05",name:"骑行"},{id:"06",name:"步行"}]);e.transportationOptions=r;var c=new Map([["01","半天"],["02","1天"],["03","2天"],["04","3天"]]);e.playTimeNameMap=c;var s=new Map([["01","党员活动"],["02","学习教育"],["03","观光游览"],["04","其他"]]);e.activityNameMap=s;var d=new Map([["01","包车"],["02","公共交通"],["03","自行前往"],["04","自驾"],["05","骑行"],["06","步行"]]);e.transportationNameMap=d;var l=Object.freeze(new Map([["01",{iconClass:"icon_baomingzhong",color:"#F54000"}],["02",{iconClass:"icon_jinhangzhong1",color:"#FFB319"}],["03",{iconClass:"icon_yijieshu",color:"#999999"}]]));e.statusMap=l},"0bf2":function(t,e,a){"use strict";var o=a("571f"),n=a.n(o);n.a},"119c":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={methods:{show:function(){this.isShow=!0},hide:function(){this.isShow=!1},onItem:function(t){this.$emit("update:selectedId",t.journeyLineId),this.$emit("onRouteItem",t),this.hide()},emitFirstSelectItem:function(){var t=this.selectedId,e=this.list;if(this.selectedId)for(var a=0;a<e.length;a++)if(e[a].journeyLineId===t)return void this.$emit("onRouteItem",e[a])},getRecommendJourneyLineList:function(){var t=this;this.$api.getRecommendJourneyLineList().then((function(e){if(e.isError)return t.$msg(e.message);var a=e.content;t.needCustomize&&a.push({journeyLineId:null,playTime:"01",name:"自定义"}),t.list=a,t.emitFirstSelectItem()}))}},props:{selectedId:String,needCustomize:Boolean,isDetail:Boolean},data:function(){return{isShow:!1,list:[]}},created:function(){this.isDetail||this.getRecommendJourneyLineList()}};e.default=o},"16c5":function(t,e,a){var o=a("4bad");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-5f669688]{color:#333}.color-666[data-v-5f669688]{color:#666}.color-999[data-v-5f669688]{color:#999}.bg-color[data-v-5f669688]{background-color:#f7f7f7}.bg-white[data-v-5f669688]{background-color:#fff}.white-color[data-v-5f669688]{color:#fff}.primary-color[data-v-5f669688]{color:#f54400}.success-color[data-v-5f669688]{color:#0e130f}.warning-color[data-v-5f669688]{color:#f0ad4e}.error-color[data-v-5f669688]{color:#dd524d}.primary-text[data-v-5f669688]{color:#333}.secondary-text[data-v-5f669688]{color:#666}.tip-text[data-v-5f669688]{color:#999}.color-e32417[data-v-5f669688]{color:#e32417}.map-wrap[data-v-5f669688]{position:relative}.map-wrap .mapVH60[data-v-5f669688]{width:100vw;height:60vh}.map-wrap .mapH400[data-v-5f669688]{width:92vw;height:%?400?%}.map-wrap .mapVH50[data-v-5f669688]{width:100vw;height:50vh}',""]),t.exports=e},2467:function(t,e,a){var o=a("4bad");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-5ed3ec10]{color:#333}.color-666[data-v-5ed3ec10]{color:#666}.color-999[data-v-5ed3ec10]{color:#999}.bg-color[data-v-5ed3ec10]{background-color:#f7f7f7}.bg-white[data-v-5ed3ec10]{background-color:#fff}.white-color[data-v-5ed3ec10]{color:#fff}.primary-color[data-v-5ed3ec10]{color:#f54400}.success-color[data-v-5ed3ec10]{color:#0e130f}.warning-color[data-v-5ed3ec10]{color:#f0ad4e}.error-color[data-v-5ed3ec10]{color:#dd524d}.primary-text[data-v-5ed3ec10]{color:#333}.secondary-text[data-v-5ed3ec10]{color:#666}.tip-text[data-v-5ed3ec10]{color:#999}.color-e32417[data-v-5ed3ec10]{color:#e32417}.popup .title[data-v-5ed3ec10]{position:relative;line-height:%?84?%;border-bottom:solid %?1?% #ddd}.popup .title .close[data-v-5ed3ec10]{position:absolute;top:%?32?%;right:%?32?%;color:#c7c7c7}.popup .list[data-v-5ed3ec10]{max-height:%?680?%;overflow:scroll}.popup .list .item[data-v-5ed3ec10]{height:%?99?%;border-bottom:solid %?3?% #eaeaea}.popup .list .selected[data-v-5ed3ec10]{color:#e32417}',""]),t.exports=e},2847:function(t,e,a){"use strict";var o=a("d1fd"),n=a.n(o);n.a},"2aba":function(t,e,a){"use strict";a.r(e);var o=a("119c"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},"34fc":function(t,e,a){"use strict";a.r(e);var o=a("cf6c"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},"548c":function(t,e,a){"use strict";a.r(e);var o=a("a437"),n=a("34fc");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("0bf2");var r,c=a("f0c5"),s=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,"5f669688",null,!1,o["a"],r);e["default"]=s.exports},"571f":function(t,e,a){var o=a("16c5");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("edd6dcb4",o,!0,{sourceMap:!1,shadowMode:!1})},"6f5a":function(t,e,a){"use strict";var o=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("dca8"),a("a15b"),a("d81d");var n=o(a("548c")),i=o(a("6f75")),r={methods:{onShowRouteSelect:function(){this.isDetail||this.$refs.selectRoutePop.show()},onRouteItem:function(t){var e=t.journeyLineId;if(this.selectRouteItem=t,this.$emit("update:journeyLineId",e),this.$emit("journeyLineChange",t),!t.journeyLineId)return this.points=[],uni.navigateTo({url:"/pages/original-travel/stroke-order/GetRedPoints"});this.getJourneyPointListByJourneyId(t.journeyLineId)},getJourneyPointListByJourneyId:function(t){var e=this,a={journeyLineId:t};this.$api.getJourneyPointListByJourneyId(a).then((function(t){if(t.isError)return e.$msg(t.message);e.points=t.content||[]}))}},props:{isDetail:Boolean,journeyLineName:String,journeyLineId:[String,Number],journeyPointList:{type:Array,default:function(){return[]}}},data:function(){return{journeyLineIdCache:this.journeyLineId,selectRouteItem:{},mapInitObj:Object.freeze({resizeEnable:!0,zoom:9,zooms:[9,19],center:[119.365056,30.194302]}),points:[]}},computed:{pointsName:function(){return this.usePoints.map((function(t){return t.name})).join(" - ")},usePoints:function(){return this.$isEmpty(this.points)?this.journeyPointList:this.points}},components:{Map:n.default,SelectRoutePop:i.default}};e.default=r},"6f75":function(t,e,a){"use strict";a.r(e);var o=a("a8f9"),n=a("2aba");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("c05a");var r,c=a("f0c5"),s=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,"5ed3ec10",null,!1,o["a"],r);e["default"]=s.exports},"804b":function(t,e,a){"use strict";var o;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"head-map-from mt20 pl30 pr30"},[a("div",{staticClass:"route-select between-row center-align mb4",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onShowRouteSelect.apply(void 0,arguments)}}},[t._m(0),t.isDetail?a("span"):a("div",{staticClass:"center-align"},[a("span",{staticClass:"ft24",staticStyle:{color:"#518CFC"}},[t._v("自定义行程")]),a("svg-icon",{staticClass:"ft20 ml8",staticStyle:{color:"#C4C4C4"},attrs:{icon:"icon_xiangyoujiantou"}})],1)]),a("div",{staticClass:"flex1 ft30 ellipsis-text name"},[t._v(t._s(t.selectRouteItem.name||t.journeyLineName))]),a("div",{staticClass:"pt14 pb20 ft26 color-666 bb"},[t._v(t._s(t.pointsName))]),a("div",{staticClass:"map"},[a("Map",{attrs:{mapInitObj:t.mapInitObj,mapClass:"mapH400",points:t.usePoints}})],1)]),a("select-route-pop",{ref:"selectRoutePop",attrs:{isDetail:t.isDetail,needCustomize:!0,selectedId:t.journeyLineIdCache},on:{"update:selectedId":function(e){arguments[0]=e=t.$handleEvent(e),t.journeyLineIdCache=e},"update:selected-id":function(e){arguments[0]=e=t.$handleEvent(e),t.journeyLineIdCache=e},onRouteItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onRouteItem.apply(void 0,arguments)}}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex1 center-align"},[a("div",{staticClass:"ft30 mr24 bold"},[t._v("行程路线")])])}]},"838d":function(t,e,a){var o=a("2467");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("6628e819",o,!0,{sourceMap:!1,shadowMode:!1})},a437:function(t,e,a){"use strict";var o;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-wrap"},[a("div",{class:t.mapClass,attrs:{id:"map"}})])},i=[]},a8f9:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o}));var o={uPopup:a("df25").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("u-popup",{attrs:{"border-radius":"30",maxHeight:"834",mode:"bottom"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-uni-view",{staticClass:"popup"},[a("v-uni-view",{staticClass:"tc title"},[a("v-uni-text",{staticClass:"ft34 medium"},[t._v("选择行程线路")]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hide.apply(void 0,arguments)}}},[a("svg-icon",{staticClass:"color-999 ft24 close",attrs:{icon:"icon_cha"}})],1)],1),a("v-uni-scroll-view",{staticClass:"list pl30 pr30",attrs:{"scroll-y":!0}},t._l(t.list,(function(e,o){return a("v-uni-view",{key:o,staticClass:"item between-row center-align",class:e.journeyLineId===t.selectedId&&"selected",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onItem(e)}}},[a("v-uni-text",{staticClass:"ft28"},[t._v(t._s(e.name))]),e.journeyLineId===t.selectedId?a("svg-icon",{staticClass:"ft28 mt4",attrs:{icon:"icon_duihao"}}):t._e()],1)})),1)],1)],1)},i=[]},aa2a:function(t,e,a){"use strict";var o=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("841c");var n=o(a("024c")),i={data:function(){return{$amap:null}},methods:{drawDistrict:function(){var t=this;n.default.plugin("AMap.DistrictSearch",(function(){new n.default.DistrictSearch({extensions:"all",subdistrict:0}).search("临安区",(function(e,a){var o=[new n.default.LngLat(-360,90,!0),new n.default.LngLat(-360,-90,!0),new n.default.LngLat(360,-90,!0),new n.default.LngLat(360,90,!0)],i=a.districtList[0].boundaries,r=[o];r.push.apply(r,i);var c=new n.default.Polygon({pathL:r,strokeColor:"#FD9124",strokeWeight:1.5,fillColor:"rgba(10,133,238,0.28)"});c.setPath(r),t.$amap.add(c)}))}))}},mounted:function(){this.$amap=new n.default.Map("map",this.mapInitObj)}},r=i;e.default=r},b7b9:function(t,e,a){"use strict";a.r(e);var o=a("804b"),n=a("dc0a");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("2847");var r,c=a("f0c5"),s=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,"1ebcf4bc",null,!1,o["a"],r);e["default"]=s.exports},c05a:function(t,e,a){"use strict";var o=a("838d"),n=a.n(o);n.a},cf6c:function(t,e,a){"use strict";var o=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("26e9"),a("4160"),a("159b"),a("d81d");var n=o(a("aa2a")),i=o(a("024c")),r=null,c={name:"index",methods:{drawMarker:function(){var t=this,e=new i.default.Icon({size:new i.default.Size(23,38),image:a("f023"),imageSize:new i.default.Size(23,38)}),o=JSON.parse(JSON.stringify(this.points));o.reverse(),r=new i.default.OverlayGroup,o.forEach((function(a,n){var c=new i.default.Marker({position:new i.default.LngLat(a.lng,a.lat),map:t.$amap,animation:"AMAP_ANIMATION_DROP",icon:e,touchZoom:!1}),s='<div style="color:#ffffff;width:22px;text-align:center;margin-top:2px;font-size:11px">'.concat(o.length-n,"</div>");new i.default.Marker({position:new i.default.LngLat(a.lng,a.lat),map:t.$amap,animation:"AMAP_ANIMATION_DROP",content:s,touchZoom:!1}),r.addOverlay(c),c.setExtData(a),c.on("click",t.markerClick)}))},markerClick:function(t){if(this.needClick){var e=t.target.getExtData();uni.navigateTo({url:"/pages/original-travel/introduction/index?journeyPointId=".concat(e.journeyPointId)})}},drawPath:function(){var t=this.points.map((function(t){return new i.default.LngLat(t.lng,t.lat)})),e=new i.default.Polyline({path:t,showDir:!0,strokeWeight:5,strokeColor:"#FC5E51",lineJoin:"round",map:this.$amap});r.addOverlay(e),this.$amap.add(e)}},watch:{points:function(){r&&(r.hide(),r.clearOverlays()),this.drawMarker(),this.drawPath()}},props:{points:Array,needClick:{type:[Boolean,String],default:!1},mapClass:{type:String},mapInitObj:{type:Object}},mounted:function(){this.drawDistrict()},mixins:[n.default]};e.default=c},d1fd:function(t,e,a){var o=a("082c");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("e9faf03a",o,!0,{sourceMap:!1,shadowMode:!1})},dc0a:function(t,e,a){"use strict";a.r(e);var o=a("6f5a"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},f023:function(t,e,a){t.exports=a.p+"static/img/travel_mark.ec7b4603.png"}}]);