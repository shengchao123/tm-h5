(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-personal-settings-index"],{"22d2":function(a,t,o){"use strict";o.r(t);var e=o("c80a"),n=o.n(e);for(var r in e)["default"].indexOf(r)<0&&function(a){o.d(t,a,(function(){return e[a]}))}(r);t["default"]=n.a},"2a624":function(a,t,o){var e=o("382c");"string"===typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);var n=o("4f06").default;n("395b706a",e,!0,{sourceMap:!1,shadowMode:!1})},"382c":function(a,t,o){var e=o("4bad");t=e(!1),t.push([a.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-ff9dd99c]{color:#333}.color-666[data-v-ff9dd99c]{color:#666}.color-999[data-v-ff9dd99c]{color:#999}.bg-color[data-v-ff9dd99c]{background-color:#f7f7f7}.bg-white[data-v-ff9dd99c]{background-color:#fff}.white-color[data-v-ff9dd99c]{color:#fff}.primary-color[data-v-ff9dd99c]{color:#f54400}.success-color[data-v-ff9dd99c]{color:#0e130f}.warning-color[data-v-ff9dd99c]{color:#f0ad4e}.error-color[data-v-ff9dd99c]{color:#dd524d}.primary-text[data-v-ff9dd99c]{color:#333}.secondary-text[data-v-ff9dd99c]{color:#666}.tip-text[data-v-ff9dd99c]{color:#999}.color-e32417[data-v-ff9dd99c]{color:#e32417}.u-mask[data-v-ff9dd99c]{position:fixed;top:0;left:0;right:0;bottom:0;opacity:0;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.u-mask-show[data-v-ff9dd99c]{opacity:1}.u-mask-zoom[data-v-ff9dd99c]{-webkit-transform:scale(1.2);transform:scale(1.2)}',""]),a.exports=t},5028:function(a,t,o){var e=o("4bad");t=e(!1),t.push([a.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-37a20226]{color:#333}.color-666[data-v-37a20226]{color:#666}.color-999[data-v-37a20226]{color:#999}.bg-color[data-v-37a20226]{background-color:#f7f7f7}.bg-white[data-v-37a20226]{background-color:#fff}.white-color[data-v-37a20226]{color:#fff}.primary-color[data-v-37a20226]{color:#f54400}.success-color[data-v-37a20226]{color:#0e130f}.warning-color[data-v-37a20226]{color:#f0ad4e}.error-color[data-v-37a20226]{color:#dd524d}.primary-text[data-v-37a20226]{color:#333}.secondary-text[data-v-37a20226]{color:#666}.tip-text[data-v-37a20226]{color:#999}.color-e32417[data-v-37a20226]{color:#e32417}uni-page-body[data-v-37a20226]{background:#f7f7f7;height:100%}.h100[data-v-37a20226]{height:%?100?%}.upload-icon[data-v-37a20226]{width:%?100?%;height:%?88?%;line-height:%?88?%;position:absolute;right:%?-72?%}.member-avator[data-v-37a20226]{width:%?68?%;height:%?68?%;border-radius:%?68?%;margin-right:%?28?%}.member-big-avator[data-v-37a20226]{width:100%}body.?%PAGE?%[data-v-37a20226]{background:#f7f7f7}',""]),a.exports=t},"68de":function(a,t,o){"use strict";var e=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(o("5530"));o("a9e3"),o("b64b");var r={name:"u-mask",props:{show:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:""},customStyle:{type:Object,default:function(){return{}}},zoom:{type:Boolean,default:!0},duration:{type:[Number,String],default:300},maskClickAble:{type:Boolean,default:!0}},data:function(){return{zoomStyle:{transform:""},scale:"scale(1.2, 1.2)"}},watch:{show:function(a){a&&this.zoom?this.zoomStyle.transform="scale(1, 1)":!a&&this.zoom&&(this.zoomStyle.transform=this.scale)}},computed:{maskStyle:function(){var a={backgroundColor:"rgba(0, 0, 0, 0.6)"};return this.show?a.zIndex=this.zIndex?this.zIndex:this.$u.zIndex.mask:a.zIndex=-1,a.transition="all ".concat(this.duration/1e3,"s ease-in-out"),Object.keys(this.customStyle).length&&(a=(0,n.default)((0,n.default)({},a),this.customStyle)),a}},methods:{click:function(){this.maskClickAble&&this.$emit("click")}}};t.default=r},"8c4e":function(a,t,o){"use strict";o.r(t);var e=o("f871"),n=o("22d2");for(var r in n)["default"].indexOf(r)<0&&function(a){o.d(t,a,(function(){return n[a]}))}(r);o("b02a");var i,c=o("f0c5"),s=Object(c["a"])(n["default"],e["b"],e["c"],!1,null,"37a20226",null,!1,e["a"],i);t["default"]=s.exports},a0c4:function(a,t,o){"use strict";o.r(t);var e=o("b0e1"),n=o("d429");for(var r in n)["default"].indexOf(r)<0&&function(a){o.d(t,a,(function(){return n[a]}))}(r);o("f3fb");var i,c=o("f0c5"),s=Object(c["a"])(n["default"],e["b"],e["c"],!1,null,"ff9dd99c",null,!1,e["a"],i);t["default"]=s.exports},b02a:function(a,t,o){"use strict";var e=o("ff86"),n=o.n(e);n.a},b0e1:function(a,t,o){"use strict";var e;o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return e}));var n=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("v-uni-view",{staticClass:"u-mask",class:{"u-mask-zoom":a.zoom,"u-mask-show":a.show},style:[a.maskStyle,a.zoomStyle],attrs:{"hover-stop-propagation":!0},on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=a.$handleEvent(t),function(){}.apply(void 0,arguments)},click:function(t){arguments[0]=t=a.$handleEvent(t),a.click.apply(void 0,arguments)}}},[a._t("default")],2)},r=[]},c80a:function(a,t,o){"use strict";var e=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o("dca8"),o("a15b"),o("a434");var n=o("b893"),r=e(o("c230")),i={name:"index",methods:{onInfoItem:function(a){if("phone"!==a&&"labelList"!==a&&("orgName"!==a||!this.formData.isRealName)){var t="nick"===a?"/pages/mine/personal-settings/EditNick?nick=".concat(this.formData.nick):"/pages/mine/real-name/index";uni.navigateTo({url:t})}},myUpload:function(a){var t=a.path;this.uploadAvatar(t)},uploadAvatar:function(a){var t=this;this.$api.uploadAvatar(a).then((function(a){t.formData.avatar=a.filePaths[0];var o={avatar:a.filePaths[0]};t.modifyMemberPersonalInfo(o)}))},changeAvatar:function(){var a=this;a.$refs.avatar.fChooseImg({selWidth:"500rpx",selHeight:"500rpx",expWidth:"2000rpx",expHeight:"2000rpx",canRotate:!1,quality:1})},onBigAvatar:function(){this.isShowBigAvatar=!this.isShowBigAvatar},modifyMemberPersonalInfo:function(a){var t=this;this.$api.modifyMemberPersonalInfo(a).then((function(a){if(a.isError)return t.$msg(a.message);t.getMemberPersonalInfo()}))},getMemberPersonalInfo:function(){var a=this;this.$api.getMemberPersonalInfo().then((function(t){var o;if(t.isError)return a.$msg(t.message);a.formData=null!==(o=null===t||void 0===t?void 0:t.content)&&void 0!==o?o:{}}))}},data:function(){return{formData:{},isShowBigAvatar:!1,infoProps:Object.freeze([{name:"昵称",prop:"nick"},{name:"身份",prop:"labelList"},{name:"绑定手机",prop:"phone"},{name:"实名认证",prop:"orgName"}]),realNameProp:Object.freeze([{name:"姓名",prop:"name"},{name:"党建联盟",prop:"orgName"}]),avatarUrl:n.avatarUrl}},computed:{maskCustomStyle:function(){var a={background:"rgba(0, 0, 0, 0.4)"};return a},isInfoShow:function(){var a=this;return function(t){return"labelList"!==t||!a.$isEmpty(a.formData.labelList)}},isClickShow:function(){var a=this;return function(t){return"nick"===t||"orgName"===t&&!a.formData.isRealName}},infoText:function(){var a=this;return function(t){var o=a.formData,e=o.isRealName,n=o.labelList;return"orgName"===t?e?"已认证":"未认证":("labelList"===t&&n.splice(0,2).join("、"),a.formData[t])}}},components:{avatar:r.default},onShow:function(){this.getMemberPersonalInfo()}};t.default=i},d429:function(a,t,o){"use strict";o.r(t);var e=o("68de"),n=o.n(e);for(var r in e)["default"].indexOf(r)<0&&function(a){o.d(t,a,(function(){return e[a]}))}(r);t["default"]=n.a},dca8:function(a,t,o){var e=o("23e7"),n=o("bb2f"),r=o("d039"),i=o("861d"),c=o("f183").onFreeze,s=Object.freeze,f=r((function(){s(1)}));e({target:"Object",stat:!0,forced:f,sham:!n},{freeze:function(a){return s&&i(a)?s(c(a)):a}})},f3fb:function(a,t,o){"use strict";var e=o("2a624"),n=o.n(e);n.a},f871:function(a,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return e}));var e={uMask:o("a0c4").default},n=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("v-uni-view",{staticClass:"tb"},[o("v-uni-view",{staticClass:"pl30 pr30 bg-white ft30"},[o("v-uni-view",{staticClass:"between-row h100 bb center-align"},[o("v-uni-text",{staticClass:"flex1 h100 center-align bold"},[a._v("头像")]),o("v-uni-view",{staticClass:"center-align color-999 relative"},[o("img",{staticClass:"member-avator",attrs:{src:a.avatarUrl(a.formData.avatar),mode:"scaleToFill"},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.onBigAvatar.apply(void 0,arguments)}}}),o("v-uni-view",{staticClass:"upload-icon",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.changeAvatar.apply(void 0,arguments)}}},[o("svg-icon",{staticClass:"ft20 ml8 relative",attrs:{icon:"icon_xiangyoujiantou"}})],1),o("avatar",{ref:"avatar",staticStyle:{width:"0",height:"0"},on:{upload:function(t){arguments[0]=t=a.$handleEvent(t),a.myUpload.apply(void 0,arguments)}}})],1)],1),a._l(a.infoProps,(function(t,e){return[a.isInfoShow(t.prop)?o("v-uni-view",{key:e,staticClass:"between-row h100 center-align",class:3!==e&&"bb"},[o("v-uni-text",{staticClass:"flex1 bold"},[a._v(a._s(t.name))]),o("v-uni-view",{staticClass:"center-align color-999",on:{click:function(o){arguments[0]=o=a.$handleEvent(o),a.onInfoItem(t.prop)}}},[o("v-uni-text",[a._v(a._s(a.infoText(t.prop)))]),a.isClickShow(t.prop)?o("svg-icon",{staticClass:"ft20 ml8 mt4",attrs:{icon:"icon_xiangyoujiantou"}}):a._e()],1)],1):a._e()]})),o("v-uni-view",{staticClass:"pt12 pb32 color-999 ft26"},[a.formData.isRealName?a._l(a.realNameProp,(function(t,e){return o("v-uni-view",{key:e,class:0===e&&"mb20"},[o("v-uni-text",[a._v(a._s(t.name)+"：")]),o("v-uni-text",{staticClass:"color-333"},[a._v(a._s(a.formData[t.prop]))])],1)})):o("v-uni-text",[a._v("认证后可在论坛发布帖子，可报名参加联盟活动")])],2)],2),o("u-mask",{attrs:{show:a.isShowBigAvatar,"custom-style":a.maskCustomStyle},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.onBigAvatar.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"center-align",staticStyle:{height:"100%"}},[o("img",{staticClass:"member-big-avator",attrs:{src:a.avatarUrl(a.formData.avatar),mode:"widthFix"}})])],1)],1)},r=[]},ff86:function(a,t,o){var e=o("5028");"string"===typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);var n=o("4f06").default;n("8581c8f4",e,!0,{sourceMap:!1,shadowMode:!1})}}]);