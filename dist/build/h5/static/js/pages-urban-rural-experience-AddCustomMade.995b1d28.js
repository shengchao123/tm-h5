(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-urban-rural-experience-AddCustomMade"],{"168a":function(t,a,e){var o=e("4bad");a=o(!1),a.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-primary[data-v-0cbb1e85]{color:#3049c0}.color-333[data-v-0cbb1e85]{color:#333}.color-666[data-v-0cbb1e85]{color:#666}.color-999[data-v-0cbb1e85]{color:#999}.bg-color[data-v-0cbb1e85]{background-color:#f7f7f7}.bg-white[data-v-0cbb1e85]{background-color:#fff}.white-color[data-v-0cbb1e85]{color:#fff}.primary-color[data-v-0cbb1e85]{color:#f54400}.success-color[data-v-0cbb1e85]{color:#0e130f}.warning-color[data-v-0cbb1e85]{color:#f0ad4e}.error-color[data-v-0cbb1e85]{color:#dd524d}.primary-text[data-v-0cbb1e85]{color:#333}.secondary-text[data-v-0cbb1e85]{color:#666}.tip-text[data-v-0cbb1e85]{color:#999}.color-e32417[data-v-0cbb1e85]{color:#e32417}.wrap .footer-btn[data-v-0cbb1e85]{position:fixed;bottom:0;left:0;right:0;height:%?128?%;background:#fff}.wrap .footer-btn .submit[data-v-0cbb1e85]{width:100%;height:%?98?%;line-height:%?98?%;border-radius:%?50?%;background:#e32417;color:#fff}.wrap .footer-btn .disabled[data-v-0cbb1e85]{background:#ccc}.wrap[data-v-0cbb1e85] .uni-textarea-placeholder{overflow:inherit}',""]),t.exports=a},3514:function(t,a,e){"use strict";var o=e("a52d"),r=e.n(o);r.a},"4d25":function(t,a,e){"use strict";var o=e("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=o(e("5530")),n={methods:{onSubmit:function(){var t=this;this.$refs.form.validate((function(a){a&&(t.journeyPlayCustomizationId?t.modifyJourneyPlayCustomizationInfoById():t.createJourneyPlayCustomization())}))},createJourneyPlayCustomization:function(){var t=this,a=(0,r.default)({},this.form.data);this.$api.createJourneyPlayCustomization(a).then((function(a){if(a.isError)return t.$msg(a.message);t.$msg("定制发布成功"),setTimeout((function(){uni.navigateBack()}),500)}))},modifyJourneyPlayCustomizationInfoById:function(){var t=this,a=(0,r.default)({journeyPlayCustomizationId:this.journeyPlayCustomizationId},this.form.data);this.$api.modifyJourneyPlayCustomizationInfoById(a).then((function(a){if(a.isError)return t.$msg(a.message);t.$msg("定制编辑成功"),setTimeout((function(){uni.$emit("editCustomMadeOver"),uni.navigateBack()}),500)}))},setFormData:function(t){var a=t.contactPhone,e=t.demand,o=t.peopleQuantity,r=t.playDays;this.form.data={peopleQuantity:o+"",playDays:r+"",contactPhone:a+"",demand:e}},getJourneyPlayCustomizationInfoById:function(t){var a=this,e={journeyPlayCustomizationId:t};this.$api.getJourneyPlayCustomizationInfoById(e).then((function(t){if(t.isError)return a.$msg(t.message);a.setFormData(t.content)}))}},data:function(){var t=this,a=function(a,e,o){return e?t.$u.test.mobile(e)?void o():o(new Error("手机号不正确")):o(new Error("输入电话"))};return{journeyPlayCustomizationId:null,form:{data:{peopleQuantity:null,playDays:null,contactPhone:null,demand:""},rules:{peopleQuantity:[{required:!0,message:"输入人数",trigger:["change","blur"]}],playDays:[{required:!0,message:"输入游玩天数",trigger:["change","blur"]}],contactPhone:[{required:!0,trigger:["change","blur"],validator:a}],demand:[{required:!0,message:"输入定制需求",trigger:["change","blur"]}]}}}},computed:{isDisabled:function(){var t=this.form.data,a=t.peopleQuantity,e=t.playDays,o=t.contactPhone,r=t.demand;return!(a&&e&&o&&r)}},onReady:function(){this.$refs.form.setRules(this.form.rules)},onLoad:function(t){var a=t.id;a&&(this.journeyPlayCustomizationId=a,this.getJourneyPlayCustomizationInfoById(a))}};a.default=n},"5aa1":function(t,a,e){"use strict";e.r(a);var o=e("4d25"),r=e.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return o[t]}))}(n);a["default"]=r.a},7033:function(t,a,e){var o=e("168a");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var r=e("4f06").default;r("3f73602c",o,!0,{sourceMap:!1,shadowMode:!1})},"759b":function(t,a,e){"use strict";e.r(a);var o=e("b90f"),r=e("5aa1");for(var n in r)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return r[t]}))}(n);e("3514"),e("8b0d");var i,c=e("f0c5"),l=Object(c["a"])(r["default"],o["b"],o["c"],!1,null,"0cbb1e85",null,!1,o["a"],i);a["default"]=l.exports},"8b0d":function(t,a,e){"use strict";var o=e("7033"),r=e.n(o);r.a},"959e":function(t,a,e){var o=e("4bad");a=o(!1),a.push([t.i,"uni-page-body[data-v-0cbb1e85]{background:#f7f7f7}body.?%PAGE?%[data-v-0cbb1e85]{background:#f7f7f7}",""]),t.exports=a},a52d:function(t,a,e){var o=e("959e");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var r=e("4f06").default;r("ca0d51c6",o,!0,{sourceMap:!1,shadowMode:!1})},b90f:function(t,a,e){"use strict";e.d(a,"b",(function(){return r})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){return o}));var o={uForm:e("aa8f").default,uFormItem:e("e0a3").default,uInput:e("d5da").default},r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("u-form",{ref:"form",attrs:{model:t.form.data}},[e("div",{staticClass:"pl32 pr32 bg-white"},[e("u-form-item",{attrs:{label:"人数","label-width":"192",prop:"peopleQuantity"}},[e("u-input",{attrs:{type:"number",placeholder:"输入人数"},model:{value:t.form.data.peopleQuantity,callback:function(a){t.$set(t.form.data,"peopleQuantity",a)},expression:"form.data.peopleQuantity"}})],1),e("u-form-item",{attrs:{label:"游玩天数","label-width":"192",prop:"playDays"}},[e("div",{staticClass:"between-row flex1"},[e("u-input",{attrs:{type:"number",placeholder:"输入游玩天数"},model:{value:t.form.data.playDays,callback:function(a){t.$set(t.form.data,"playDays",a)},expression:"form.data.playDays"}}),e("span",{staticClass:"ft24 color-999 ml8"},[t._v("天")])],1)]),e("u-form-item",{attrs:{label:"联系电话","label-width":"192","border-bottom":!1,prop:"contactPhone"}},[e("u-input",{attrs:{type:"number",placeholder:"输入电话"},model:{value:t.form.data.contactPhone,callback:function(a){t.$set(t.form.data,"contactPhone",a)},expression:"form.data.contactPhone"}})],1)],1),e("div",{staticClass:"pl32 pr32 ft22 color-999",staticStyle:{height:"62rpx","line-height":"62rpx"}},[t._v("*只有符合条件商家接单后才能看到您的联系方式，以做进一步沟通")]),e("div",{staticClass:"pl32 pr32 bg-white"},[e("u-form-item",{attrs:{label:"定制需求","label-position":"top","border-bottom":!1,prop:"demand"}},[e("div",{staticClass:"flex1"},[e("u-input",{attrs:{type:"textarea",height:"160",maxlength:"200",placeholder:"说说您的需求，比如您的出行方式，需要体验哪些活动等，以获取更合适的服务"},model:{value:t.form.data.demand,callback:function(a){t.$set(t.form.data,"demand",a)},expression:"form.data.demand"}}),e("div",{staticClass:"ft22 color-999",staticStyle:{"text-align":"right","line-height":"24rpx"}},[t._v(t._s(t.form.data.demand.length)+"/200")])],1)])],1)]),e("div",{staticClass:"footer-btn pl32 pr32"},[e("div",{staticClass:"submit tc mt16 ft32 medium",class:t.isDisabled&&"disabled",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onSubmit.apply(void 0,arguments)}}},[t._v("提交")])])],1)},n=[]}}]);