(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-original-travel-stroke-order-detail~pages-original-travel-stroke-order-index"],{"0773":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-9da397f2]{color:#333}.color-666[data-v-9da397f2]{color:#666}.color-999[data-v-9da397f2]{color:#999}.bg-color[data-v-9da397f2]{background-color:#f7f7f7}.bg-white[data-v-9da397f2]{background-color:#fff}.white-color[data-v-9da397f2]{color:#fff}.primary-color[data-v-9da397f2]{color:#f54400}.success-color[data-v-9da397f2]{color:#0e130f}.warning-color[data-v-9da397f2]{color:#f0ad4e}.error-color[data-v-9da397f2]{color:#dd524d}.primary-text[data-v-9da397f2]{color:#333}.secondary-text[data-v-9da397f2]{color:#666}.tip-text[data-v-9da397f2]{color:#999}.color-e32417[data-v-9da397f2]{color:#e32417}.head-map-from[data-v-9da397f2]{background:#fff}.head-map-from .route-select[data-v-9da397f2]{height:%?74?%}.head-map-from .name[data-v-9da397f2]{width:%?480?%}.head-map-from .map .reset-btn[data-v-9da397f2]{position:absolute;bottom:%?15?%;left:%?15?%;width:%?64?%;height:%?64?%;background:#fff;box-shadow:0 %?-6?% %?17?% 0 rgba(0,0,0,.1);border-radius:%?12?%}',""]),e.exports=t},"08f3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statusMap=t.transportationNameMap=t.activityNameMap=t.playTimeNameMap=t.serviceContentOptions=t.appropriateCrowdOptions=t.transportationOptions=t.needLifeDocumentaryOptions=t.activityTypeOptions=t.playTimeOptions=void 0,a("dca8"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0");var n=Object.freeze([{id:"01",name:"半天"},{id:"02",name:"1天"},{id:"03",name:"2天"},{id:"04",name:"3天"}]);t.playTimeOptions=n;var i=Object.freeze([{id:"01",name:"党员活动"},{id:"02",name:"学习教育"},{id:"03",name:"观光游览"},{id:"04",name:"其他"}]);t.activityTypeOptions=i;var o=Object.freeze([{id:!0,name:"需要"},{id:!1,name:"不需要"}]);t.needLifeDocumentaryOptions=o;var r=Object.freeze([{id:"01",name:"包车"},{id:"02",name:"公共交通"},{id:"03",name:"自行前往"},{id:"04",name:"自驾"},{id:"05",name:"骑行"},{id:"06",name:"步行"}]);t.transportationOptions=r;var c=[{id:"01",name:"家庭游",isSelected:!1},{id:"02",name:"亲子游",isSelected:!1},{id:"03",name:"团建拓展",isSelected:!1},{id:"04",name:"朋友聚会",isSelected:!1},{id:"05",name:"情侣游",isSelected:!1},{id:"06",name:"夕阳红",isSelected:!1}];t.appropriateCrowdOptions=c;var s=[{id:"01",name:"吃饭",isSelected:!1},{id:"02",name:"住宿",isSelected:!1},{id:"03",name:"免费停车",isSelected:!1},{id:"04",name:"烧烤",isSelected:!1},{id:"05",name:"采摘",isSelected:!1},{id:"06",name:"钓鱼",isSelected:!1},{id:"07",name:"骑马",isSelected:!1},{id:"08",name:"戏水",isSelected:!1},{id:"09",name:"露营",isSelected:!1}];t.serviceContentOptions=s;var d=new Map([["01","半天"],["02","1天"],["03","2天"],["04","3天"]]);t.playTimeNameMap=d;var l=new Map([["01","党员活动"],["02","学习教育"],["03","观光游览"],["04","其他"]]);t.activityNameMap=l;var u=new Map([["01","包车"],["02","公共交通"],["03","自行前往"],["04","自驾"],["05","骑行"],["06","步行"]]);t.transportationNameMap=u;var f=Object.freeze(new Map([["01",{text:"报名中",color:"#F54000"}],["02",{text:"进行中",color:"#FFB319"}],["03",{text:"已结束",color:"#999999"}]]));t.statusMap=f},"119c":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={methods:{show:function(){this.isShow=!0},hide:function(){this.isShow=!1},onItem:function(e){this.$emit("update:selectedId",e.journeyLineId),this.$emit("onRouteItem",e),this.hide()},emitFirstSelectItem:function(){var e=this.selectedId,t=this.list;if(this.selectedId)for(var a=0;a<t.length;a++)if(t[a].journeyLineId===e)return void this.$emit("onRouteItem",t[a])},getRecommendJourneyLineList:function(){var e=this;this.$api.getRecommendJourneyLineList().then((function(t){if(t.isError)return e.$msg(t.message);var a=t.content;e.needCustomize&&a.push({journeyLineId:null,playTime:"01",name:"自定义"}),e.list=a,e.emitFirstSelectItem()}))}},props:{selectedId:String,needCustomize:Boolean,isDetail:Boolean},data:function(){return{isShow:!1,list:[]}},created:function(){this.isDetail||this.getRecommendJourneyLineList()}};t.default=n},"1f6a":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-9c4cd1f0]{color:#333}.color-666[data-v-9c4cd1f0]{color:#666}.color-999[data-v-9c4cd1f0]{color:#999}.bg-color[data-v-9c4cd1f0]{background-color:#f7f7f7}.bg-white[data-v-9c4cd1f0]{background-color:#fff}.white-color[data-v-9c4cd1f0]{color:#fff}.primary-color[data-v-9c4cd1f0]{color:#f54400}.success-color[data-v-9c4cd1f0]{color:#0e130f}.warning-color[data-v-9c4cd1f0]{color:#f0ad4e}.error-color[data-v-9c4cd1f0]{color:#dd524d}.primary-text[data-v-9c4cd1f0]{color:#333}.secondary-text[data-v-9c4cd1f0]{color:#666}.tip-text[data-v-9c4cd1f0]{color:#999}.color-e32417[data-v-9c4cd1f0]{color:#e32417}.map-wrap[data-v-9c4cd1f0]{position:relative}.map-wrap .mapVH60[data-v-9c4cd1f0]{width:100vw;height:60vh}.map-wrap .mapH400[data-v-9c4cd1f0]{width:92vw;height:%?400?%}.map-wrap .mapVH50[data-v-9c4cd1f0]{width:100vw;height:50vh}',""]),e.exports=t},2467:function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-5ed3ec10]{color:#333}.color-666[data-v-5ed3ec10]{color:#666}.color-999[data-v-5ed3ec10]{color:#999}.bg-color[data-v-5ed3ec10]{background-color:#f7f7f7}.bg-white[data-v-5ed3ec10]{background-color:#fff}.white-color[data-v-5ed3ec10]{color:#fff}.primary-color[data-v-5ed3ec10]{color:#f54400}.success-color[data-v-5ed3ec10]{color:#0e130f}.warning-color[data-v-5ed3ec10]{color:#f0ad4e}.error-color[data-v-5ed3ec10]{color:#dd524d}.primary-text[data-v-5ed3ec10]{color:#333}.secondary-text[data-v-5ed3ec10]{color:#666}.tip-text[data-v-5ed3ec10]{color:#999}.color-e32417[data-v-5ed3ec10]{color:#e32417}.popup .title[data-v-5ed3ec10]{position:relative;line-height:%?84?%;border-bottom:solid %?1?% #ddd}.popup .title .close[data-v-5ed3ec10]{position:absolute;top:%?32?%;right:%?32?%;color:#c7c7c7}.popup .list[data-v-5ed3ec10]{max-height:%?680?%;overflow:scroll}.popup .list .item[data-v-5ed3ec10]{height:%?99?%;border-bottom:solid %?3?% #eaeaea}.popup .list .selected[data-v-5ed3ec10]{color:#e32417}',""]),e.exports=t},"2aba":function(e,t,a){"use strict";a.r(t);var n=a("119c"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"34fc":function(e,t,a){"use strict";a.r(t);var n=a("cf6c"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"3df2":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-wrap"},[a("div",{class:e.mapClass,attrs:{id:"map"}})])},o=[]},"4ec9":function(e,t,a){"use strict";var n=a("6d61"),i=a("6566");e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"548c":function(e,t,a){"use strict";a.r(t);var n=a("3df2"),i=a("34fc");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("e425");var r,c=a("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"9c4cd1f0",null,!1,n["a"],r);t["default"]=s.exports},6566:function(e,t,a){"use strict";var n=a("9bf2").f,i=a("7c73"),o=a("e2cc"),r=a("0366"),c=a("19aa"),s=a("2266"),d=a("7dd0"),l=a("2626"),u=a("83ab"),f=a("f183").fastKey,p=a("69f3"),v=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,a,d){var l=e((function(e,n){c(e,l,t),v(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=n&&s(n,e[d],{that:e,AS_ENTRIES:a})})),p=m(t),h=function(e,t,a){var n,i,o=p(e),r=g(e,t);return r?r.value=a:(o.last=r={index:i=f(t,!0),key:t,value:a,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=r),n&&(n.next=r),u?o.size++:e.size++,"F"!==i&&(o.index[i]=r)),e},g=function(e,t){var a,n=p(e),i=f(t);if("F"!==i)return n.index[i];for(a=n.first;a;a=a.next)if(a.key==t)return a};return o(l.prototype,{clear:function(){var e=this,t=p(e),a=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete a[n.index],n=n.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,a=p(t),n=g(t,e);if(n){var i=n.next,o=n.previous;delete a.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),a.first==n&&(a.first=i),a.last==n&&(a.last=o),u?a.size--:t.size--}return!!n},forEach:function(e){var t,a=p(this),n=r(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),o(l.prototype,a?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),u&&n(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(e,t,a){var n=t+" Iterator",i=m(t),o=m(n);d(e,t,(function(e,t){v(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),l(t)}}},"6f5a":function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d81d"),a("a9e3"),a("dca8"),a("a15b");var i=n(a("548c")),o=n(a("6f75")),r={methods:{resetMap:function(){var e=this.$refs.map;e&&e.resetMap()},onShowRouteSelect:function(){this.isDetail||this.$refs.selectRoutePop.show()},onRouteItem:function(e){var t=e.journeyLineId;if(this.selectRouteItem=e,this.$emit("update:journeyLineId",t),this.$emit("journeyLineChange",e),!e.journeyLineId)return this.points=[],uni.navigateTo({url:"/pages/original-travel/stroke-order/GetRedPoints"});this.getJourneyPointListByJourneyId(e.journeyLineId)},getJourneyPointListByJourneyId:function(e){var t=this,a={journeyLineId:e};this.$api.getJourneyPointListByJourneyId(a).then((function(e){if(e.isError)return t.$msg(e.message);t.points=e.content||[]}))}},props:{isDetail:Boolean,journeyLineName:String,journeyLineId:[String,Number],journeyPointList:{type:Array,default:function(){return[]}}},data:function(){return{journeyLineIdCache:this.journeyLineId,selectRouteItem:{},mapInitObj:Object.freeze({resizeEnable:!0,zoom:9,zooms:[9,19],center:[119.365056,30.194302]}),points:[]}},computed:{pointsName:function(){return this.usePoints.map((function(e){return e.name})).join(" - ")},usePoints:function(){return this.$isEmpty(this.points)?this.journeyPointList:this.points}},components:{Map:i.default,SelectRoutePop:o.default}};t.default=r},"6f75":function(e,t,a){"use strict";a.r(t);var n=a("a8f9"),i=a("2aba");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("c05a");var r,c=a("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"5ed3ec10",null,!1,n["a"],r);t["default"]=s.exports},8286:function(e,t,a){var n=a("1f6a");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("329d24f8",n,!0,{sourceMap:!1,shadowMode:!1})},"838d":function(e,t,a){var n=a("2467");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("6628e819",n,!0,{sourceMap:!1,shadowMode:!1})},"9e05":function(e,t,a){"use strict";var n=a("b5dd"),i=a.n(n);i.a},a8f9:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var n={uPopup:a("df25").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("u-popup",{attrs:{"border-radius":"30",maxHeight:"834",mode:"bottom"},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("v-uni-view",{staticClass:"popup"},[a("v-uni-view",{staticClass:"tc title"},[a("v-uni-text",{staticClass:"ft34 medium"},[e._v("选择行程线路")]),a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hide.apply(void 0,arguments)}}},[a("svg-icon",{staticClass:"color-999 ft24 close",attrs:{icon:"icon_cha"}})],1)],1),a("v-uni-scroll-view",{staticClass:"list pl30 pr30",attrs:{"scroll-y":!0}},e._l(e.list,(function(t,n){return a("v-uni-view",{key:n,staticClass:"item between-row center-align",class:t.journeyLineId===e.selectedId&&"selected",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.onItem(t)}}},[a("v-uni-text",{staticClass:"ft28"},[e._v(e._s(t.name))]),t.journeyLineId===e.selectedId?a("svg-icon",{staticClass:"ft28 mt4",attrs:{icon:"icon_duihao"}}):e._e()],1)})),1)],1)],1)},o=[]},aa2a:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("841c");var i=n(a("024c")),o={data:function(){return{$amap:null}},methods:{drawDistrict:function(){var e=this;i.default.plugin("AMap.DistrictSearch",(function(){new i.default.DistrictSearch({extensions:"all",subdistrict:0}).search("临安区",(function(t,a){var n=[new i.default.LngLat(-360,90,!0),new i.default.LngLat(-360,-90,!0),new i.default.LngLat(360,-90,!0),new i.default.LngLat(360,90,!0)],o=a.districtList[0].boundaries,r=[n];r.push.apply(r,o);var c=new i.default.Polygon({pathL:r,strokeColor:"#FD9124",strokeWeight:1.5,fillColor:"rgba(10,133,238,0.28)"});c.setPath(r),e.$amap.add(c)}))}))}},mounted:function(){this.$amap=new i.default.Map("map",this.mapInitObj)}},r=o;t.default=r},b5dd:function(e,t,a){var n=a("0773");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("1243e7b4",n,!0,{sourceMap:!1,shadowMode:!1})},b730:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"head-map-from mt20 pl30 pr30"},[a("div",{staticClass:"route-select between-row center-align mb4",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowRouteSelect.apply(void 0,arguments)}}},[e._m(0),e.isDetail?a("span"):a("div",{staticClass:"center-align"},[a("span",{staticClass:"ft24",staticStyle:{color:"#518CFC"}},[e._v("自定义行程")]),a("svg-icon",{staticClass:"ft20 ml8",staticStyle:{color:"#C4C4C4"},attrs:{icon:"icon_xiangyoujiantou"}})],1)]),a("div",{staticClass:"flex1 ft30 ellipsis-text name"},[e._v(e._s(e.selectRouteItem.name||e.journeyLineName))]),a("div",{staticClass:"pt14 pb20 ft26 color-666 bb"},[e._v(e._s(e.pointsName))]),a("div",{staticClass:"map relative"},[a("Map",{ref:"map",attrs:{mapInitObj:e.mapInitObj,mapClass:"mapH400",points:e.usePoints}}),a("div",{staticClass:"reset-btn center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.resetMap.apply(void 0,arguments)}}},[a("svg-icon",{staticClass:"ft32 color-666",attrs:{icon:"icon_suoding"}})],1)],1)]),a("select-route-pop",{ref:"selectRoutePop",attrs:{isDetail:e.isDetail,needCustomize:!0,selectedId:e.journeyLineIdCache},on:{"update:selectedId":function(t){arguments[0]=t=e.$handleEvent(t),e.journeyLineIdCache=t},"update:selected-id":function(t){arguments[0]=t=e.$handleEvent(t),e.journeyLineIdCache=t},onRouteItem:function(t){arguments[0]=t=e.$handleEvent(t),e.onRouteItem.apply(void 0,arguments)}}})],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex1 center-align"},[a("div",{staticClass:"ft30 mr24 bold"},[e._v("行程路线")])])}]},b7b9:function(e,t,a){"use strict";a.r(t);var n=a("b730"),i=a("dc0a");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("9e05");var r,c=a("f0c5"),s=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"9da397f2",null,!1,n["a"],r);t["default"]=s.exports},c05a:function(e,t,a){"use strict";var n=a("838d"),i=a.n(n);i.a},cf6c:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("26e9"),a("4160"),a("159b"),a("d81d");var i=n(a("aa2a")),o=n(a("024c")),r=null,c={name:"index",methods:{resetMap:function(){if(this.$amap){var e=this.mapInitObj,t=e.zoom,a=e.center;this.$amap.setZoom(t),this.$amap.setCenter(a)}},drawMarker:function(){var e=this,t=new o.default.Icon({size:new o.default.Size(23,38),image:a("f023"),imageSize:new o.default.Size(23,38)}),n=JSON.parse(JSON.stringify(this.points));n.reverse(),r=new o.default.OverlayGroup,n.forEach((function(a,i){var c=new o.default.Marker({position:new o.default.LngLat(a.lng,a.lat),map:e.$amap,animation:"AMAP_ANIMATION_DROP",icon:t,touchZoom:!1}),s='<div style="color:#ffffff;width:22px;text-align:center;margin-top:2px;font-size:11px">'.concat(n.length-i,"</div>");new o.default.Marker({position:new o.default.LngLat(a.lng,a.lat),map:e.$amap,animation:"AMAP_ANIMATION_DROP",content:s,touchZoom:!1}),r.addOverlay(c),c.setExtData(a),c.on("click",e.markerClick)}))},markerClick:function(e){if(this.needClick){var t=e.target.getExtData();uni.navigateTo({url:"/pages/original-travel/introduction/index?journeyPointId=".concat(t.journeyPointId)})}},drawPath:function(){var e=this.points.map((function(e){return new o.default.LngLat(e.lng,e.lat)})),t=new o.default.Polyline({path:e,showDir:!0,strokeWeight:5,strokeColor:"#FC5E51",lineJoin:"round",map:this.$amap});r.addOverlay(t),this.$amap.add(t)}},watch:{points:function(){r&&(r.hide(),r.clearOverlays()),this.drawMarker(),this.drawPath()}},props:{points:Array,needClick:{type:[Boolean,String],default:!1},mapClass:{type:String},mapInitObj:{type:Object}},mounted:function(){this.drawDistrict()},mixins:[i.default]};t.default=c},dc0a:function(e,t,a){"use strict";a.r(t);var n=a("6f5a"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},e425:function(e,t,a){"use strict";var n=a("8286"),i=a.n(n);i.a},f023:function(e,t,a){e.exports=a.p+"static/img/travel_mark.ec7b4603.png"}}]);