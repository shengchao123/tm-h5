(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-card-record-index"],{"0394":function(t,i,e){"use strict";e.r(i);var a=e("3676"),n=e("883f");for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(r);e("7331");var o,c=e("f0c5"),d=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"6ecc5428",null,!1,a["a"],o);i["default"]=d.exports},"0416":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("a9e3");var a={name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle:function(){var t={};return t.width=this.size+"rpx",t.height=this.size+"rpx","circle"==this.mode&&(t.borderColor="#e4e4e4 #e4e4e4 #e4e4e4 ".concat(this.color?this.color:"#c7c7c7")),t}}};i.default=a},"1bfa":function(t,i,e){"use strict";e.r(i);var a=e("bf40"),n=e("6ef1");for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(r);e("8ae2");var o,c=e("f0c5"),d=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"636b7930",null,!1,a["a"],o);i["default"]=d.exports},2909:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=d;var a=c(e("6005")),n=c(e("db90")),r=c(e("06c5")),o=c(e("3427"));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return(0,a.default)(t)||(0,n.default)(t)||(0,r.default)(t)||(0,o.default)()}},"2f10":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-636b7930]{color:#333}.color-666[data-v-636b7930]{color:#666}.color-999[data-v-636b7930]{color:#999}.bg-color[data-v-636b7930]{background-color:#f7f7f7}.bg-white[data-v-636b7930]{background-color:#fff}.white-color[data-v-636b7930]{color:#fff}.primary-color[data-v-636b7930]{color:#f54400}.success-color[data-v-636b7930]{color:#0e130f}.warning-color[data-v-636b7930]{color:#f0ad4e}.error-color[data-v-636b7930]{color:#dd524d}.primary-text[data-v-636b7930]{color:#333}.secondary-text[data-v-636b7930]{color:#666}.tip-text[data-v-636b7930]{color:#999}.color-e32417[data-v-636b7930]{color:#e32417}.u-loading-circle[data-v-636b7930]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;vertical-align:middle;width:%?28?%;height:%?28?%;background:0 0;border-radius:50%;border:2px solid;border-color:#e5e5e5 #e5e5e5 #e5e5e5 #8f8d8e;-webkit-animation:u-circle-data-v-636b7930 1s linear infinite;animation:u-circle-data-v-636b7930 1s linear infinite}.u-loading-flower[data-v-636b7930]{width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:a 1s steps(12) infinite;animation:u-flower-data-v-636b7930 1s steps(12) infinite;background:transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=) no-repeat;background-size:100%}@-webkit-keyframes u-flower-data-v-636b7930{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-flower-data-v-636b7930{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes u-circle-data-v-636b7930{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),t.exports=i},3427:function(t,i,e){"use strict";function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a},3676:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return r})),e.d(i,"a",(function(){return a}));var a={uLoading:e("1bfa").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"card-record-wrap"},[e("div",{staticClass:"head column pl30 pr30",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onStrokeOrder.apply(void 0,arguments)}}},[e("div",{staticClass:"mb20 medium center-align"},[e("span",{staticClass:"ft32"},[t._v("对应行程："+t._s(t.journeyItineraryName))]),e("svg-icon",{staticClass:"ft20 ml8 bold",attrs:{icon:"icon_xiangyoujiantou"}})],1),e("div",{staticClass:"ft24",staticStyle:{opacity:"0.6"}},[t._v("行程参与人数："+t._s(t.signUpQuantity)+"人")])]),t.myPoint?e("v-uni-scroll-view",{attrs:{"scroll-y":!0}},[e("div",{staticClass:"list pb48"},t._l(t.pointSignInList,(function(i,a){return e("div",{key:a,staticClass:"item mt20 ml30 mr30 pt24 pl24 pb24 center-align"},[e("div",{staticClass:"flex flex1"},[e("div",{staticClass:"num tc ft24 mr20"},[t._v(t._s(a+1))]),e("div",[e("div",{staticClass:"ft32 bold mb14"},[t._v(t._s(i.name))]),e("div",{staticClass:"ft24 mb8"},[t._v(t._s(i.address))]),e("div",{staticClass:"center-align color-999",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onPersonnelCard(i)}}},[e("span",{staticClass:"ft24"},[t._v(t._s(i.signInQuantity)+"人已打卡，"+t._s(t.signUpQuantity-i.signInQuantity)+"人未打卡")]),e("svg-icon",{staticClass:"ft24 ml8",attrs:{icon:"icon_xiangxia"}})],1)])]),e("div",{staticClass:"card-btn center column",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onCard(i)}}},[e("svg-icon",{class:t.cardBtnIcon(i).className,staticStyle:{"font-size":"48rpx"},attrs:{icon:t.cardBtnIcon(i).icon}}),e("div",{staticClass:"ft22 tc",class:t.cardBtnText(i).className},[t._v(t._s(t.cardBtnText(i).text))]),e("div",{staticClass:"ft20 color-999 tc"},[t._v("距你"+t._s(t.distanceText(i)||"--"))])],1)])})),0)]):e("div",{staticClass:"pt48"},[e("div",{staticClass:"center"},[e("u-loading",{attrs:{mode:"circle"}}),e("div",{staticClass:"ft28 color-999 ml16"},[t._v("正在获取位置信息...")])],1)])],1)},r=[]},6005:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=r;var a=n(e("6b75"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t))return(0,a.default)(t)}},"67a5":function(t,i,e){"use strict";var a=e("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("2909")),r=a(e("5530"));e("99af"),e("d81d");var o=a(e("024c")),c=null,d={methods:{onStrokeOrder:function(){uni.navigateTo({url:"/pages/home/stroke-order/detail?id=".concat(this.id)})},onPersonnelCard:function(t){if(!(this.signUpQuantity<=0)){var i=t.id;uni.navigateTo({url:"/pages/mine/card-record/personnelCard?id=".concat(this.id,"&journeyPointId=").concat(i)})}},onCard:function(){var t=this,i=item,e=i.journeyPointId,a=i.distance;if(!(a>500)){var n={id:this.id,journeyPointId:e};this.$api.journeyItineraryPointSignIn(n).then((function(i){if(i.isError)return t.$msg(i.message);t.$msg("打卡成功"),t.getJourneyItinerarySignInById()}))}},getJourneyItinerarySignInById:function(t){var i=this,e={id:t};this.$api.getJourneyItinerarySignInById(e).then((function(t){if(t.isError)return i.$msg(t.message);var e=t.content,a=e.journeyItineraryName,n=e.signUpQuantity,r=e.pointSignInList;i.journeyItineraryName=a,i.signUpQuantity=n,i.pointSignInList=r||[]}))},initMyPoint:function(){var t=this;o.default.plugin("AMap.Geolocation",(function(){var i=new o.default.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonPosition:"RB"});i.getCurrentPosition((function(i,e){if(setTimeout(t.initMyPoint,6e4),"complete"==i){var a=e.position,n=a.lng,r=a.lat;t.myPoint=[n,r]}}))}))},setPointDistance:function(){var t=this,i=this.pointSignInList.map((function(i){var e=i.lng,a=i.lat,n=new o.default.LngLat(e,a,!0),c=Math.round(n.distance(t.myPoint))+"";return(0,r.default)((0,r.default)({},i),{},{distance:c})}));this.pointSignInList=(0,n.default)(i)}},data:function(){return{journeyItineraryName:"",signUpQuantity:0,pointSignInList:[],myPoint:null}},computed:{cardBtnIcon:function(){return function(t){var i=t.isSignIn,e=t.distance,a="icon_dakaline",n="color-E32417";return i&&(a="icon_daka"),(!e||e>500)&&(n="color-999"),{icon:a,className:n}}},cardBtnText:function(){return function(t){var i=t.isSignIn,e=t.distance,a="color-333",n="打卡";return i&&(n="已打卡",a="color-E32417"),(!e||e>500)&&(a="color-999"),{className:a,text:n}}},distanceText:function(){return function(t){var i=t.distance;return i>1e7?"还很远":i>1e3?Math.round(i/1e3)+"km":i+"m"}}},watch:{myPoint:{deep:!0,handler:function(){this.setPointDistance()}}},destroyed:function(){c&&clearTimeout(c)},onLoad:function(t){this.initMyPoint(),this.id=t.id,this.getJourneyItinerarySignInById(this.id)}};i.default=d},"6ef1":function(t,i,e){"use strict";e.r(i);var a=e("0416"),n=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(r);i["default"]=n.a},7331:function(t,i,e){"use strict";var a=e("854c"),n=e.n(a);n.a},"854c":function(t,i,e){var a=e("8fce");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("36a2f7a0",a,!0,{sourceMap:!1,shadowMode:!1})},"883f":function(t,i,e){"use strict";e.r(i);var a=e("67a5"),n=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(r);i["default"]=n.a},"8ae2":function(t,i,e){"use strict";var a=e("a1d5"),n=e.n(a);n.a},"8fce":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-6ecc5428]{color:#333}.color-666[data-v-6ecc5428]{color:#666}.color-999[data-v-6ecc5428]{color:#999}.bg-color[data-v-6ecc5428]{background-color:#f7f7f7}.bg-white[data-v-6ecc5428]{background-color:#fff}.white-color[data-v-6ecc5428]{color:#fff}.primary-color[data-v-6ecc5428]{color:#f54400}.success-color[data-v-6ecc5428]{color:#0e130f}.warning-color[data-v-6ecc5428]{color:#f0ad4e}.error-color[data-v-6ecc5428]{color:#dd524d}.primary-text[data-v-6ecc5428]{color:#333}.secondary-text[data-v-6ecc5428]{color:#666}.tip-text[data-v-6ecc5428]{color:#999}.color-e32417[data-v-6ecc5428]{color:#e32417}.card-record-wrap[data-v-6ecc5428]{color:#333}.card-record-wrap .head[data-v-6ecc5428]{width:100%;height:%?162?%;background-image:-webkit-linear-gradient(left,#ffdb5d 21%,#ffca00 96%);background-image:linear-gradient(90deg,#ffdb5d 21%,#ffca00 96%);-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.card-record-wrap .list[data-v-6ecc5428]{height:100%}.card-record-wrap .list .item[data-v-6ecc5428]{background:#fff;box-shadow:%?3?% %?2?% %?12?% %?8?% rgba(17,17,17,.03);border-radius:%?6?%}.card-record-wrap .list .item .num[data-v-6ecc5428]{width:%?48?%;height:%?48?%;line-height:%?48?%;border-radius:%?26?%;border:solid %?1?% #e1b406;color:#e1b406}.card-record-wrap .list .item .card-btn[data-v-6ecc5428]{min-width:%?160?%;height:100%;padding:0 %?8?%;border-left:solid %?1?% #eaeaea}.card-record-wrap .list .item .color-E32417[data-v-6ecc5428]{color:#e32417}',""]),t.exports=i},a1d5:function(t,i,e){var a=e("2f10");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("61a000bc",a,!0,{sourceMap:!1,shadowMode:!1})},bf40:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return r})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.show?e("v-uni-view",{staticClass:"u-loading",class:"circle"==t.mode?"u-loading-circle":"u-loading-flower",style:[t.cricleStyle]}):t._e()},r=[]},db90:function(t,i,e){"use strict";function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=a,e("a4d3"),e("e01a"),e("d3b7"),e("d28b"),e("3ca3"),e("ddb0"),e("a630")}}]);