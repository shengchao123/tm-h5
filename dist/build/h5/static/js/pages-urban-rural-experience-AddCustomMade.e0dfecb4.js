(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-urban-rural-experience-AddCustomMade"],{"4d25":function(a,t,o){"use strict";var e=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=e(o("5530")),n={methods:{onSubmit:function(){var a=this;console.log(this.form.data),this.$refs.form.validate((function(t){t&&(a.journeyPlayCustomizationId?a.modifyJourneyPlayCustomizationInfoById():a.createJourneyPlayCustomization())}))},createJourneyPlayCustomization:function(){var a=this,t=(0,r.default)({},this.form.data);this.$api.createJourneyPlayCustomization(t).then((function(t){if(t.isError)return a.$msg(t.message);a.$msg("定制发布成功"),setTimeout((function(){uni.navigateBack()}),500)}))},modifyJourneyPlayCustomizationInfoById:function(){var a=this,t=(0,r.default)({journeyPlayCustomizationId:this.journeyPlayCustomizationId},this.form.data);this.$api.modifyJourneyPlayCustomizationInfoById(t).then((function(t){if(t.isError)return a.$msg(t.message);a.$msg("定制编辑成功"),setTimeout((function(){uni.$emit("editCustomMadeOver"),uni.navigateBack()}),500)}))},setFormData:function(a){var t=a.contactPhone,o=a.demand,e=a.peopleQuantity,r=a.playDays;this.form.data={peopleQuantity:e+"",playDays:r+"",contactPhone:t+"",demand:o}},getJourneyPlayCustomizationInfoById:function(a){var t=this,o={journeyPlayCustomizationId:a};this.$api.getJourneyPlayCustomizationInfoById(o).then((function(a){if(a.isError)return t.$msg(a.message);t.setFormData(a.content)}))}},data:function(){var a=this,t=function(t,o,e){return o?a.$u.test.mobile(o)?void e():e(new Error("手机号不正确")):e(new Error("输入电话"))};return{journeyPlayCustomizationId:null,form:{data:{peopleQuantity:null,playDays:null,contactPhone:null,demand:""},rules:{peopleQuantity:[{required:!0,message:"输入人数",trigger:["change","blur"]}],playDays:[{required:!0,message:"输入游玩天数",trigger:["change","blur"]}],contactPhone:[{required:!0,trigger:["change","blur"],validator:t}],demand:[{required:!0,message:"输入定制需求",trigger:["change","blur"]}]}}}},computed:{isDisabled:function(){var a=this.form.data,t=a.peopleQuantity,o=a.playDays,e=a.contactPhone,r=a.demand;return!(t&&o&&e&&r)}},onReady:function(){this.$refs.form.setRules(this.form.rules)},onLoad:function(a){var t=a.id;t&&(this.journeyPlayCustomizationId=t,this.getJourneyPlayCustomizationInfoById(t))}};t.default=n},"5aa1":function(a,t,o){"use strict";o.r(t);var e=o("4d25"),r=o.n(e);for(var n in e)["default"].indexOf(n)<0&&function(a){o.d(t,a,(function(){return e[a]}))}(n);t["default"]=r.a},7386:function(a,t,o){"use strict";var e=o("ad5c"),r=o.n(e);r.a},"759b":function(a,t,o){"use strict";o.r(t);var e=o("9a52"),r=o("5aa1");for(var n in r)["default"].indexOf(n)<0&&function(a){o.d(t,a,(function(){return r[a]}))}(n);o("7386"),o("c0a2");var i,f=o("f0c5"),l=Object(f["a"])(r["default"],e["b"],e["c"],!1,null,"7af9f548",null,!1,e["a"],i);t["default"]=l.exports},"9a52":function(a,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return e}));var e={uForm:o("aa8f").default,uFormItem:o("e0a3").default,uInput:o("d5da").default},r=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("div",{staticClass:"wrap"},[o("u-form",{ref:"form",attrs:{model:a.form.data}},[o("div",{staticClass:"pl32 pr32 bg-white"},[o("u-form-item",{attrs:{label:"人数","label-width":"192",prop:"peopleQuantity"}},[o("u-input",{attrs:{type:"number",placeholder:"输入人数"},model:{value:a.form.data.peopleQuantity,callback:function(t){a.$set(a.form.data,"peopleQuantity",t)},expression:"form.data.peopleQuantity"}})],1),o("u-form-item",{attrs:{label:"游玩天数","label-width":"192",prop:"playDays"}},[o("div",{staticClass:"between-row flex1"},[o("u-input",{attrs:{type:"number",placeholder:"输入游玩天数"},model:{value:a.form.data.playDays,callback:function(t){a.$set(a.form.data,"playDays",t)},expression:"form.data.playDays"}}),o("span",{staticClass:"ft24 color-999 ml8"},[a._v("天")])],1)]),o("u-form-item",{attrs:{label:"联系电话","label-width":"192","border-bottom":!1,prop:"contactPhone"}},[o("u-input",{attrs:{type:"number",placeholder:"输入电话"},model:{value:a.form.data.contactPhone,callback:function(t){a.$set(a.form.data,"contactPhone",t)},expression:"form.data.contactPhone"}})],1)],1),o("div",{staticClass:"pl32 pr32 ft22 color-999",staticStyle:{height:"62rpx","line-height":"62rpx"}},[a._v("*只有符合条件商家接单后才能看到您的联系方式，以做进一步沟通")]),o("div",{staticClass:"pl32 pr32 bg-white"},[o("u-form-item",{attrs:{label:"定制需求","label-position":"top","border-bottom":!1,prop:"demand"}},[o("div",{staticClass:"flex1"},[o("u-input",{attrs:{type:"textarea",height:"160",maxlength:"200",placeholder:"说说您的需求，比如您的出行方式，需要体验哪些活动等，以获取更合适的服务"},model:{value:a.form.data.demand,callback:function(t){a.$set(a.form.data,"demand",t)},expression:"form.data.demand"}}),o("div",{staticClass:"ft22 color-999",staticStyle:{"text-align":"right","line-height":"24rpx"}},[a._v(a._s(a.form.data.demand.length)+"/200")])],1)])],1)]),o("div",{staticClass:"footer-btn pl32 pr32"},[o("div",{staticClass:"submit tc mt16 ft32 medium",class:a.isDisabled&&"disabled",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.onSubmit.apply(void 0,arguments)}}},[a._v("提交")])])],1)},n=[]},ad5c:function(a,t,o){var e=o("f031");"string"===typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);var r=o("4f06").default;r("6ade3889",e,!0,{sourceMap:!1,shadowMode:!1})},c0a2:function(a,t,o){"use strict";var e=o("d030"),r=o.n(e);r.a},d030:function(a,t,o){var e=o("f335");"string"===typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);var r=o("4f06").default;r("6c2aac40",e,!0,{sourceMap:!1,shadowMode:!1})},f031:function(a,t,o){var e=o("4bad");t=e(!1),t.push([a.i,"uni-page-body[data-v-7af9f548]{background:#f7f7f7}body.?%PAGE?%[data-v-7af9f548]{background:#f7f7f7}",""]),a.exports=t},f335:function(a,t,o){var e=o("4bad");t=e(!1),t.push([a.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-primary[data-v-7af9f548]{color:#3049c0}.color-333[data-v-7af9f548]{color:#333}.color-666[data-v-7af9f548]{color:#666}.color-999[data-v-7af9f548]{color:#999}.bg-color[data-v-7af9f548]{background-color:#f7f7f7}.bg-white[data-v-7af9f548]{background-color:#fff}.white-color[data-v-7af9f548]{color:#fff}.primary-color[data-v-7af9f548]{color:#f54400}.success-color[data-v-7af9f548]{color:#0e130f}.warning-color[data-v-7af9f548]{color:#f0ad4e}.error-color[data-v-7af9f548]{color:#dd524d}.primary-text[data-v-7af9f548]{color:#333}.secondary-text[data-v-7af9f548]{color:#666}.tip-text[data-v-7af9f548]{color:#999}.color-e32417[data-v-7af9f548]{color:#e32417}.wrap .footer-btn[data-v-7af9f548]{position:fixed;bottom:0;left:0;right:0;height:%?128?%;background:#fff}.wrap .footer-btn .submit[data-v-7af9f548]{width:100%;height:%?98?%;line-height:%?98?%;border-radius:%?50?%;background:#e32417;color:#fff}.wrap .footer-btn .disabled[data-v-7af9f548]{background:#ccc}.wrap[data-v-7af9f548] .uni-textarea-placeholder{overflow:inherit}',""]),a.exports=t}}]);