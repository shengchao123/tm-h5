(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-steward-good-helper-index"],{"094d":function(t,n,e){var o=e("4bad");n=o(!1),n.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-primary[data-v-3ad14693]{color:#3049c0}.color-333[data-v-3ad14693]{color:#333}.color-666[data-v-3ad14693]{color:#666}.color-999[data-v-3ad14693]{color:#999}.bg-color[data-v-3ad14693]{background-color:#f7f7f7}.bg-white[data-v-3ad14693]{background-color:#fff}.white-color[data-v-3ad14693]{color:#fff}.primary-color[data-v-3ad14693]{color:#f54400}.success-color[data-v-3ad14693]{color:#0e130f}.warning-color[data-v-3ad14693]{color:#f0ad4e}.error-color[data-v-3ad14693]{color:#dd524d}.primary-text[data-v-3ad14693]{color:#333}.secondary-text[data-v-3ad14693]{color:#666}.tip-text[data-v-3ad14693]{color:#999}.color-e32417[data-v-3ad14693]{color:#e32417}.tabs-wrap[data-v-3ad14693]{-webkit-justify-content:space-around;justify-content:space-around;background:#fff;height:%?88?%;line-height:%?88?%}.tabs-wrap .tab-item[data-v-3ad14693]{width:%?250?%;text-align:center}.tabs-wrap .line[data-v-3ad14693]{position:absolute;z-index:1;-webkit-transition:left .3s;transition:left .3s;bottom:%?12?%;left:%?60?%;width:%?32?%;height:%?4?%;border-radius:%?4?%;background:#f54400}',""]),t.exports=n},1587:function(t,n,e){"use strict";var o=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("99af"),e("d81d"),e("a15b");var a=o(e("7ea6")),i=o(e("f05e")),r=o(e("e592")),s=o(e("131e")),c=o(e("3244")),l=o(e("1728")),u={mixins:[a.default],components:{StatusTabs:r.default,ProjectItem:s.default,SelectionCommunit:c.default,ReceivePop:l.default,MescrollUni:i.default},methods:{onConfirmCommunit:function(t){this.communityInfo=t.communityInfo,this.streetInfo=t.streetInfo,this.communityOrgId=t.communityInfo.id},onReceive:function(t){if(this.$notMember())return this.$goLogin();this.$refs.receivePop.show({projectId:t,unitIds:this.unitIds})},changeCurrent:function(t,n){this.projectType=n,this.downCallback()},onSelectCommunit:function(){this.isUnitUser||this.$refs.selectionCommunit.show()},onContactList:function(){uni.navigateTo({url:"/pages/steward/good-helper/contact-list/index"})},onReceptionHall:function(){uni.navigateTo({url:"/pages/steward/good-helper/reception-hall/index"})},updateTabsCount:function(){var t=this.$refs.statusTabs;this.$nextTick((function(){t&&t.getJourneyHelperProjectCount()}))},upCallback:function(t){this.getJourneyHelperProjectShowPage(t),this.mescroll.endErr()},downCallback:function(){this.mescroll.resetUpScroll(),this.updateTabsCount()},getJourneyHelperProjectShowPage:function(t){var n=this;if(this.communityOrgId){var e={pageNumber:t&&t.num||1,pageSize:t&&t.size||10,type:this.projectType};this.isUnitUser||(e.communityOrgId=this.communityOrgId),this.$api.getJourneyHelperProjectShowPage(e).then((function(t){if(t.isError)return n.mescroll.endErr();var o=t.content,a=o.items,i=o.count;n.mescroll.endBySize(a.length,i),n.listData=1===e.pageNumber?a:n.listData.concat(a)}))}},getUnitListByCommunity:function(){var t=this,n={communityOrgId:this.communityOrgId};this.$api.getUnitListByCommunity(n).then((function(n){if(n.isError)return t.$msg(n.message);t.unitIds=n.content||[]}))}},data:function(){return{communityInfo:{},streetInfo:{},upOption:{empty:{use:!1}},communityOrgId:null,projectType:2,unitIds:[],listData:[]}},watch:{communityOrgId:{handler:function(t){t&&"0"!==t&&this.getUnitListByCommunity(),this.isShowSelectionCommunit&&(this.updateTabsCount(),this.getJourneyHelperProjectShowPage())},immediate:!0},memberPersonalInfo:{handler:function(t){t.communityOrgId&&"0"!==t.communityOrgId&&(this.communityOrgId=this.memberPersonalInfo.communityOrgId)},immediate:!0}},computed:{memberPersonalInfo:function(){return this.$store.state.user.memberPersonalInfo},isUnitUser:function(){return this.memberPersonalInfo.isUnitUser},communityText:function(){if(this.isUnitUser){var t=this.memberPersonalInfo,n=t.parentCommunityOrgName,e=t.communityOrgName;return n+" "+e}var o=this.streetInfo,a=this.communityInfo;return a?o.name+" "+a.name:""},unitNameText:function(){var t=this.unitIds.map((function(t){return t.name}));return t.join(" ")},isShowSelectionCommunit:function(){var t=this.isUnitUser;return!t&&"undefined"!==typeof t},currentUnitName:function(){var t=this.unitIds;if(t.length<=0)return"";for(var n=0;n<t.length;n++)if(t[n].unitOrgId===this.memberPersonalInfo.unitOrgId)return t[n].name;return"--"}}};n.default=u},2511:function(t,n,e){var o=e("4bad"),a=e("ffbf"),i=e("cc03"),r=e("a46a");n=o(!1);var s=a(i),c=a(r);n.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-primary[data-v-11799f02]{color:#3049c0}.color-333[data-v-11799f02]{color:#333}.color-666[data-v-11799f02]{color:#666}.color-999[data-v-11799f02]{color:#999}.bg-color[data-v-11799f02]{background-color:#f7f7f7}.bg-white[data-v-11799f02]{background-color:#fff}.white-color[data-v-11799f02]{color:#fff}.primary-color[data-v-11799f02]{color:#f54400}.success-color[data-v-11799f02]{color:#0e130f}.warning-color[data-v-11799f02]{color:#f0ad4e}.error-color[data-v-11799f02]{color:#dd524d}.primary-text[data-v-11799f02]{color:#333}.secondary-text[data-v-11799f02]{color:#666}.tip-text[data-v-11799f02]{color:#999}.color-e32417[data-v-11799f02]{color:#e32417}.good-helper-wrap .header .link[data-v-11799f02]{width:%?331?%;height:%?180?%;border-radius:%?16?%;box-sizing:border-box;padding:%?26?%;box-shadow:0 %?5?% %?15?% 0 rgba(0,0,0,.1)}.good-helper-wrap .header .link-jointly[data-v-11799f02]{background:url('+s+") no-repeat 0 0;background-size:100% 100%}.good-helper-wrap .header .link-hall[data-v-11799f02]{background:url("+c+") no-repeat 0 0;background-size:100% 100%}.good-helper-wrap .address[data-v-11799f02]{height:%?79?%;border-radius:%?16?%;background:#e8f0ff}",""]),t.exports=n},"3b91":function(t,n,e){"use strict";var o=e("6d86"),a=e.n(o);a.a},"42f3":function(t,n,e){"use strict";var o;e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return o}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tabs-wrap relative row bb"},[t._l(t.tabs,(function(n,o){return e("div",{key:o,staticClass:"tab-item secondary-text",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabClick(n.id,o)}}},[e("span",{staticClass:"ft28 color-666",class:t.current===o&&"color-e32417 medium"},[t._v(t._s(n.name)+t._s(n.count?"("+n.count+")":""))])])})),e("div",{staticClass:"line",style:t.lineStyle})],2)},i=[]},"480e":function(t,n,e){"use strict";var o=e("d270"),a=e.n(o);a.a},"53da":function(t,n,e){var o=e("4bad");n=o(!1),n.push([t.i,"uni-page-body[data-v-11799f02]{height:100%;background:#f7f7f7}body.?%PAGE?%[data-v-11799f02]{background:#f7f7f7}",""]),t.exports=n},"5d07":function(t,n,e){var o=e("2511");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("4f06").default;a("705187ac",o,!0,{sourceMap:!1,shadowMode:!1})},"65c1":function(t,n,e){"use strict";e.r(n);var o=e("7bfb"),a=e.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);n["default"]=a.a},"6d86":function(t,n,e){var o=e("094d");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("4f06").default;a("1696924f",o,!0,{sourceMap:!1,shadowMode:!1})},"70ec":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return o}));var o={mescrollUni:e("f05e").default,empty:e("b800").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"good-helper-wrap"},[e("mescroll-uni",{ref:"mescrollRef",staticClass:"mescroll-wrap",attrs:{up:t.upOption},on:{init:function(n){arguments[0]=n=t.$handleEvent(n),t.mescrollInit.apply(void 0,arguments)},down:function(n){arguments[0]=n=t.$handleEvent(n),t.downCallback.apply(void 0,arguments)},up:function(n){arguments[0]=n=t.$handleEvent(n),t.upCallback.apply(void 0,arguments)}}},[[e("div",{staticClass:"between-row bg-white header pl16 pr16 pb16 pt28"},[e("div",{staticClass:"link center-justify link-jointly column",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onContactList.apply(void 0,arguments)}}},[e("span",{staticClass:"ft30 white-color pl16"},[t._v("共建单位联系表")]),e("span",{staticClass:"ft26 pt16 pl16 pb8",staticStyle:{color:"#C8E5FF"}},[t._v("临安区社区")])]),e("div",{staticClass:"link center-justify link-hall column",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onReceptionHall.apply(void 0,arguments)}}},[e("span",{staticClass:"ft30 white-color pl16"},[t._v("领办大厅")]),e("span",{staticClass:"ft26 pt16 pl16 pb8",staticStyle:{color:"#FDD3C5"}},[t._v(t._s(t.isUnitUser?"领办项目享积分加成":"项目供更多单位认领"))])])]),e("div",{staticClass:"bg-white pl32 pr32 pb16"},[t.isShowSelectionCommunit?[e("div",{staticClass:"address pl24 pr24 center-align",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onSelectCommunit.apply(void 0,arguments)}}},[e("span",{staticClass:"ft28 color-666"},[t._v(t._s(t.communityText))]),e("svg-icon",{staticClass:"ft16 ml8",attrs:{icon:"icon_xiangxia"}})],1),e("div",{staticClass:"tr pt16"},[e("span",{staticClass:"ft22 color-999"},[t._v("共建单位："+t._s(t.unitNameText))])])]:[e("div",{staticClass:"pl24 pr24 pt24 pb24",staticStyle:{"border-radius":"16rpx",background:"#f7f7f7"}},[e("div",[e("span",{staticClass:"ft28 color-666 mr16"},[t._v("当前单位:")]),e("span",{staticClass:"ft28"},[t._v(t._s(t.currentUnitName))])]),e("div",{staticClass:"pt16 pb16"},[e("span",{staticClass:"ft28 color-666 mr16"},[t._v("对口社区:")]),e("span",{staticClass:"ft28"},[t._v(t._s(t.communityText))])]),e("div",[e("span",{staticClass:"ft28 color-666 mr16"},[t._v("共建单位:")]),e("span",{staticClass:"ft28"},[t._v(t._s(t.unitNameText))])])])]],2),e("div",{staticClass:"mt24"},[e("status-tabs",{ref:"statusTabs",attrs:{communityOrgId:t.communityOrgId},on:{changeCurrent:function(n){arguments[0]=n=t.$handleEvent(n),t.changeCurrent.apply(void 0,arguments)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.listData.length>0,expression:"listData.length > 0"}],staticClass:"list"},t._l(t.listData,(function(n,o){return e("project-item",{key:o,attrs:{"project-item":n,"show-border":o<t.listData.length-1,isHome:!0,isUnitUser:t.isUnitUser},on:{onReceive:function(n){arguments[0]=n=t.$handleEvent(n),t.onReceive.apply(void 0,arguments)}}})})),1),e("empty",{directives:[{name:"show",rawName:"v-show",value:0===t.listData.length,expression:"listData.length === 0"}]})],1)]],2),t.isShowSelectionCommunit?e("selection-communit",{ref:"selectionCommunit",on:{onConfirm:function(n){arguments[0]=n=t.$handleEvent(n),t.onConfirmCommunit.apply(void 0,arguments)}}}):t._e(),e("receive-pop",{ref:"receivePop"})],1)},i=[]},7526:function(t,n,e){"use strict";e.r(n);var o=e("1587"),a=e.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);n["default"]=a.a},"7bfb":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("4160"),e("159b"),e("a9e3");var o={methods:{tabClick:function(t,n){this.current=n,this.$emit("changeCurrent",n,t)},getJourneyHelperProjectCount:function(){var t=this;if(this.communityOrgId){var n={communityOrgId:this.communityOrgId};this.$api.getJourneyHelperProjectCount(n).then((function(n){if(n.isError)return t.$msg(n.message);var e=t.tabs;n.content.forEach((function(t){var n=t.status,o=t.count;e[n-1].count=o})),t.tabs=e}))}}},props:{communityOrgId:[String,Number]},data:function(){return{current:0,tabs:[{id:2,name:"待认领",count:0},{id:3,name:"领办中",count:0},{id:4,name:"已办结",count:0}]}},computed:{lineStyle:function(){var t=32,n=250,e=(n-t)/2,o=this.current*n+e;return"left: ".concat(o,"rpx")}},created:function(){}};n.default=o},a46a:function(t,n,e){t.exports=e.p+"static/img/bg-hall.65abdb6a.png"},b1a9:function(t,n,e){"use strict";var o=e("5d07"),a=e.n(o);a.a},cc03:function(t,n,e){t.exports=e.p+"static/img/bg-jointly.2723d081.png"},d270:function(t,n,e){var o=e("53da");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("4f06").default;a("5a907bd5",o,!0,{sourceMap:!1,shadowMode:!1})},e44d:function(t,n,e){"use strict";e.r(n);var o=e("70ec"),a=e("7526");for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);e("480e"),e("b1a9");var r,s=e("f0c5"),c=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"11799f02",null,!1,o["a"],r);n["default"]=c.exports},e592:function(t,n,e){"use strict";e.r(n);var o=e("42f3"),a=e("65c1");for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);e("3b91");var r,s=e("f0c5"),c=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"3ad14693",null,!1,o["a"],r);n["default"]=c.exports}}]);