(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-original-travel-stroke-order-detail"],{"0283":function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return n}));var n={uModal:o("078c").default},a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.baseInfo.id?o("div",{staticClass:"detail-wrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onPage.apply(void 0,arguments)}}},[o("div",{attrs:{id:"posterView"}},[o("head-map",{attrs:{journeyLineName:t.baseInfo.journeyLineName,journeyPointList:t.journeyPointList,isDetail:!0}}),o("detail-info",{attrs:{list:t.topList}}),o("div",{staticClass:"line"}),o("detail-info",{attrs:{list:t.bottomList}}),o("div",{staticClass:"pb24 bg-white",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSignUpList.apply(void 0,arguments)}}},[o("div",{staticClass:"cenetr-align flex pt24 pl30 pr30",staticStyle:{"border-top":"solid 1rpx #eaeaea"}},[o("div",{staticClass:"ft30 bold",staticStyle:{width:"220rpx"}},[t._v("参与人员")]),o("div",{staticClass:"between-row center-align flex1"},[o("div",{staticClass:"ft30 color-666"},[t._v(t._s(t.signUpList.length)+"人")]),t.signUpList.length>0?o("svg-icon",{staticClass:"ft20 color-999 ml8",attrs:{icon:"icon_xiangyoujiantou"}}):t._e()],1)])])],1),o("div",{staticClass:"footer pl30 pr30 between-row center-align"},[o("div",{staticClass:"center-align left-btns between-row flex1"},[t.baseInfo.isOrganizer?o("div",{staticClass:"icon-btn center-align column color-666",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onEdit.apply(void 0,arguments)}}},[o("svg-icon",{staticClass:"ft34",attrs:{icon:"icon_bianji"}}),o("div",{staticClass:"ft20 mt14"},[t._v("编辑")])],1):t._e(),t.baseInfo.isOrganizer?o("div",{staticClass:"icon-btn center-align column color-666",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onDelete()}}},[o("svg-icon",{staticClass:"ft34",attrs:{icon:"icon_shanchu"}}),o("div",{staticClass:"ft20 mt14"},[t._v("删除")])],1):t._e(),o("div",{staticClass:"icon-btn center-align column color-666",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onShare.apply(void 0,arguments)}}},[o("svg-icon",{staticClass:"ft34",attrs:{icon:"icon_zhuanfa"}}),o("div",{staticClass:"ft20 mt14"},[t._v("分享")])],1)]),t.isShowJoinBtn?o("div",[o("div",{staticClass:"ft28 tc medium",class:t.baseInfo.isSignUp?"border-btn w272":"confirm-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSignUp.apply(void 0,arguments)}}},[t._v(t._s(t.baseInfo.isSignUp?"取消报名":"我要报名"))])]):o("div",{staticClass:"center-align"},[o("div",{staticClass:"border-btn ft28 tc mr24 medium",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onComment.apply(void 0,arguments)}}},[t._v("评价")]),t.baseInfo.needLifeDocumentary?o("div",{staticClass:"ft28 tc medium",class:t.baseInfo.hasLifeRecord?"border-btn w272":"confirm-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onLifeDocumentary.apply(void 0,arguments)}}},[t._v(t._s(t.baseInfo.hasLifeRecord?"查看":"填写")+"组织生活记录")]):t._e()])]),o("u-modal",{attrs:{"border-radius":"24",width:"540",title:"要删除该行程单？",content:"删除后不可恢复","title-style":{fontSize:"32rpx",color:"#333",fontWeight:600},"content-style":{fontSize:"26rpx",color:"#999",paddingTop:"28rpx"},"show-cancel-button":!0,"confirm-text":"删除","cancel-text":"先留着","confirm-color":"#F44000","cancel-color":"#333333"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onDelete(!0)}},model:{value:t.showDeleteTip,callback:function(e){t.showDeleteTip=e},expression:"showDeleteTip"}}),o("share-dialog",{ref:"shareDialog",attrs:{shareBtns:"wx moments copyLink poster",shareData:t.shareData,showHomeBtn:t.showHomeBtn},on:{scrollToTop:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollToTop.apply(void 0,arguments)}}})],1):t._e()},i=[]},"05f3":function(t,e,o){var n=o("4502");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("4f06").default;a("7d199a80",n,!0,{sourceMap:!1,shadowMode:!1})},"064a":function(t,e,o){var n=o("e125");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("4f06").default;a("5549a8b9",n,!0,{sourceMap:!1,shadowMode:!1})},"078c":function(t,e,o){"use strict";o.r(e);var n=o("c1dd"),a=o("aab5");for(var i in a)["default"].indexOf(i)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(i);o("2eab");var r,c=o("f0c5"),l=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"fad1e88e",null,!1,n["a"],r);e["default"]=l.exports},"0827":function(t,e,o){"use strict";o.r(e);var n=o("1d7c"),a=o("db40");for(var i in a)["default"].indexOf(i)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(i);o("d3ef");var r,c=o("f0c5"),l=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"2a6cc9cc",null,!1,n["a"],r);e["default"]=l.exports},"0f35":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{showHomeBtn:!1,isShareIn:!1}},methods:{onPage:function(){this.isShareIn&&(this.showHomeBtn=!this.showHomeBtn)},scrollToTop:function(){document.documentElement.scrollTop=0,document.body.scrollTop=0}},onLoad:function(t){t.masterOrgId&&(this.showHomeBtn=!0,this.isShareIn=!0,uni.setStorageSync("masterOrgId",t.masterOrgId),uni.setStorageSync("orgId",t.masterOrgId))}},a=n;e.default=a},"1b99":function(t,e,o){var n=o("4bad");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-2b4b690d]{color:#333}.color-666[data-v-2b4b690d]{color:#666}.color-999[data-v-2b4b690d]{color:#999}.bg-color[data-v-2b4b690d]{background-color:#f7f7f7}.bg-white[data-v-2b4b690d]{background-color:#fff}.white-color[data-v-2b4b690d]{color:#fff}.primary-color[data-v-2b4b690d]{color:#f54400}.success-color[data-v-2b4b690d]{color:#0e130f}.warning-color[data-v-2b4b690d]{color:#f0ad4e}.error-color[data-v-2b4b690d]{color:#dd524d}.primary-text[data-v-2b4b690d]{color:#333}.secondary-text[data-v-2b4b690d]{color:#666}.tip-text[data-v-2b4b690d]{color:#999}.color-e32417[data-v-2b4b690d]{color:#e32417}.detail-wrap[data-v-2b4b690d]{color:#333;height:100%;background:#f7f7f7;padding-bottom:%?152?%}.detail-wrap .sign-up-list[data-v-2b4b690d]{height:%?80?%;overflow-y:hidden}.detail-wrap .sign-up-list .head-img[data-v-2b4b690d]{display:inline-block;width:%?80?%;height:%?80?%;border-radius:%?40?%;overflow:hidden}.detail-wrap .sign-up-list .head-img img[data-v-2b4b690d]{width:100%;height:100%}.detail-wrap .footer[data-v-2b4b690d]{position:fixed;bottom:0;left:0;right:0;background:#fff;height:%?112?%;z-index:2;border-top:solid %?1?% #eaeaea}.detail-wrap .footer .left-btns[data-v-2b4b690d]{max-width:%?220?%}.detail-wrap .footer .left-btns .icon-btn[data-v-2b4b690d]{width:%?50?%}.detail-wrap .footer .border-btn[data-v-2b4b690d]{width:%?112?%;height:%?80?%;line-height:%?80?%;border-radius:%?44?%;border:solid %?1?% #e32417;color:#e32417}.detail-wrap .footer .confirm-btn[data-v-2b4b690d]{width:%?272?%;height:%?80?%;line-height:%?80?%;background:#e32417;border-radius:%?44?%;color:#fff}.detail-wrap .w272[data-v-2b4b690d]{width:%?272?%!important}.detail-wrap .line[data-v-2b4b690d]{width:100%;height:%?20?%;background:#f7f7f7}',""]),t.exports=e},"1d7c":function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"info pl30 pr30"},[t._l(t.list,(function(e,n){return[e.content?o("div",{key:n,staticClass:"info-item pt24 pb24 flex",class:n===t.list.length-1&&"no-border"},[o("div",{staticClass:"label ft30 bold"},[t._v(t._s(e.label))]),o("div",{staticClass:"content ft30 flex1"},[t._v(t._s(e.content))])]):t._e()]}))],2)},i=[]},"2eab":function(t,e,o){"use strict";var n=o("05f3"),a=o.n(n);a.a},3790:function(t,e,o){var n=o("1b99");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("4f06").default;a("1cae3b34",n,!0,{sourceMap:!1,shadowMode:!1})},"3e8e":function(t,e,o){"use strict";var n=o("3790"),a=o.n(n);a.a},4502:function(t,e,o){var n=o("4bad");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-fad1e88e]{color:#333}.color-666[data-v-fad1e88e]{color:#666}.color-999[data-v-fad1e88e]{color:#999}.bg-color[data-v-fad1e88e]{background-color:#f7f7f7}.bg-white[data-v-fad1e88e]{background-color:#fff}.white-color[data-v-fad1e88e]{color:#fff}.primary-color[data-v-fad1e88e]{color:#f54400}.success-color[data-v-fad1e88e]{color:#0e130f}.warning-color[data-v-fad1e88e]{color:#f0ad4e}.error-color[data-v-fad1e88e]{color:#dd524d}.primary-text[data-v-fad1e88e]{color:#333}.secondary-text[data-v-fad1e88e]{color:#666}.tip-text[data-v-fad1e88e]{color:#999}.color-e32417[data-v-fad1e88e]{color:#e32417}.u-model[data-v-fad1e88e]{height:auto;overflow:hidden;font-size:%?32?%;background-color:#fff}.u-model__btn--hover[data-v-fad1e88e]{background-color:#e6e6e6}.u-model__title[data-v-fad1e88e]{padding-top:%?48?%;font-weight:500;text-align:center;color:#303133}.u-model__content__message[data-v-fad1e88e]{padding:%?48?%;font-size:%?30?%;text-align:center;color:#606266}.u-model__footer[data-v-fad1e88e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row\n}.u-model__footer__button[data-v-fad1e88e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?100?%;line-height:%?100?%;font-size:%?32?%;box-sizing:border-box;cursor:pointer;text-align:center;border-radius:%?4?%}',""]),t.exports=e},"4c99":function(t,e,o){"use strict";o.r(e);var n=o("eefd"),a=o.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},"99e3":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("a9e3");var n={name:"u-modal",props:{value:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:""},title:{type:[String],default:"提示"},width:{type:[Number,String],default:600},content:{type:String,default:"内容"},showTitle:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},borderRadius:{type:[Number,String],default:16},titleStyle:{type:Object,default:function(){return{}}},contentStyle:{type:Object,default:function(){return{}}},cancelStyle:{type:Object,default:function(){return{}}},confirmStyle:{type:Object,default:function(){return{}}},zoom:{type:Boolean,default:!0},asyncClose:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!1},negativeTop:{type:[String,Number],default:0}},data:function(){return{loading:!1}},computed:{cancelBtnStyle:function(){return Object.assign({color:this.cancelColor},this.cancelStyle)},confirmBtnStyle:function(){return Object.assign({color:this.confirmColor},this.confirmStyle)},uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},watch:{value:function(t){!0===t&&(this.loading=!1)}},methods:{confirm:function(){this.asyncClose?this.loading=!0:this.$emit("input",!1),this.$emit("confirm")},cancel:function(){var t=this;this.$emit("cancel"),this.$emit("input",!1),setTimeout((function(){t.loading=!1}),300)},popupClose:function(){this.$emit("input",!1)},clearLoading:function(){this.loading=!1}}};e.default=n},aab5:function(t,e,o){"use strict";o.r(e);var n=o("99e3"),a=o.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},c1dd:function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return n}));var n={uPopup:o("df25").default,uLoading:o("1bfa").default},a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("u-popup",{attrs:{zoom:t.zoom,mode:"center",popup:!1,"z-index":t.uZIndex,length:t.width,"mask-close-able":t.maskCloseAble,"border-radius":t.borderRadius,"negative-top":t.negativeTop},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.popupClose.apply(void 0,arguments)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[o("v-uni-view",{staticClass:"u-model"},[t.showTitle?o("v-uni-view",{staticClass:"u-model__title u-line-1",style:[t.titleStyle]},[t._v(t._s(t.title))]):t._e(),o("v-uni-view",{staticClass:"u-model__content"},[t.$slots.default||t.$slots.$default?o("v-uni-view",{style:[t.contentStyle]},[t._t("default")],2):o("v-uni-view",{staticClass:"u-model__content__message",style:[t.contentStyle]},[t._v(t._s(t.content))])],1),t.showCancelButton||t.showConfirmButton?o("v-uni-view",{staticClass:"u-model__footer u-border-top"},[t.showCancelButton?o("v-uni-view",{staticClass:"u-model__footer__button",style:[t.cancelBtnStyle],attrs:{"hover-stay-time":100,"hover-class":"u-model__btn--hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v(t._s(t.cancelText))]):t._e(),t.showConfirmButton||t.$slots["confirm-button"]?o("v-uni-view",{staticClass:"u-model__footer__button hairline-left",style:[t.confirmBtnStyle],attrs:{"hover-stay-time":100,"hover-class":t.asyncClose?"none":"u-model__btn--hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t.$slots["confirm-button"]?t._t("confirm-button"):[t.loading?o("u-loading",{attrs:{mode:"circle",color:t.confirmColor}}):[t._v(t._s(t.confirmText))]]],2):t._e()],1):t._e()],1)],1)],1)},i=[]},d3ef:function(t,e,o){"use strict";var n=o("064a"),a=o.n(n);a.a},db40:function(t,e,o){"use strict";o.r(e);var n=o("e9c40"),a=o.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},e125:function(t,e,o){var n=o("4bad");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-2a6cc9cc]{color:#333}.color-666[data-v-2a6cc9cc]{color:#666}.color-999[data-v-2a6cc9cc]{color:#999}.bg-color[data-v-2a6cc9cc]{background-color:#f7f7f7}.bg-white[data-v-2a6cc9cc]{background-color:#fff}.white-color[data-v-2a6cc9cc]{color:#fff}.primary-color[data-v-2a6cc9cc]{color:#f54400}.success-color[data-v-2a6cc9cc]{color:#0e130f}.warning-color[data-v-2a6cc9cc]{color:#f0ad4e}.error-color[data-v-2a6cc9cc]{color:#dd524d}.primary-text[data-v-2a6cc9cc]{color:#333}.secondary-text[data-v-2a6cc9cc]{color:#666}.tip-text[data-v-2a6cc9cc]{color:#999}.color-e32417[data-v-2a6cc9cc]{color:#e32417}.info[data-v-2a6cc9cc]{background:#fff}.info .info-item[data-v-2a6cc9cc]{border-bottom:solid %?1?% #eaeaea}.info .info-item .label[data-v-2a6cc9cc]{width:%?220?%}.info .no-border[data-v-2a6cc9cc]{border:none}',""]),t.exports=e},e9c40:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"name",props:{list:Array}};e.default=n},eefd:function(t,e,o){"use strict";var n=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("99af");var a=n(o("b7b9")),i=o("08f3"),r=n(o("c32d")),c=n(o("0827")),l=n(o("6550")),s=n(o("0f35")),d={methods:{onSignUpList:function(){var t=this.signUpList;t.length<=0||(uni.setStorageSync("signUpList",JSON.stringify(t)),uni.navigateTo({url:"/pages/original-travel/stroke-order/signUpList"}))},onEdit:function(){uni.navigateTo({url:"/pages/original-travel/stroke-order/index?isEdit=1&&id=".concat(this.id)})},onDelete:function(t){var e=this;if(t){var o={id:this.id};this.$api.removeJourneyItinerary(o).then((function(t){if(t.isError)return e.$mmsg(t.message);e.$msg("删除成功"),setTimeout((function(){uni.navigateBack()}),500)}))}else this.showDeleteTip=!0},onShare:function(){this.$refs.shareDialog.show()},onComment:function(){if(this.$notMember())return this.$goLogin();var t=this.baseInfo,e=t.id,o=t.name,n="/pages/original-travel/evaluation/index?id=".concat(e,"&name=").concat(o);uni.navigateTo({url:n})},onLifeDocumentary:function(){if(this.$notMember())return this.$goLogin();var t=this.baseInfo,e=t.id,o=t.name,n=t.hasLifeRecord,a="/pages/mine/org-life-record/index?id=".concat(e,"&name=").concat(o),i="/pages/mine/org-life-record/Detail?id=".concat(e),r=n?i:a;uni.navigateTo({url:r})},onSignUp:function(){var t=this;if(this.$notMember())return this.$goLogin();var e=this.id;this.baseInfo.isSignUp?this.$api.cancelSignUpJourneyItinerary({id:e}).then((function(e){if(e.isError)return t.$msg(e.message);t.$msg("取消成功"),t.getJourneyItineraryById()})):uni.navigateTo({url:"/pages/original-travel/stroke-order/signUp?id=".concat(e,"&type=stroke")})},getJourneyItineraryById:function(){var t=this,e=this.id;if(e){var o={id:e};this.$api.getJourneyItineraryById(o).then((function(e){if(e.isError)return t.$msg(e.message);var o=e.content,n=o.journeyPointList,a=o.signUpList,i=o.journeyLineId;i||(e.content.journeyLineName="自定义路线"),t.baseInfo=e.content,t.journeyPointList=n,t.signUpList=a||[],t.getShareData()}))}},getShareData:function(){var t=this.baseInfo,e=t.name,o=t.journeyLineName;this.shareData={link:window.location.href,title:e,desc:o}}},data:function(){return{id:null,showDeleteTip:!1,baseInfo:{},journeyPointList:[],signUpList:[],shareData:{}}},computed:{isShowJoinBtn:function(){var t=this.baseInfo,e=t.isOrganizer,o=t.setOutTime,n=(t.isSignUp,(new Date).getTime()),a=n>=o;return!e&&!a},topList:function(){var t=this.baseInfo,e=t.playTime,o=t.activityType,n=t.needLifeDocumentary;return[{label:"预估时长",content:i.playTimeNameMap.get(e)},{label:"活动类型",content:i.activityNameMap.get(o)},{label:"组织生活记录",content:n?"需要":"不需要"}]},bottomList:function(){var t=this.baseInfo,e=t.name,o=t.organizer,n=t.contactDetails,a=t.meetingPlace,c=t.setOutTime,l=t.transportation,s=t.precautions;return[{label:"名称",content:e},{label:"召集人",content:o},{label:"联系方式",content:n},{label:"集合地点",content:a},{label:"出发日期",content:(0,r.default)(c).format("YYYY-MM-DD HH:mm:ss")},{label:"交通方式",content:i.transportationNameMap.get(l)},{label:"温馨提示",content:s||null}]}},onShow:function(){this.getJourneyItineraryById()},onLoad:function(t){this.id=t.id},mixins:[s.default],components:{HeadMap:a.default,DetailInfo:c.default,ShareDialog:l.default}};e.default=d},f2b3:function(t,e,o){"use strict";o.r(e);var n=o("0283"),a=o("4c99");for(var i in a)["default"].indexOf(i)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(i);o("3e8e");var r,c=o("f0c5"),l=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"2b4b690d",null,!1,n["a"],r);e["default"]=l.exports}}]);