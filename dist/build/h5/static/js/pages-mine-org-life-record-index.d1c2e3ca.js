(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-org-life-record-index"],{"1f1d":function(t,a,e){var n=e("8bba");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("7e5a66bb",n,!0,{sourceMap:!1,shadowMode:!1})},"23c8":function(t,a,e){"use strict";var n=e("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n(e("5530")),i=n(e("3a9a")),r=n(e("0894")),c={components:{UploadImages:i.default,LineClock:r.default},name:"index",methods:{changeInput:function(){var t=this.formData,a=t.shouldNumber,e=t.actualNumber,n=t.activityExperience,o=t.attachmentList;this.$isEmpty(a)||this.$isEmpty(e)||this.$isEmpty(n)||this.$isEmpty(o)?this.btnDisabled=!0:this.btnDisabled=!1},onSave:function(){var t=(0,o.default)((0,o.default)({},this.formData),{},{journeyItineraryId:this.lineData.journeyItineraryId});"edit"===this.pageType?this.modifyJourneyLifeDocumentary(t):this.createJourneyLifeDocumentary(t)},createJourneyLifeDocumentary:function(t){var a=this;this.$api.createJourneyLifeDocumentary(t).then((function(t){if(t.isError)return a.$msg(t.message);a.successTip()}))},modifyJourneyLifeDocumentary:function(t){var a=this;this.$api.modifyJourneyLifeDocumentary(t).then((function(t){if(t.isError)return a.$msg(t.message);a.successTip()}))},successTip:function(){this.$msg("信息提交成功"),setTimeout((function(){uni.navigateBack()}),500)},getJourneyLifeDocumentaryByItineraryId:function(t){var a=this;this.$api.getJourneyLifeDocumentaryByItineraryId({journeyItineraryId:t}).then((function(t){if(t.isError)return a.$msg(t.message);a.formData=t.content}))}},data:function(){return{formData:{shouldNumber:"",actualNumber:"",activityExperience:"",attachmentList:[],isShowSignIn:!0},lineData:{},btnDisabled:!0,pageType:"add"}},computed:{labelStyle:function(){var t={fontSize:"28rpx",color:"#333",fontWeight:"bold"};return t},customInputStyle:function(){var t={fontSize:"28rpx",color:"#333"};return t},btnStyle:function(){var t=this.btnDisabled?"#ccc":"#E32417",a={fontSize:"30rpx",color:"#fff",width:"690rpx",height:"88rpx",borderRadius:"44rpx",fontWeight:"bold",background:t};return a}},onLoad:function(t){var a=t.pageType,e=t.name,n=t.id;this.lineData={journeyItineraryName:e,journeyItineraryId:n},this.pageType=a,"edit"===a&&this.getJourneyLifeDocumentaryByItineraryId(n)},watch:{"formData.attachmentList":{handler:function(t){this.changeInput()},immediate:!0}}};a.default=c},"44ff":function(t,a,e){"use strict";var n=e("1f1d"),o=e.n(n);o.a},7142:function(t,a,e){"use strict";e.d(a,"b",(function(){return o})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){return n}));var n={uForm:e("aa8f").default,uFormItem:e("e0a3").default,uInput:e("d5da").default,uButton:e("d9ad").default},o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"life-wrap"},[e("v-uni-view",{staticClass:"tb pl30 pr30 bg-white"},[e("u-form",{ref:"uForm",attrs:{model:t.formData,"label-style":t.labelStyle}},[e("u-form-item",{staticClass:"p10-0",attrs:{label:"对应行程","label-width":"144rpx"}},[e("v-uni-text",[t._v(t._s(t.lineData.journeyItineraryName))])],1),e("u-form-item",{staticClass:"p10-0",attrs:{label:"应到人数","label-width":"144rpx"}},[e("u-input",{attrs:{placeholder:"输入应到人数",clearable:!1,"placeholder-style":"color:#999","custom-style":t.customInputStyle},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.changeInput.apply(void 0,arguments)}},model:{value:t.formData.shouldNumber,callback:function(a){t.$set(t.formData,"shouldNumber",a)},expression:"formData.shouldNumber"}})],1),e("u-form-item",{staticClass:"p10-0",attrs:{label:"实到人数","label-width":"144rpx"}},[e("u-input",{attrs:{placeholder:"输入实到人数",clearable:!1,"placeholder-style":"color:#999","custom-style":t.customInputStyle},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.changeInput.apply(void 0,arguments)}},model:{value:t.formData.actualNumber,callback:function(a){t.$set(t.formData,"actualNumber",a)},expression:"formData.actualNumber"}})],1),e("u-form-item",{staticClass:"p10-0",attrs:{label:"活动心得","label-position":"top","border-bottom":!1,"label-width":"144rpx"}},[e("v-uni-view",{staticClass:"content-textarea"},[e("v-uni-textarea",{attrs:{placeholder:"记录您的活动心得",maxlength:1e3,"placeholder-style":"color:#999",enableNative:!1},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.changeInput.apply(void 0,arguments)}},model:{value:t.formData.activityExperience,callback:function(a){t.$set(t.formData,"activityExperience",a)},expression:"formData.activityExperience"}}),e("v-uni-view",{staticClass:"color-999 ft22 experience-count mt8"},[t._v(t._s(t.formData.activityExperience.length)+"/1000")])],1)],1)],1),e("v-uni-view",{staticClass:"mt24 flex pb8"},[e("upload-images",{attrs:{count:9,length:9,imageTypeName:"sourceType",imageData:t.formData.attachmentList},on:{"update:imageData":function(a){arguments[0]=a=t.$handleEvent(a),t.$set(t.formData,"attachmentList",a)},"update:image-data":function(a){arguments[0]=a=t.$handleEvent(a),t.$set(t.formData,"attachmentList",a)}}})],1)],1),e("line-clock",{attrs:{isShowSignIn:t.formData.isShowSignIn,journeyItineraryId:t.lineData.journeyItineraryId},on:{"update:isShowSignIn":function(a){arguments[0]=a=t.$handleEvent(a),t.$set(t.formData,"isShowSignIn",a)},"update:is-show-sign-in":function(a){arguments[0]=a=t.$handleEvent(a),t.$set(t.formData,"isShowSignIn",a)}}}),e("v-uni-view",{staticClass:"center-align bg-white pl30 pr30 save-btn tb"},[e("u-button",{attrs:{disabled:t.btnDisabled,"custom-style":t.btnStyle},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onSave.apply(void 0,arguments)}}},[t._v(t._s("edit"===t.pageType?"保存":"确定"))])],1)],1)},i=[]},"8bba":function(t,a,e){var n=e("4bad");a=n(!1),a.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-7d73b2a7]{color:#333}.color-666[data-v-7d73b2a7]{color:#666}.color-999[data-v-7d73b2a7]{color:#999}.bg-color[data-v-7d73b2a7]{background-color:#f7f7f7}.bg-white[data-v-7d73b2a7]{background-color:#fff}.white-color[data-v-7d73b2a7]{color:#fff}.primary-color[data-v-7d73b2a7]{color:#f54400}.success-color[data-v-7d73b2a7]{color:#0e130f}.warning-color[data-v-7d73b2a7]{color:#f0ad4e}.error-color[data-v-7d73b2a7]{color:#dd524d}.primary-text[data-v-7d73b2a7]{color:#333}.secondary-text[data-v-7d73b2a7]{color:#666}.tip-text[data-v-7d73b2a7]{color:#999}.color-e32417[data-v-7d73b2a7]{color:#e32417}uni-page-body[data-v-7d73b2a7]{background:#f7f7f7;height:100%}.p10-0[data-v-7d73b2a7]{padding:%?10?% 0}.life-wrap[data-v-7d73b2a7]{padding-bottom:%?152?%;overflow:auto}.content-textarea[data-v-7d73b2a7]{overflow:hidden;height:%?400?%;width:100%}.content-textarea[data-v-7d73b2a7] uni-textarea{height:%?360?%!important;padding:0!important;width:100%;font-size:%?28?%;overflow-y:scroll}.content-textarea .experience-count[data-v-7d73b2a7]{height:%?22?%;line-height:%?22?%;float:right}.save-btn[data-v-7d73b2a7]{height:%?120?%;position:fixed;bottom:0}body.?%PAGE?%[data-v-7d73b2a7]{background:#f7f7f7}',""]),t.exports=a},b756:function(t,a,e){"use strict";e.r(a);var n=e("7142"),o=e("d031");for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(a,t,(function(){return o[t]}))}(i);e("44ff");var r,c=e("f0c5"),u=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"7d73b2a7",null,!1,n["a"],r);a["default"]=u.exports},d031:function(t,a,e){"use strict";e.r(a);var n=e("23c8"),o=e.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(i);a["default"]=o.a}}]);