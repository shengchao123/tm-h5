(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-urban-rural-experience-AddCustomMade"],{"2c90":function(t,a,o){"use strict";o.d(a,"b",(function(){return r})),o.d(a,"c",(function(){return n})),o.d(a,"a",(function(){return e}));var e={uForm:o("aa8f").default,uFormItem:o("e0a3").default,uInput:o("d5da").default},r=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"wrap"},[o("u-form",{ref:"form",attrs:{model:t.form.data}},[o("div",{staticClass:"pl32 pr32 bg-white"},[o("u-form-item",{attrs:{label:"人数","label-width":"192",prop:"peopleQuantity"}},[o("u-input",{attrs:{type:"number",placeholder:"输入人数"},model:{value:t.form.data.peopleQuantity,callback:function(a){t.$set(t.form.data,"peopleQuantity",a)},expression:"form.data.peopleQuantity"}})],1),o("u-form-item",{attrs:{label:"游玩天数","label-width":"192",prop:"playDays"}},[o("div",{staticClass:"between-row flex1"},[o("u-input",{attrs:{type:"number",placeholder:"输入游玩天数"},model:{value:t.form.data.playDays,callback:function(a){t.$set(t.form.data,"playDays",a)},expression:"form.data.playDays"}}),o("span",{staticClass:"ft24 color-999 ml8"},[t._v("天")])],1)]),o("u-form-item",{attrs:{label:"联系电话","label-width":"192","border-bottom":!1,prop:"contactPhone"}},[o("u-input",{attrs:{type:"number",placeholder:"输入电话"},model:{value:t.form.data.contactPhone,callback:function(a){t.$set(t.form.data,"contactPhone",a)},expression:"form.data.contactPhone"}})],1)],1),o("div",{staticClass:"pl32 pr32 ft22 color-999",staticStyle:{height:"62rpx","line-height":"62rpx"}},[t._v("*只有符合条件商家接单后才能看到您的联系方式，以做进一步沟通")]),o("div",{staticClass:"pl32 pr32 bg-white"},[o("u-form-item",{attrs:{label:"定制需求","label-position":"top","border-bottom":!1,prop:"demand"}},[o("div",{staticClass:"flex1"},[o("u-input",{attrs:{type:"textarea",height:"160",maxlength:"200",placeholder:"说说您的需求，比如您的出行方式，需要体验哪些活动等，以获取更合适的服务"},model:{value:t.form.data.demand,callback:function(a){t.$set(t.form.data,"demand",a)},expression:"form.data.demand"}}),o("div",{staticClass:"ft22 color-999",staticStyle:{"text-align":"right","line-height":"24rpx"}},[t._v(t._s(t.form.data.demand.length)+"/200")])],1)])],1)]),o("div",{staticClass:"footer-btn pl32 pr32"},[o("div",{staticClass:"submit tc mt16 ft32 medium",class:t.isDisabled&&"disabled",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onSubmit.apply(void 0,arguments)}}},[t._v("提交")])])],1)},n=[]},"383b":function(t,a,o){"use strict";var e=o("b12f"),r=o.n(e);r.a},"4d25":function(t,a,o){"use strict";var e=o("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=e(o("5530")),n={methods:{onSubmit:function(){var t=this;console.log(this.form.data),this.$refs.form.validate((function(a){a&&(t.journeyPlayCustomizationId?t.modifyJourneyPlayCustomizationInfoById():t.createJourneyPlayCustomization())}))},createJourneyPlayCustomization:function(){var t=this,a=(0,r.default)({},this.form.data);this.$api.createJourneyPlayCustomization(a).then((function(a){if(a.isError)return t.$msg(a.message);t.$msg("定制发布成功"),setTimeout((function(){uni.navigateBack()}),500)}))},modifyJourneyPlayCustomizationInfoById:function(){var t=this,a=(0,r.default)({journeyPlayCustomizationId:this.journeyPlayCustomizationId},this.form.data);this.$api.modifyJourneyPlayCustomizationInfoById(a).then((function(a){if(a.isError)return t.$msg(a.message);t.$msg("定制编辑成功"),setTimeout((function(){uni.$emit("editCustomMadeOver"),uni.navigateBack()}),500)}))},setFormData:function(t){var a=t.contactPhone,o=t.demand,e=t.peopleQuantity,r=t.playDays;this.form.data={peopleQuantity:e+"",playDays:r,contactPhone:a,demand:o}},getJourneyPlayCustomizationInfoById:function(t){var a=this,o={journeyPlayCustomizationId:t};this.$api.getJourneyPlayCustomizationInfoById(o).then((function(t){if(t.isError)return a.$msg(t.message);a.setFormData(t.content)}))}},data:function(){var t=this,a=function(a,o,e){return o?t.$u.test.mobile(o)?void e():e(new Error("手机号不正确")):e(new Error("输入电话"))};return{journeyPlayCustomizationId:null,form:{data:{peopleQuantity:null,playDays:null,contactPhone:null,demand:""},rules:{peopleQuantity:[{required:!0,message:"输入人数",trigger:["change","blur"]}],playDays:[{required:!0,message:"输入游玩天数",trigger:["change","blur"]}],contactPhone:[{required:!0,trigger:["change","blur"],validator:a}],demand:[{required:!0,message:"输入定制需求",trigger:["change","blur"]}]}}}},computed:{isDisabled:function(){var t=this.form.data,a=t.peopleQuantity,o=t.playDays,e=t.contactPhone,r=t.demand;return!(a&&o&&e&&r)}},onReady:function(){this.$refs.form.setRules(this.form.rules)},onLoad:function(t){var a=t.id;a&&(this.journeyPlayCustomizationId=a,this.getJourneyPlayCustomizationInfoById(a))}};a.default=n},"5aa1":function(t,a,o){"use strict";o.r(a);var e=o("4d25"),r=o.n(e);for(var n in e)["default"].indexOf(n)<0&&function(t){o.d(a,t,(function(){return e[t]}))}(n);a["default"]=r.a},"759b":function(t,a,o){"use strict";o.r(a);var e=o("2c90"),r=o("5aa1");for(var n in r)["default"].indexOf(n)<0&&function(t){o.d(a,t,(function(){return r[t]}))}(n);o("383b"),o("ba9b");var i,l=o("f0c5"),s=Object(l["a"])(r["default"],e["b"],e["c"],!1,null,"03508631",null,!1,e["a"],i);a["default"]=s.exports},8635:function(t,a,o){var e=o("91a3");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var r=o("4f06").default;r("303da2b6",e,!0,{sourceMap:!1,shadowMode:!1})},"91a3":function(t,a,o){var e=o("4bad");a=e(!1),a.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-primary[data-v-03508631]{color:#3049c0}.color-333[data-v-03508631]{color:#333}.color-666[data-v-03508631]{color:#666}.color-999[data-v-03508631]{color:#999}.bg-color[data-v-03508631]{background-color:#f7f7f7}.bg-white[data-v-03508631]{background-color:#fff}.white-color[data-v-03508631]{color:#fff}.primary-color[data-v-03508631]{color:#f54400}.success-color[data-v-03508631]{color:#0e130f}.warning-color[data-v-03508631]{color:#f0ad4e}.error-color[data-v-03508631]{color:#dd524d}.primary-text[data-v-03508631]{color:#333}.secondary-text[data-v-03508631]{color:#666}.tip-text[data-v-03508631]{color:#999}.color-e32417[data-v-03508631]{color:#e32417}.wrap .footer-btn[data-v-03508631]{position:fixed;bottom:0;left:0;right:0;height:%?128?%;background:#fff}.wrap .footer-btn .submit[data-v-03508631]{width:100%;height:%?98?%;line-height:%?98?%;border-radius:%?50?%;background:#e32417;color:#fff}.wrap .footer-btn .disabled[data-v-03508631]{background:#ccc}.wrap[data-v-03508631] .uni-textarea-placeholder{overflow:inherit}',""]),t.exports=a},b12f:function(t,a,o){var e=o("ee01");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var r=o("4f06").default;r("ec10c95a",e,!0,{sourceMap:!1,shadowMode:!1})},ba9b:function(t,a,o){"use strict";var e=o("8635"),r=o.n(e);r.a},ee01:function(t,a,o){var e=o("4bad");a=e(!1),a.push([t.i,"uni-page-body[data-v-03508631]{background:#f7f7f7}body.?%PAGE?%[data-v-03508631]{background:#f7f7f7}",""]),t.exports=a}}]);