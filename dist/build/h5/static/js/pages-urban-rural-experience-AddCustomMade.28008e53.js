(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-urban-rural-experience-AddCustomMade"],{"382b":function(a,t,e){var o=e("fcf3");"string"===typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);var r=e("4f06").default;r("58dccb6b",o,!0,{sourceMap:!1,shadowMode:!1})},"4a26":function(a,t,e){var o=e("ee65");"string"===typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);var r=e("4f06").default;r("3dfe759e",o,!0,{sourceMap:!1,shadowMode:!1})},"4d25":function(a,t,e){"use strict";var o=e("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(e("5530")),n={methods:{onSubmit:function(){var a=this;this.$refs.form.validate((function(t){t&&(a.journeyPlayCustomizationId?a.modifyJourneyPlayCustomizationInfoById():a.createJourneyPlayCustomization())}))},createJourneyPlayCustomization:function(){var a=this,t=(0,r.default)({},this.form.data);this.$api.createJourneyPlayCustomization(t).then((function(t){if(t.isError)return a.$msg(t.message);a.$msg("定制发布成功"),setTimeout((function(){uni.navigateBack()}),500)}))},modifyJourneyPlayCustomizationInfoById:function(){var a=this,t=(0,r.default)({journeyPlayCustomizationId:this.journeyPlayCustomizationId},this.form.data);this.$api.modifyJourneyPlayCustomizationInfoById(t).then((function(t){if(t.isError)return a.$msg(t.message);a.$msg("定制编辑成功"),setTimeout((function(){uni.$emit("editCustomMadeOver"),uni.navigateBack()}),500)}))},setFormData:function(a){var t=a.contactPhone,e=a.demand,o=a.peopleQuantity,r=a.playDays;this.form.data={peopleQuantity:o+"",playDays:r+"",contactPhone:t+"",demand:e}},getJourneyPlayCustomizationInfoById:function(a){var t=this,e={journeyPlayCustomizationId:a};this.$api.getJourneyPlayCustomizationInfoById(e).then((function(a){if(a.isError)return t.$msg(a.message);t.setFormData(a.content)}))}},data:function(){var a=this,t=function(t,e,o){return e?a.$u.test.mobile(e)?void o():o(new Error("手机号不正确")):o(new Error("输入电话"))};return{journeyPlayCustomizationId:null,form:{data:{peopleQuantity:null,playDays:null,contactPhone:null,demand:""},rules:{peopleQuantity:[{required:!0,message:"输入人数",trigger:["change","blur"]}],playDays:[{required:!0,message:"输入游玩天数",trigger:["change","blur"]}],contactPhone:[{required:!0,trigger:["change","blur"],validator:t}],demand:[{required:!0,message:"输入定制需求",trigger:["change","blur"]}]}}}},computed:{isDisabled:function(){var a=this.form.data,t=a.peopleQuantity,e=a.playDays,o=a.contactPhone,r=a.demand;return!(t&&e&&o&&r)}},onReady:function(){this.$refs.form.setRules(this.form.rules)},onLoad:function(a){var t=a.id;t&&(this.journeyPlayCustomizationId=t,this.getJourneyPlayCustomizationInfoById(t))}};t.default=n},"5aa1":function(a,t,e){"use strict";e.r(t);var o=e("4d25"),r=e.n(o);for(var n in o)["default"].indexOf(n)<0&&function(a){e.d(t,a,(function(){return o[a]}))}(n);t["default"]=r.a},"759b":function(a,t,e){"use strict";e.r(t);var o=e("fae0"),r=e("5aa1");for(var n in r)["default"].indexOf(n)<0&&function(a){e.d(t,a,(function(){return r[a]}))}(n);e("d666"),e("8a99");var i,l=e("f0c5"),s=Object(l["a"])(r["default"],o["b"],o["c"],!1,null,"16504bae",null,!1,o["a"],i);t["default"]=s.exports},"8a99":function(a,t,e){"use strict";var o=e("4a26"),r=e.n(o);r.a},d666:function(a,t,e){"use strict";var o=e("382b"),r=e.n(o);r.a},ee65:function(a,t,e){var o=e("4bad");t=o(!1),t.push([a.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-primary[data-v-16504bae]{color:#3049c0}.color-333[data-v-16504bae]{color:#333}.color-666[data-v-16504bae]{color:#666}.color-999[data-v-16504bae]{color:#999}.bg-color[data-v-16504bae]{background-color:#f7f7f7}.bg-white[data-v-16504bae]{background-color:#fff}.white-color[data-v-16504bae]{color:#fff}.primary-color[data-v-16504bae]{color:#f54400}.success-color[data-v-16504bae]{color:#0e130f}.warning-color[data-v-16504bae]{color:#f0ad4e}.error-color[data-v-16504bae]{color:#dd524d}.primary-text[data-v-16504bae]{color:#333}.secondary-text[data-v-16504bae]{color:#666}.tip-text[data-v-16504bae]{color:#999}.color-e32417[data-v-16504bae]{color:#e32417}.wrap .footer-btn[data-v-16504bae]{position:fixed;bottom:0;left:0;right:0;height:%?128?%;background:#fff}.wrap .footer-btn .submit[data-v-16504bae]{width:100%;height:%?98?%;line-height:%?98?%;border-radius:%?50?%;background:#e32417;color:#fff}.wrap .footer-btn .disabled[data-v-16504bae]{background:#ccc}.wrap[data-v-16504bae] .uni-textarea-placeholder{overflow:inherit}',""]),a.exports=t},fae0:function(a,t,e){"use strict";e.d(t,"b",(function(){return r})),e.d(t,"c",(function(){return n})),e.d(t,"a",(function(){return o}));var o={uForm:e("aa8f").default,uFormItem:e("e0a3").default,uInput:e("d5da").default},r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"wrap"},[e("u-form",{ref:"form",attrs:{model:a.form.data}},[e("div",{staticClass:"pl32 pr32 bg-white"},[e("u-form-item",{attrs:{label:"人数","label-width":"192",prop:"peopleQuantity"}},[e("u-input",{attrs:{type:"number",placeholder:"输入人数"},model:{value:a.form.data.peopleQuantity,callback:function(t){a.$set(a.form.data,"peopleQuantity",t)},expression:"form.data.peopleQuantity"}})],1),e("u-form-item",{attrs:{label:"游玩天数","label-width":"192",prop:"playDays"}},[e("div",{staticClass:"between-row flex1"},[e("u-input",{attrs:{type:"number",placeholder:"输入游玩天数"},model:{value:a.form.data.playDays,callback:function(t){a.$set(a.form.data,"playDays",t)},expression:"form.data.playDays"}}),e("span",{staticClass:"ft24 color-999 ml8"},[a._v("天")])],1)]),e("u-form-item",{attrs:{label:"联系电话","label-width":"192","border-bottom":!1,prop:"contactPhone"}},[e("u-input",{attrs:{type:"number",placeholder:"输入电话"},model:{value:a.form.data.contactPhone,callback:function(t){a.$set(a.form.data,"contactPhone",t)},expression:"form.data.contactPhone"}})],1)],1),e("div",{staticClass:"pl32 pr32 ft22 color-999",staticStyle:{height:"62rpx","line-height":"62rpx"}},[a._v("*只有符合条件商家接单后才能看到您的联系方式，以做进一步沟通")]),e("div",{staticClass:"pl32 pr32 bg-white"},[e("u-form-item",{attrs:{label:"定制需求","label-position":"top","border-bottom":!1,prop:"demand"}},[e("div",{staticClass:"flex1"},[e("u-input",{attrs:{type:"textarea",height:"160",maxlength:"200",placeholder:"说说您的需求，比如您的出行方式，需要体验哪些活动等，以获取更合适的服务"},model:{value:a.form.data.demand,callback:function(t){a.$set(a.form.data,"demand",t)},expression:"form.data.demand"}}),e("div",{staticClass:"ft22 color-999",staticStyle:{"text-align":"right","line-height":"24rpx"}},[a._v(a._s(a.form.data.demand.length)+"/200")])],1)])],1)]),e("div",{staticClass:"footer-btn pl32 pr32"},[e("div",{staticClass:"submit tc mt16 ft32 medium",class:a.isDisabled&&"disabled",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.onSubmit.apply(void 0,arguments)}}},[a._v("提交")])])],1)},n=[]},fcf3:function(a,t,e){var o=e("4bad");t=o(!1),t.push([a.i,"uni-page-body[data-v-16504bae]{background:#f7f7f7}body.?%PAGE?%[data-v-16504bae]{background:#f7f7f7}",""]),a.exports=t}}]);