(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-original-travel-stroke-order-CustomPath"],{"0bf2":function(t,a,n){"use strict";var e=n("571f"),o=n.n(e);o.a},1301:function(t,a,n){"use strict";var e;n.d(a,"b",(function(){return o})),n.d(a,"c",(function(){return r})),n.d(a,"a",(function(){return e}));var o=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"num-list-wrap center-align between-row"},[n("div",{staticClass:"flex1 center-align"},[n("div",{staticClass:"column center-align"},[n("div",{staticClass:"line",class:0===t.currentIndex&&"hideLine"}),n("div",{staticClass:"circle center ft22"},[t._v(t._s(t.pointData.index+1))]),n("div",{staticClass:"line",class:t.currentIndex===t.lastIndex&&"hideLine"})]),n("div",{staticClass:"ft32 ml16 flex1"},[t._v(t._s(t.pointData.item.name))])]),n("div",{staticClass:"center-align"},[t._l(t.btns,(function(a,e){return["up"===a.type&&0===t.currentIndex||"down"===a.type&&t.currentIndex===t.lastIndex?t._e():n("div",{key:e,staticClass:"btn center ml16",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onBtn(a.type)}}},[n("div",{staticClass:"ml8 color-666"},[t._v(t._s(a.text))])])]}))],2)])},r=[]},"16c5":function(t,a,n){var e=n("4bad");a=e(!1),a.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-5f669688]{color:#333}.color-666[data-v-5f669688]{color:#666}.color-999[data-v-5f669688]{color:#999}.bg-color[data-v-5f669688]{background-color:#f7f7f7}.bg-white[data-v-5f669688]{background-color:#fff}.white-color[data-v-5f669688]{color:#fff}.primary-color[data-v-5f669688]{color:#f54400}.success-color[data-v-5f669688]{color:#0e130f}.warning-color[data-v-5f669688]{color:#f0ad4e}.error-color[data-v-5f669688]{color:#dd524d}.primary-text[data-v-5f669688]{color:#333}.secondary-text[data-v-5f669688]{color:#666}.tip-text[data-v-5f669688]{color:#999}.color-e32417[data-v-5f669688]{color:#e32417}.map-wrap[data-v-5f669688]{position:relative}.map-wrap .mapVH60[data-v-5f669688]{width:100vw;height:60vh}.map-wrap .mapH400[data-v-5f669688]{width:92vw;height:%?400?%}.map-wrap .mapVH50[data-v-5f669688]{width:100vw;height:50vh}',""]),t.exports=a},3278:function(t,a,n){var e=n("e72b");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=n("4f06").default;o("42891fc4",e,!0,{sourceMap:!1,shadowMode:!1})},"34fc":function(t,a,n){"use strict";n.r(a);var e=n("cf6c"),o=n.n(e);for(var r in e)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(r);a["default"]=o.a},"548c":function(t,a,n){"use strict";n.r(a);var e=n("a437"),o=n("34fc");for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return o[t]}))}(r);n("0bf2");var i,c=n("f0c5"),d=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,"5f669688",null,!1,e["a"],i);a["default"]=d.exports},"571f":function(t,a,n){var e=n("16c5");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=n("4f06").default;o("edd6dcb4",e,!0,{sourceMap:!1,shadowMode:!1})},"621c":function(t,a,n){"use strict";var e=n("3278"),o=n.n(e);o.a},8864:function(t,a,n){var e=n("9722");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=n("4f06").default;o("96ee02e8",e,!0,{sourceMap:!1,shadowMode:!1})},"92cb":function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("a9e3");var e={name:"NumList",methods:{onBtn:function(t){this.$emit("onHandlePoints",t,this.currentIndex)}},data:function(){return{btns:[{text:"上移",type:"up"},{text:"下移",type:"down"},{text:"删除",type:"del"}]}},props:{pointData:Object,currentIndex:[String,Number],lastIndex:[String,Number]}};a.default=e},9722:function(t,a,n){var e=n("4bad");a=e(!1),a.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-4544fb3c]{color:#333}.color-666[data-v-4544fb3c]{color:#666}.color-999[data-v-4544fb3c]{color:#999}.bg-color[data-v-4544fb3c]{background-color:#f7f7f7}.bg-white[data-v-4544fb3c]{background-color:#fff}.white-color[data-v-4544fb3c]{color:#fff}.primary-color[data-v-4544fb3c]{color:#f54400}.success-color[data-v-4544fb3c]{color:#0e130f}.warning-color[data-v-4544fb3c]{color:#f0ad4e}.error-color[data-v-4544fb3c]{color:#dd524d}.primary-text[data-v-4544fb3c]{color:#333}.secondary-text[data-v-4544fb3c]{color:#666}.tip-text[data-v-4544fb3c]{color:#999}.color-e32417[data-v-4544fb3c]{color:#e32417}.num-list-wrap[data-v-4544fb3c]{padding:0 %?32?%}.num-list-wrap .line[data-v-4544fb3c]{border-left:1px solid #ffd53d;width:1px;height:%?40?%}.num-list-wrap .hideLine[data-v-4544fb3c]{border-color:transparent}.num-list-wrap .circle[data-v-4544fb3c]{background:#feffff;border:1px solid #e1b406;height:%?40?%;width:%?40?%;border-radius:%?22?%;color:#e1b406}.num-list-wrap .btn[data-v-4544fb3c]{border:1px solid #dcdcdc;border-radius:%?28?%;width:%?100?%;height:%?56?%;font-size:%?26?%}',""]),t.exports=a},a437:function(t,a,n){"use strict";var e;n.d(a,"b",(function(){return o})),n.d(a,"c",(function(){return r})),n.d(a,"a",(function(){return e}));var o=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"map-wrap"},[n("div",{class:t.mapClass,attrs:{id:"map"}})])},r=[]},a788:function(t,a,n){"use strict";n.r(a);var e=n("e67d"),o=n("b23c");for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return o[t]}))}(r);n("621c");var i,c=n("f0c5"),d=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,"4a842a29",null,!1,e["a"],i);a["default"]=d.exports},a7f9:function(t,a,n){"use strict";var e=n("8864"),o=n.n(e);o.a},aa2a:function(t,a,n){"use strict";var e=n("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("ac1f"),n("841c");var o=e(n("024c")),r={data:function(){return{$amap:null}},methods:{drawDistrict:function(){var t=this;o.default.plugin("AMap.DistrictSearch",(function(){new o.default.DistrictSearch({extensions:"all",subdistrict:0}).search("临安区",(function(a,n){var e=[new o.default.LngLat(-360,90,!0),new o.default.LngLat(-360,-90,!0),new o.default.LngLat(360,-90,!0),new o.default.LngLat(360,90,!0)],r=n.districtList[0].boundaries,i=[e];i.push.apply(i,r);var c=new o.default.Polygon({pathL:i,strokeColor:"#FD9124",strokeWeight:1.5,fillColor:"rgba(10,133,238,0.28)"});c.setPath(i),t.$amap.add(c)}))}))}},mounted:function(){this.$amap=new o.default.Map("map",this.mapInitObj)}},i=r;a.default=i},b23c:function(t,a,n){"use strict";n.r(a);var e=n("e1cb"),o=n.n(e);for(var r in e)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(r);a["default"]=o.a},c54e:function(t,a,n){"use strict";n.r(a);var e=n("1301"),o=n("f5ac");for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return o[t]}))}(r);n("a7f9");var i,c=n("f0c5"),d=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,"4544fb3c",null,!1,e["a"],i);a["default"]=d.exports},cf6c:function(t,a,n){"use strict";var e=n("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("26e9"),n("4160"),n("159b"),n("d81d");var o=e(n("aa2a")),r=e(n("024c")),i=null,c={name:"index",methods:{drawMarker:function(){var t=this,a=new r.default.Icon({size:new r.default.Size(23,38),image:n("f023"),imageSize:new r.default.Size(23,38)}),e=JSON.parse(JSON.stringify(this.points));e.reverse(),i=new r.default.OverlayGroup,e.forEach((function(n,o){var c=new r.default.Marker({position:new r.default.LngLat(n.lng,n.lat),map:t.$amap,animation:"AMAP_ANIMATION_DROP",icon:a,touchZoom:!1}),d='<div style="color:#ffffff;width:22px;text-align:center;margin-top:2px;font-size:11px">'.concat(e.length-o,"</div>");new r.default.Marker({position:new r.default.LngLat(n.lng,n.lat),map:t.$amap,animation:"AMAP_ANIMATION_DROP",content:d,touchZoom:!1}),i.addOverlay(c),c.setExtData(n),c.on("click",t.markerClick)}))},markerClick:function(t){if(this.needClick){var a=t.target.getExtData();uni.navigateTo({url:"/pages/original-travel/introduction/index?journeyPointId=".concat(a.journeyPointId)})}},drawPath:function(){var t=this.points.map((function(t){return new r.default.LngLat(t.lng,t.lat)})),a=new r.default.Polyline({path:t,showDir:!0,strokeWeight:5,strokeColor:"#FC5E51",lineJoin:"round",map:this.$amap});i.addOverlay(a),this.$amap.add(a)}},watch:{points:function(){i&&(i.hide(),i.clearOverlays()),this.drawMarker(),this.drawPath()}},props:{points:Array,needClick:{type:[Boolean,String],default:!1},mapClass:{type:String},mapInitObj:{type:Object}},mounted:function(){this.drawDistrict()},mixins:[o.default]};a.default=c},e1cb:function(t,a,n){"use strict";var e=n("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("4160"),n("159b"),n("a434");var o=e(n("548c")),r=e(n("c54e")),i=n("b893"),c={name:"CustomPath",methods:{onConfirmCreateCustomPath:function(){uni.$emit("setJourneyPointListEvent",this.points);var t=getCurrentPages();t.forEach((function(t,a){"pages/home/stroke-order/index"===t.route&&uni.navigateBack({delta:a})}))},onHandlePoints:function(t,a){if("del"===t)return this.points.splice(a,1),void this.$store.commit("travel/CUSTOM_PATH_POINTS",this.points);var n="up"===t?a-1:a+1;this.points=(0,i.swapArr)(this.points,a,n),this.$store.commit("travel/CUSTOM_PATH_POINTS",this.points)},onAddRedPoints:function(){uni.navigateTo({url:"/pages/original-travel/stroke-order/GetRedPoints"})}},watch:{"$store.state.travel.customPathPoints":{handler:function(t,a){console.log(t,a),t&&(this.points=JSON.parse(JSON.stringify(t)))},immediate:!0}},data:function(){return{points:[],mapInitObj:{resizeEnable:!0,zooms:[9,19],zoom:9,center:[119.365056,30.134302]}}},components:{Map:o.default,NumList:r.default}};a.default=c},e67d:function(t,a,n){"use strict";var e;n.d(a,"b",(function(){return o})),n.d(a,"c",(function(){return r})),n.d(a,"a",(function(){return e}));var o=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"custom-path-wrap relative"},[n("Map",{attrs:{mapInitObj:t.mapInitObj,mapClass:"mapVH50",points:t.points}}),n("div",{staticClass:"content"},[t._l(t.points,(function(a,e){return n("NumList",{key:e,attrs:{currentIndex:e,lastIndex:t.points.length-1,pointData:{item:a,index:e}},on:{onHandlePoints:function(a){arguments[0]=a=t.$handleEvent(a),t.onHandlePoints.apply(void 0,arguments)}}})})),n("div",{staticClass:"add-point-btn center",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onAddRedPoints.apply(void 0,arguments)}}},[t._v("+添加红色地标")])],2),n("div",{staticClass:"btn-wrap bt center"},[n("div",{staticClass:"btn center bold",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onConfirmCreateCustomPath.apply(void 0,arguments)}}},[t._v("确定")])])],1)},r=[]},e72b:function(t,a,n){var e=n("4bad");a=e(!1),a.push([t.i,'@charset "UTF-8";\n/* uni.scss */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 边框颜色 */.color-333[data-v-4a842a29]{color:#333}.color-666[data-v-4a842a29]{color:#666}.color-999[data-v-4a842a29]{color:#999}.bg-color[data-v-4a842a29]{background-color:#f7f7f7}.bg-white[data-v-4a842a29]{background-color:#fff}.white-color[data-v-4a842a29]{color:#fff}.primary-color[data-v-4a842a29]{color:#f54400}.success-color[data-v-4a842a29]{color:#0e130f}.warning-color[data-v-4a842a29]{color:#f0ad4e}.error-color[data-v-4a842a29]{color:#dd524d}.primary-text[data-v-4a842a29]{color:#333}.secondary-text[data-v-4a842a29]{color:#666}.tip-text[data-v-4a842a29]{color:#999}.color-e32417[data-v-4a842a29]{color:#e32417}.custom-path-wrap[data-v-4a842a29]{height:calc(100vh)}.custom-path-wrap .content[data-v-4a842a29]{padding:%?20?% 0;overflow:scroll;position:absolute;left:0;right:0;bottom:%?121?%;height:42vh;background:#fff;box-shadow:0 %?-6?% %?17?% 0 rgba(0,0,0,.1);border-radius:%?30?% %?30?% 0 0;z-index:99}.custom-path-wrap .content .add-point-btn[data-v-4a842a29]{color:#e32417;border:1px solid #e32417;border-radius:%?28?%;height:%?56?%;width:%?208?%;margin-left:%?90?%;margin-top:%?20?%}.custom-path-wrap .btn-wrap[data-v-4a842a29]{position:absolute;left:0;right:0;bottom:0;height:%?120?%}.custom-path-wrap .btn-wrap .btn[data-v-4a842a29]{font-size:%?32?%;background:#e32417;height:%?88?%;width:%?690?%;border-radius:49px;color:#fff}',""]),t.exports=a},f023:function(t,a,n){t.exports=n.p+"static/img/travel_mark.ec7b4603.png"},f5ac:function(t,a,n){"use strict";n.r(a);var e=n("92cb"),o=n.n(e);for(var r in e)["default"].indexOf(r)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(r);a["default"]=o.a}}]);