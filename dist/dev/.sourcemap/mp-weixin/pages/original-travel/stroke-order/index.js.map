{"version":3,"sources":["uni-app:///external \"AMap\"","uni-app:///src/main.js","webpack:///./src/pages/original-travel/stroke-order/index.vue?0e82","webpack:///./src/pages/original-travel/stroke-order/index.vue?0aae","webpack:///./src/pages/original-travel/stroke-order/index.vue?a4b8","webpack:///./src/pages/original-travel/stroke-order/index.vue?b6a3","uni-app:///src/pages/original-travel/stroke-order/index.vue","webpack:///./src/pages/original-travel/stroke-order/index.vue?2633","webpack:///./src/pages/original-travel/stroke-order/index.vue?47d0","webpack:///./src/pages/original-travel/stroke-order/index.vue?b789","webpack:///./src/pages/original-travel/stroke-order/index.vue?facc"],"names":["createPage","Page"],"mappings":"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","file":"pages/original-travel/stroke-order/index.js","sourcesContent":["module.exports = AMap;","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/original-travel/stroke-order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=03fa52e4&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=03fa52e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03fa52e4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/original-travel/stroke-order/index.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=03fa52e4&scoped=true&\"","var components\ntry {\n  components = {\n    uForm: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form/u-form\" */ \"uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form-item/u-form-item\" */ \"uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-input/u-input\" */ \"uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uPicker: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-picker/u-picker\" */ \"uview-ui/components/u-picker/u-picker.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class='stroke-order-wrap'>\r\n    <head-map ref=\"headMap\"\r\n              :journeyLineId.sync=\"form.data.journeyLineId\"\r\n              :journeyLineName=\"journeyLineName\"\r\n              :journeyPointList=\"journeyPointList\"\r\n              @journeyLineChange=\"journeyLineChange\"></head-map>\r\n    <u-form ref=\"form\"\r\n            :model=\"form.data\"\r\n            class=\"bg-white\">\r\n      <div class=\"pl30 pr30\">\r\n        <u-form-item label=\"预估时长\"\r\n                     label-width=\"144\">\r\n          <my-radio-box :options=\"playTimeOptions\"\r\n                        :value.sync=\"form.data.playTime\"></my-radio-box>\r\n        </u-form-item>\r\n        <u-form-item label=\"活动类型\"\r\n                     label-width=\"144\">\r\n          <my-radio-box :options=\"activityTypeOptions\"\r\n                        :value.sync=\"form.data.activityType\"></my-radio-box>\r\n        </u-form-item>\r\n        <u-form-item label=\"组织生活记录\"\r\n                     label-width=\"204\"\r\n                     :border-bottom=\"false\">\r\n          <my-radio-box :options=\"needLifeDocumentaryOptions\"\r\n                        :value.sync=\"form.data.needLifeDocumentary\"></my-radio-box>\r\n        </u-form-item>\r\n      </div>\r\n      <div class=\"line-bold\"></div>\r\n      <div class=\"pl30 pr30\">\r\n        <u-form-item label=\"名称\"\r\n                     label-width=\"144\"\r\n                     prop=\"name\">\r\n          <u-input v-model=\"form.data.name\"\r\n                   maxlength=\"15\"\r\n                   placeholder=\"命名你的行程，如临安红色一日游\" />\r\n          <input-length-word :modelData=\"form.data.name\"\r\n                             maxLength=\"15\"></input-length-word>\r\n        </u-form-item>\r\n        <u-form-item label=\"召集人\"\r\n                     label-width=\"144\"\r\n                     prop=\"organizer\">\r\n          <u-input v-model=\"form.data.organizer\"\r\n                   maxlength=\"10\"\r\n                   placeholder=\"输入召集人姓名\" />\r\n          <input-length-word :modelData=\"form.data.organizer\"\r\n                             maxLength=\"10\"></input-length-word>\r\n        </u-form-item>\r\n        <u-form-item label=\"手机号\"\r\n                     label-width=\"144\"\r\n                     prop=\"contactDetails\">\r\n          <u-input v-model=\"form.data.contactDetails\"\r\n                   type=\"number\"\r\n                   placeholder=\"输入召集人手机号\" />\r\n        </u-form-item>\r\n        <u-form-item label=\"集合地点\"\r\n                     label-width=\"144\"\r\n                     prop=\"meetingPlace\">\r\n          <div class=\"center-align flex1\"\r\n               @click=\"onVenueMap\">\r\n            <span class=\"flex1\"\r\n                  :class=\"form.data.meetingPlace ? 'color-333' : 'color-placeholder'\">{{meetingPlaceText}}</span>\r\n            <input-length-word :modelData=\"form.data.meetingPlace\"\r\n                               maxLength=\"30\"></input-length-word>\r\n            <svg-icon icon=\"icon_dingwei\"\r\n                      class=\"ft30 ml16\"\r\n                      style=\"color: #518CFC\"></svg-icon>\r\n          </div>\r\n        </u-form-item>\r\n        <u-form-item label=\"出发日期\"\r\n                     label-width=\"144\"\r\n                     prop=\"setOutTime\">\r\n          <div class=\"center-align flex1\"\r\n               @click=\"onShowTimePicker\">\r\n            <span class=\"flex1\"\r\n                  :class=\"form.data.setOutTime ? 'color-333' : 'color-placeholder'\">{{setOutTimeText}}</span>\r\n            <svg-icon icon=\"icon_riqi\"\r\n                      class=\"ft30 ml16\"\r\n                      style=\"color: #878787\"></svg-icon>\r\n          </div>\r\n        </u-form-item>\r\n        <u-form-item label=\"交通方式\"\r\n                     label-width=\"144\">\r\n          <my-radio-box :options=\"transportationOptions\"\r\n                        :value.sync=\"form.data.transportation\"></my-radio-box>\r\n        </u-form-item>\r\n        <u-form-item label=\"温馨提示\"\r\n                     label-width=\"144\"\r\n                     :border-bottom=\"false\">\r\n          <u-input v-model=\"form.data.precautions\"\r\n                   placeholder=\"输入其他注意事项（选填）\" />\r\n        </u-form-item>\r\n      </div>\r\n    </u-form>\r\n    <div class=\"footer pl30 pr30 center-align\">\r\n      <div class=\"confirm-btn ft32 tc\"\r\n           @click=\"onConfirm\">{{isEdit ? '保存' : '确定'}}</div>\r\n    </div>\r\n    <u-picker v-model=\"showTimePicker\"\r\n              mode=\"time\"\r\n              title=\"日期\"\r\n              confirm-color=\"#E32417\"\r\n              :params=\"timePickerConfig.params\"\r\n              :start-year=\"timePickerConfig.startYear\"\r\n              :end-year=\"timePickerConfig.endYear\"\r\n              :default-time=\"timePickerConfig.defaultTime\"\r\n              @confirm=\"confirmTimePicker\"></u-picker>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { playTimeOptions, activityTypeOptions, needLifeDocumentaryOptions, transportationOptions } from '@/utils/enum'\r\nimport MyRadio from './components/MyRadio'\r\nimport MyRadioBox from './components/MyRadioBox.vue'\r\nimport HeadMap from './components/HeadMap.vue'\r\nimport InputLengthWord from './components/InputLengthWord.vue'\r\n\r\nexport default {\r\n  methods: {\r\n    // 选择集合点\r\n    onVenueMap () {\r\n      uni.navigateTo({\r\n        url: '/pages/original-travel/stroke-order/VenueMap'\r\n      })\r\n    },\r\n    // 显示 日期选择 弹窗\r\n    onShowTimePicker () {\r\n      this.showTimePicker = true\r\n    },\r\n    // 日期选中回调\r\n    confirmTimePicker (params) {\r\n      const { timestamp } = params\r\n      const setOutTime = timestamp * 1000\r\n      this.form.data.setOutTime = setOutTime\r\n      this.setTimePickerDefaultValue(setOutTime)\r\n    },\r\n    // 行程路线 切换 回调\r\n    journeyLineChange ({ playTime }) {\r\n      this.form.data.playTime = playTime\r\n    },\r\n    onConfirm () {\r\n      this.$refs.form.validate(valid => {\r\n        if (valid) {\r\n          if (!this.form.data.journeyLineId && this.$isEmpty(this.journeyPointList)) {\r\n            return this.$msg('请选择行程路线')\r\n          }\r\n          this.createJourneyItinerary()\r\n        } else {\r\n          this.$msg('还有信息未填写')\r\n        }\r\n      })\r\n    },\r\n    createJourneyItinerary () {\r\n      const {\r\n        name, playTime, activityType,\r\n        needLifeDocumentary, organizer, contactDetails,\r\n        meetingPlace, meetingPlaceLat, meetingPlaceLng,\r\n        setOutTime, transportation, journeyLineId,\r\n        precautions\r\n      } = this.form.data\r\n      const params = {\r\n        activityType,\r\n        contactDetails,\r\n        meetingPlace,\r\n        meetingPlaceLat,\r\n        meetingPlaceLng,\r\n        name,\r\n        needLifeDocumentary,\r\n        organizer,\r\n        playTime,\r\n        precautions,\r\n        setOutTime,\r\n        transportation,\r\n        type: journeyLineId ? '01' : '02' // 是否自定义路线\r\n      }\r\n      if (journeyLineId) {\r\n        params.journeyLineId = journeyLineId\r\n      } else {\r\n        params.journeyPointIds = this.journeyPointList.map(el => el.journeyPointId)\r\n      }\r\n      if (this.isEdit) { // 编辑id\r\n        params.id = this.id\r\n      }\r\n      const apiName = this.isEdit ? 'modifyJourneyItinerary' : 'createJourneyItinerary'\r\n      this.$api[apiName](params).then(res => {\r\n        if (res.isError) return this.$msg(res.message)\r\n        this.$store.commit('travel/CUSTOM_PATH_POINTS', [])\r\n        this.$msg(this.isEdit ? '修改成功' : '创建成功')\r\n        setTimeout(() => {\r\n          if (this.isEdit) {\r\n            uni.navigateBack()\r\n            return\r\n          }\r\n          const link = window.location.href.split('/pages')[0] + `/pages/original-travel/stroke-order/detail?id=${res.content.id}`\r\n          const shareData = {\r\n            link,\r\n            title: name,\r\n            desc: precautions,\r\n          }\r\n          uni.setStorageSync('strokeCreateShare', shareData)\r\n          uni.redirectTo({\r\n            url: `/pages/original-travel/stroke-order/createSuccess?id=${res.content.id}`\r\n          })\r\n        }, 500)\r\n      })\r\n    },\r\n    getJourneyItineraryById (id) {\r\n      const params = { id }\r\n      this.$api.getJourneyItineraryById(params).then(res => {\r\n        if (res.isError) return this.$msg(res.message)\r\n        const { journeyLineName, journeyPointList, setOutTime, journeyLineId } = res.content\r\n        const journeyLineIdCache = journeyLineId && journeyLineId !== '0' ? journeyLineId : null\r\n        this.journeyLineName = journeyLineName\r\n        this.journeyPointList = journeyPointList\r\n        this.form.data = {\r\n          ...res.content,\r\n          journeyLineId: journeyLineIdCache\r\n        }\r\n        this.$refs.headMap.journeyLineIdCache = journeyLineIdCache\r\n        this.setTimePickerDefaultValue(setOutTime)\r\n      })\r\n    },\r\n    // 编辑设置\r\n    setEditConfig (id) {\r\n      uni.setNavigationBarTitle({\r\n        title: '编辑行程单'\r\n      })\r\n      this.getJourneyItineraryById(id)\r\n    },\r\n    // 设置日期选择 默认时间\r\n    setTimePickerDefaultValue (setOutTime) {\r\n      this.timePickerConfig.defaultTime = this.$moment(setOutTime).format('YYYY-MM-DD HH:mm')\r\n    },\r\n    // 设置 日期选择器配置\r\n    setTimePickeConfig () {\r\n      const nowDate = new Date()\r\n      const nowYear = nowDate.getFullYear()\r\n      this.timePickerConfig = {\r\n        ...this.timePickerConfig,\r\n        startYear: nowYear,\r\n        endYear: nowYear + 4,\r\n      }\r\n    },\r\n    setEvent () {\r\n      uni.$on('setJourneyPointListEvent', (list) => {\r\n        this.journeyPointList = [...list]\r\n      })\r\n      uni.$on('setMeetingPlaceEvent', (data) => {\r\n        const { meetingPlace, meetingPlaceLat, meetingPlaceLng } = data\r\n        const formData = this.form.data\r\n        this.form.data = {\r\n          ...formData,\r\n          meetingPlace,\r\n          meetingPlaceLat,\r\n          meetingPlaceLng\r\n        }\r\n      })\r\n    },\r\n    clearEvent () {\r\n      uni.$off('setJourneyPointListEvent')\r\n      uni.$off('setMeetingPlaceEvent')\r\n    }\r\n  },\r\n  data () {\r\n    const contactDetailsVal = (rule, value, callback) => {\r\n      if (!value) return callback(new Error('输入召集人手机号'))\r\n      if (!this.$u.test.mobile(value)) return callback(new Error('手机号不正确'))\r\n      callback()\r\n    }\r\n    const setOutTimeVal = (rule, value, callback) => {\r\n      if (!value) return callback(new Error('选择出发时间'))\r\n      callback()\r\n    }\r\n    return {\r\n      id: null,\r\n      isEdit: false,\r\n      showTimePicker: false,\r\n      form: {\r\n        data: {\r\n          name: '',\r\n          playTime: '01',\r\n          activityType: '01',\r\n          needLifeDocumentary: true,\r\n          organizer: '',\r\n          contactDetails: '',\r\n          meetingPlace: '',\r\n          meetingPlaceLat: '',\r\n          meetingPlaceLng: '',\r\n          setOutTime: '',\r\n          transportation: '01',\r\n          precautions: '',\r\n          journeyLineId: null\r\n        },\r\n        rules: {\r\n          name: [{ required: true, message: '输入行程名称', trigger: ['change', 'blur'] }],\r\n          organizer: [{ required: true, message: '输入召集人姓名', trigger: ['change', 'blur'] }],\r\n          contactDetails: [{ required: true, trigger: ['change', 'blur'], validator: contactDetailsVal }],\r\n          meetingPlace: [{ required: true, message: '输入集合地点', trigger: ['change', 'blur'] }],\r\n          setOutTime: [{ required: true, trigger: ['change', 'blur'], validator: setOutTimeVal }],\r\n        }\r\n      },\r\n      timePickerConfig: {\r\n        params: {\r\n          year: true,\r\n          month: true,\r\n          day: true,\r\n          hour: true,\r\n          minute: true,\r\n          timestamp: true,\r\n        },\r\n        startYear: '',\r\n        endYear: '',\r\n        defaultTime: '',\r\n      },\r\n      journeyLineName: '',\r\n      journeyPointList: [],\r\n      playTimeOptions,\r\n      activityTypeOptions,\r\n      needLifeDocumentaryOptions,\r\n      transportationOptions,\r\n    }\r\n  },\r\n  computed: {\r\n    setOutTimeText () {\r\n      const setOutTime = this.form.data.setOutTime\r\n      if (!setOutTime) return '选择时间'\r\n      return this.$moment(setOutTime).format('YYYY-MM-DD HH:mm')\r\n    },\r\n    meetingPlaceText () {\r\n      const meetingPlace = this.form.data.meetingPlace\r\n      if (!meetingPlace) return '选择集合点'\r\n      return meetingPlace\r\n    }\r\n  },\r\n  destroyed () {\r\n    this.clearEvent()\r\n  },\r\n  onReady () {\r\n    this.$refs.form.setRules(this.form.rules);\r\n  },\r\n  onLoad (option) {\r\n    const { isEdit, id, journeyLineId } = option\r\n    this.form.data.journeyLineId = journeyLineId\r\n    this.id = id\r\n    this.isEdit = isEdit === '1'\r\n    if (this.isEdit) this.setEditConfig(id)\r\n    this.setTimePickeConfig()\r\n    this.setEvent()\r\n  },\r\n  components: { MyRadio, MyRadioBox, HeadMap, InputLengthWord }\r\n}\r\n</script>\r\n<style>\r\npage {\r\n  height: 100%;\r\n  background: #f7f7f5;\r\n}\r\n</style>\r\n<style lang='scss' scoped>\r\n.stroke-order-wrap {\r\n  color: #333;\r\n  padding-bottom: 152rpx;\r\n  .map {\r\n    width: 689rpx;\r\n    height: 300rpx;\r\n    border-radius: 4rpx;\r\n    overflow: hidden;\r\n  }\r\n  .line-bold {\r\n    width: 100%;\r\n    height: 20rpx;\r\n    background: #f7f7f7;\r\n  }\r\n  .head-map-from {\r\n    background: #fff;\r\n    .route-select {\r\n      height: 74rpx;\r\n    }\r\n  }\r\n  .ellipsis-text {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n  .footer {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: #fff;\r\n    height: 120rpx;\r\n    z-index: 2;\r\n    .confirm-btn {\r\n      width: 100%;\r\n      height: 88rpx;\r\n      line-height: 88rpx;\r\n      background: #e32417;\r\n      border-radius: 44rpx;\r\n      color: #fff;\r\n    }\r\n  }\r\n  .color-placeholder {\r\n    color: rgb(192, 196, 204);\r\n  }\r\n  /deep/.u-form-item--left {\r\n    align-items: flex-start;\r\n  }\r\n  /deep/.u-datetime-picker {\r\n    border-radius: 30rpx 30rpx 0 0;\r\n    overflow: hidden;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625538123647\n      var cssReload = require(\"D:/word/project/business-projects/external/tianmu-league/h5/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&id=03fa52e4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&id=03fa52e4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625538128092\n      var cssReload = require(\"D:/word/project/business-projects/external/tianmu-league/h5/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}