{"version":3,"sources":["webpack:///./src/pages/original-travel/stroke-order/components/Map.vue?c702","webpack:///./src/pages/original-travel/stroke-order/components/Map.vue?6ae7","webpack:///./src/pages/original-travel/stroke-order/components/Map.vue?1ca0","webpack:///./src/pages/original-travel/stroke-order/components/Map.vue?b3c7","uni-app:///src/pages/original-travel/stroke-order/components/Map.vue","webpack:///./src/pages/original-travel/stroke-order/components/Map.vue?afba","webpack:///./src/pages/original-travel/stroke-order/components/Map.vue?deba"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACsC;;;AAGxF;AACyI;AACzI,gBAAgB,gJAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8d,CAAgB,4dAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACQlf;;AACA;;;;;;;;;;;AACA;AACA;eACA;AACA,eADA;AAEA;AACA;AACA,YAFA,sBAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA,KAPA;AAQA;AACA,cATA,wBASA;AAAA;;AACA;AACA;AACA,4CADA;AAEA,2EAFA;AAGA;AAHA;;AAMA;;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gEADA;AAEA,0BAFA;AAGA,oBAHA;AAIA;AAJA,WAFA,CAQA;;AACA,+JATA,CAUA;;AACA;AACA,gEADA;AAEA,0BAFA;AAGA,4BAHA;AAIA;AAJA;AAOA,oCAlBA,CAoBA;;AACA,gCArBA,CAsBA;;AACA;AACA,OAxBA;AAyBA,KA/CA;AAgDA,sBAhDA,8BAgDA,MAhDA,EAgDA;AAAA;;AACA,gDADA,CAEA;;AACA;AACA,kBADA;AAEA,4EAFA;AAGA;AAHA;AAMA;AAEA;AACA;AACA;AACA,gEADA;AAEA,2BAFA;AAGA,oBAHA;AAIA,sCAJA;AAKA,0BALA;AAMA;AANA;AASA,2CAXA,CAaA;;AACA;AACA,OAfA;AAgBA,KA3EA;AA6EA,gBA7EA,wBA6EA,CA7EA,EA6EA;AACA,wCADA,CAEA;;AACA,6HAHA,CAIA;;AACA;AACA;AACA,gEADA;AAEA,uBAFA;AAGA,0BAHA;AAIA,qDAJA;AAKA;AALA;AAOA;AACA,KA3FA;AA6FA,eA7FA,uBA6FA,CA7FA,EA6FA;AACA;AACA;AACA;AACA;AADA;AAGA,KAnGA;AAqGA;AACA,YAtGA,sBAsGA;AACA;AACA;AAAA;AAAA,SAFA,CAGA;;AACA;AACA,kBADA;AAEA,qBAFA;AAGA,uBAHA;AAIA,8BAJA;AAIA;AACA,yBALA;AAKA;AACA;AANA;AAQA,oCAZA,CAaA;;AACA;AACA;AArHA,GAFA;AAyHA;AACA;AACA;AAAA;;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA,SAPA;AAQA,OAVA;AAWA;AAXA;AADA,GAzHA;AAwIA;AACA,iBADA;AAEA;AACA,6BADA;AAEA;AAFA,KAFA;AAMA;AACA;AADA,KANA;AASA;AACA;AADA;AATA,GAxIA;AAqJA,SArJA,qBAqJA;AACA;AACA,GAvJA;AAwJA;AAxJA,C;;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAA+8B,CAAgB,o4BAAG,EAAC,C;;;;;;;;;;;ACAn+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/original-travel/stroke-order/components/Map.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./Map.vue?vue&type=template&id=92ac3f92&scoped=true&\"\nvar renderjs\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=92ac3f92&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92ac3f92\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/original-travel/stroke-order/components/Map.vue\"\nexport default component.exports","export * from \"-!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=template&id=92ac3f92&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class='map-wrap'>\r\n    <div id=\"map\"\r\n         :class=\"mapClass\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mapMixin from '@/mixins/map.js'\r\nimport AMap from 'AMap'\r\nlet overlays = null\r\nlet productOverlays = null\r\nexport default {\r\n  name: 'index',\r\n  methods: {\r\n    // 重置缩放及定位\r\n    resetMap () {\r\n      if (!this.$amap) return\r\n      const { zoom, center } = this.mapInitObj\r\n      this.$amap.setZoom(zoom)\r\n      this.$amap.setCenter(center)\r\n    },\r\n    // 绘制图中标记点\r\n    drawMarker () {\r\n      // 绘制图标\r\n      const Icon = new AMap.Icon({\r\n        size: new AMap.Size(23, 38),\r\n        image: require('@/static/map/travel_mark.png'),\r\n        imageSize: new AMap.Size(23, 38)\r\n      })\r\n\r\n      const _temPoints = JSON.parse(JSON.stringify(this.points))\r\n      _temPoints.reverse()\r\n\r\n      overlays = new AMap.OverlayGroup()\r\n\r\n      _temPoints.forEach((item, index) => {\r\n        // 绘制标记气球\r\n        const marker = new AMap.Marker({\r\n          position: new AMap.LngLat(item.lng, item.lat),\r\n          map: this.$amap,\r\n          icon: Icon,\r\n          touchZoom: false\r\n        })\r\n        // 绘制气球上数字文字\r\n        const indexText = `<div style=\"color:#ffffff;width:22px;text-align:center;margin-top:2px;font-size:11px\">${_temPoints.length - index}</div>`\r\n        // eslint-disable-next-line no-new\r\n        new AMap.Marker({\r\n          position: new AMap.LngLat(item.lng, item.lat),\r\n          map: this.$amap,\r\n          content: indexText,\r\n          touchZoom: false\r\n        })\r\n\r\n        overlays.addOverlay(marker)\r\n\r\n        // 设置 marker 绑定的数据\r\n        marker.setExtData(item)\r\n        // 点击方法绑定\r\n        marker.on('click', this.markerClick)\r\n      })\r\n    },\r\n    drawProductMarkers (points) {\r\n      const size = new AMap.Size(20, 25)\r\n      // 绘制图标\r\n      const Icon = new AMap.Icon({\r\n        size,\r\n        image: require('@/static/map/guide_mark_6.png'),\r\n        imageSize: size\r\n      })\r\n\r\n      productOverlays = new AMap.OverlayGroup()\r\n\r\n      points.forEach((item, index) => {\r\n        // 绘制标记气球\r\n        const marker = new AMap.Marker({\r\n          position: new AMap.LngLat(item.lng, item.lat),\r\n          map: this.$amap,\r\n          icon: Icon,\r\n          label: item.journeyPointName,\r\n          touchZoom: false,\r\n          extData: item\r\n        })\r\n\r\n        productOverlays.addOverlay(marker)\r\n\r\n        // 点击方法绑定\r\n        marker.on('click', this.productClick)\r\n      })\r\n    },\r\n\r\n    productClick (e) {\r\n      const point = e.target.getExtData()\r\n      // 绘制气球上数字文字\r\n      const indexText = `<div style=\"color:#333333;margin-top:2px;font-size:12px\">${point.journeyPointName}</div>`\r\n      // eslint-disable-next-line no-new\r\n      const offsetW = point.journeyPointName.length * 12 / 2 - 2\r\n      const marker = new AMap.Marker({\r\n        position: new AMap.LngLat(point.lng, point.lat),\r\n        map: this.$amap,\r\n        content: indexText,\r\n        offset: new AMap.Pixel(-offsetW, -3),\r\n        touchZoom: false\r\n      })\r\n      productOverlays.addOverlay(marker)\r\n    },\r\n\r\n    markerClick (e) {\r\n      if (!this.needClick) return\r\n      const point = e.target.getExtData()\r\n      uni.navigateTo({\r\n        url: `/pages/original-travel/introduction/index?journeyPointId=${point.journeyPointId}`\r\n      })\r\n    },\r\n\r\n    // 绘制折线图\r\n    drawPath () {\r\n      // 折线的节点坐标数组，每个元素为 AMap.LngLat 对象\r\n      const path = this.points.map(item => new AMap.LngLat(item.lng, item.lat))\r\n      // 创建折线实例\r\n      const polyline = new AMap.Polyline({\r\n        path: path,\r\n        showDir: true,\r\n        strokeWeight: 5,\r\n        strokeColor: '#FC5E51', // 线条颜色\r\n        lineJoin: 'round', // 折线拐点连接处样式\r\n        map: this.$amap\r\n      })\r\n      overlays.addOverlay(polyline)\r\n      // 将折线添加至地图实例\r\n      this.$amap.add(polyline)\r\n    }\r\n  },\r\n  watch: {\r\n    points: {\r\n      handler: function () {\r\n        this.$nextTick(() => {\r\n          if (overlays) {\r\n            overlays.hide()\r\n            overlays.clearOverlays()\r\n          }\r\n          this.drawMarker()\r\n          this.drawPath()\r\n        })\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  props: {\r\n    points: Array,\r\n    needClick: {\r\n      type: [Boolean, String],\r\n      default: false\r\n    },\r\n    mapClass: {\r\n      type: String\r\n    },\r\n    mapInitObj: {\r\n      type: Object\r\n    }\r\n  },\r\n  mounted () {\r\n    this.drawDistrict()\r\n  },\r\n  mixins: [mapMixin]\r\n}\r\n\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.map-wrap {\r\n  position: relative;\r\n  .mapVH60 {\r\n    width: 100vw;\r\n    height: 60vh;\r\n  }\r\n  .mapH400 {\r\n    width: 92vw;\r\n    height: 400rpx;\r\n  }\r\n  .mapVH50 {\r\n    width: 100vw;\r\n    height: 50vh;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=style&index=0&id=92ac3f92&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=style&index=0&id=92ac3f92&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625538132116\n      var cssReload = require(\"D:/word/project/business-projects/external/tianmu-league/h5/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}