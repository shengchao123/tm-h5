{"version":3,"sources":["webpack:///./src/pages/components/Comments.vue?8df9","webpack:///./src/pages/components/Comments.vue?0450","webpack:///./src/pages/components/Comments.vue?f67a","webpack:///./src/pages/components/Comments.vue?5de8","uni-app:///src/pages/components/Comments.vue","webpack:///./src/pages/components/Comments.vue?3284","webpack:///./src/pages/components/Comments.vue?d6a4"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAqc,CAAgB,ieAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC2Czd;;;;;;;;;;;;;;;;;;;;gBAEA;AACA;AACA;AACA,UAFA,kBAEA,IAFA,EAEA;AACA;AACA;AACA,KALA;AAMA;AACA,YAPA,oBAOA,IAPA,EAOA;AAAA;;AACA;AACA;AADA;AAGA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AACA;AACA;;AACA;;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AACA;AACA,OATA;AAUA,KA3BA;AA4BA;AACA,qBA7BA,6BA6BA,WA7BA,EA6BA;AACA;AACA,KA/BA;AAgCA;AACA,YAjCA,oBAiCA,IAjCA,EAiCA;AACA;AACA;AADA;AAGA,KArCA;AAsCA;AAtCA,GADA;AAyCA;AACA,YADA,sBACA;AACA;AACA;AACA,8BAFA,CAGA;AACA,OAJA;AAKA;AACA;AARA,GAzCA;AAmDA;AACA;AACA,iBADA;AAEA;AAAA;AAAA;AAFA;AADA,GAnDA;AAyDA;AAAA;AAAA;AAzDA,C;;;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAA85B,CAAgB,y4BAAG,EAAC,C;;;;;;;;;;;ACAl7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/components/Comments.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./Comments.vue?vue&type=template&id=3345e8f8&scoped=true&\"\nvar renderjs\nimport script from \"./Comments.vue?vue&type=script&lang=js&\"\nexport * from \"./Comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comments.vue?vue&type=style&index=0&id=3345e8f8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3345e8f8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/components/Comments.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Comments.vue?vue&type=template&id=3345e8f8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.comments, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 = _vm.avatarUrl(item.avatar)\n    var m1 = _vm.$actionIconClass(item)\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Comments.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"pl30 pr30\">\r\n    <view v-for=\"(item,index) in comments\"\r\n          :key=\"index\"\r\n          class=\"bt pb32 mb32\">\r\n      <view class=\"flex\">\r\n        <image :src=\"avatarUrl(item.avatar)\"\r\n               alt=\"\"\r\n               class=\"mr16 user-img\"\r\n               @click=\"toPerson(item)\">\r\n          <view class=\"w91\">\r\n            <view class=\"between-row mt12\">\r\n              <view>\r\n                <view class=\"color-999 ft24 flex\">{{item.nick}}\r\n                  <view v-if=\"item.isAuthor\"\r\n                        class=\"author ft20 color-666 ml8 tc\">作者</view>\r\n                </view>\r\n                <view class=\"center-align mt20\">\r\n                  <view class=\"ft26\">{{item.content}}</view>\r\n                  <view class=\"ml12 color-999 ft22 mr24 no-wrap\">{{item.commentTime}}</view>\r\n                </view>\r\n              </view>\r\n              <view class=\"tc relative\">\r\n                <view @click=\"onLike(item)\">\r\n                  <svg-icon :icon=\"item.isLike ? 'icon_shoucang' : 'icon_weishoucang'\"\r\n                            :class=\"['ft32',$actionIconClass(item)]\"></svg-icon>\r\n                </view>\r\n                <view class=\"mt20 ft22\">{{item.likeCount}}</view>\r\n              </view>\r\n            </view>\r\n            <!-- 子评论 -->\r\n            <recursive-comments v-if=\"item.children\"\r\n                                :commentChildren=\"item.children\"\r\n                                :commentList=\"comments\"\r\n                                :index=\"index\"\r\n                                @getCommentsStatus=\"getCommentsStatus\"></recursive-comments>\r\n          </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n<script>\r\nimport RecursiveComments from '../components/RecursiveComments'\r\nimport { avatarUrl } from '@/utils/tools'\r\n\r\nexport default {\r\n  methods: {\r\n    // 点赞、取消点赞评论\r\n    onLike (item) {\r\n      if (this.$notMember()) return this.$goLogin();\r\n      this.dealLike(item)\r\n    },\r\n    // 点赞和取消点赞接口\r\n    dealLike (item) {\r\n      const params = {\r\n        communityNoteCommentId: item.id\r\n      }\r\n      let apiName = ''\r\n      if (item.isLike) {\r\n        apiName = 'cancelCommunityLikeNoteComment'\r\n      } else {\r\n        apiName = 'communityLikeNoteComment'\r\n      }\r\n      this.$api[apiName](params).then(res => {\r\n        if (res.isError) return this.$msg(res.message)\r\n        this.$msg(item.isLike ? '取消点赞' : '点赞成功')\r\n        if (item.isLike) {\r\n          item.likeCount = item.likeCount - 1\r\n        } else {\r\n          item.likeCount = item.likeCount + 1\r\n        }\r\n        item.isLike = !item.isLike\r\n      })\r\n    },\r\n    // 获取子组件状态\r\n    getCommentsStatus (commentList) {\r\n      this.commentList = [...commentList]\r\n    },\r\n    // 点击头像跳转个人中心\r\n    toPerson (item) {\r\n      uni.navigateTo({\r\n        url: `/pagesDiscover/personalCenter/index?id=${item.communityMemberId}`\r\n      })\r\n    },\r\n    avatarUrl\r\n  },\r\n  computed: {\r\n    comments () {\r\n      this.commentList.map((item) => {\r\n        // item.otherChildren = item.children.slice(1)\r\n        item.showMore = false\r\n        // item.children.splice(1)\r\n      })\r\n      return this.commentList\r\n    }\r\n  },\r\n  props: {\r\n    commentList: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n  },\r\n  components: { RecursiveComments }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.color-d2d2d2 {\r\n  color: #d2d2d2;\r\n}\r\n.bt {\r\n  border-bottom: 1rpx solid #eaeaea;\r\n}\r\n.user-img {\r\n  width: 48rpx;\r\n  height: 48rpx;\r\n  border-radius: 50%;\r\n}\r\n.w91 {\r\n  width: 91%;\r\n}\r\n.author {\r\n  width: 80rpx;\r\n  height: 36rpx;\r\n  line-height: 36rpx;\r\n  background: #eeeeee;\r\n  border-radius: 20rpx;\r\n}\r\n.w520 {\r\n  width: 520rpx;\r\n  white-space: pre-wrap;\r\n}\r\n.f518 {\r\n  color: #518cfc;\r\n}\r\n.ml64 {\r\n  margin-left: 64rpx;\r\n}\r\n.no-wrap {\r\n  white-space: nowrap;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Comments.vue?vue&type=style&index=0&id=3345e8f8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Comments.vue?vue&type=style&index=0&id=3345e8f8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625538132885\n      var cssReload = require(\"D:/word/project/business-projects/external/tianmu-league/h5/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}