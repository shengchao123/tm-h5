{"version":3,"sources":["webpack:///./src/pages/components/Map.vue?6a99","webpack:///./src/pages/components/Map.vue?6abf","webpack:///./src/pages/components/Map.vue?0db7","webpack:///./src/pages/components/Map.vue?3b21","uni-app:///src/pages/components/Map.vue","webpack:///./src/pages/components/Map.vue?b43f","webpack:///./src/pages/components/Map.vue?93fd"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACsC;;;AAGxF;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgc,CAAgB,4dAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACQpd;;AACA;;;;;;;;;;;AACA;AACA;eACA;AACA,eADA;AAEA;AACA;AACA,YAFA,sBAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA,KAPA;AAQA;AACA,cATA,wBASA;AAAA;;AACA;AACA;AACA,4CADA;AAEA,2EAFA;AAGA;AAHA;;AAMA;;AACA;;AAEA;AACA;AACA;AACA,gEADA;AAEA,0BAFA;AAGA,oBAHA;AAIA;AAJA,WAFA,CAQA;;AACA,+JATA,CAUA;;AACA;AACA,gEADA;AAEA,0BAFA;AAGA,4BAHA;AAIA;AAJA;AAOA;AACA,oCAnBA,CAqBA;;AACA,gCAtBA,CAuBA;;AACA;AACA,OAzBA;AA0BA,KA9CA;AA+CA,sBA/CA,8BA+CA,MA/CA,EA+CA;AAAA;;AACA,gDADA,CAEA;;AACA;AACA,kBADA;AAEA,4EAFA;AAGA;AAHA;AAMA;AACA;AAEA;AACA,gEADA;AAEA,2BAFA;AAGA,oBAHA;AAIA,sCAJA;AAKA,0BALA;AAMA;AANA;AASA,2CAZA,CAcA;AACA;AACA,OAhBA;AAiBA,KAzEA;AA2EA,gBA3EA,wBA2EA,CA3EA,EA2EA;AACA,wCADA,CAEA;;AACA,6HAHA,CAIA;;AACA;AACA;AACA,gEADA;AAEA,uBAFA;AAGA,0BAHA;AAIA,qDAJA;AAKA;AALA;AAOA;AACA,KAzFA;AA2FA,eA3FA,uBA2FA,CA3FA,EA2FA;AACA;AACA;AACA;AACA;AADA;AAGA,KAjGA;AAmGA;AACA,YApGA,sBAoGA;AACA;AACA;AAAA;AAAA,SAFA,CAGA;;AACA;AACA,kBADA;AAEA,qBAFA;AAGA,uBAHA;AAIA,8BAJA;AAIA;AACA,yBALA;AAKA;AACA;AANA;AAQA,oCAZA,CAaA;;AACA;AACA;AAnHA,GAFA;AAuHA;AACA,UADA,oBACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AARA,GAvHA;AAiIA,SAjIA,qBAiIA;AAAA;;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KATA;AAUA,GA5IA;AA6IA;AACA,iBADA;AAEA;AACA,6BADA;AAEA;AAFA,KAFA;AAMA;AACA;AADA,KANA;AASA;AACA;AADA;AATA,GA7IA;AA0JA,SA1JA,qBA0JA;AACA;AACA,GA5JA;AA6JA;AA7JA,C;;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAy5B,CAAgB,o4BAAG,EAAC,C;;;;;;;;;;;ACA76B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/components/Map.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./Map.vue?vue&type=template&id=2a470c08&scoped=true&\"\nvar renderjs\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=2a470c08&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a470c08\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/components/Map.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=template&id=2a470c08&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=script&lang=js&\"","<template>\n  <div class='map-wrap'>\n    <div id=\"map\"\n         :class=\"mapClass\"></div>\n  </div>\n</template>\n\n<script>\nimport mapMixin from '@/mixins/map.js'\nimport AMap from 'AMap'\nlet overlays = new AMap.OverlayGroup()\nlet productOverlays = new AMap.OverlayGroup()\nexport default {\n  name: 'index',\n  methods: {\n    // 重置缩放及定位\n    resetMap () {\n      if (!this.$amap) return\n      const { zoom, center } = this.mapInitObj\n      this.$amap.setZoom(zoom)\n      this.$amap.setCenter(center)\n    },\n    // 绘制图中标记点\n    drawMarker () {\n      // 绘制图标\n      const Icon = new AMap.Icon({\n        size: new AMap.Size(23, 38),\n        image: require('@/static/map/travel_mark.png'),\n        imageSize: new AMap.Size(23, 38)\n      })\n\n      const _temPoints = JSON.parse(JSON.stringify(this.points))\n      _temPoints.reverse()\n\n      _temPoints.forEach((item, index) => {\n        // 绘制标记气球\n        const marker = new AMap.Marker({\n          position: new AMap.LngLat(item.lng, item.lat),\n          map: this.$amap,\n          icon: Icon,\n          touchZoom: false\n        })\n        // 绘制气球上数字文字\n        const indexText = `<div style=\"color:#ffffff;width:22px;text-align:center;margin-top:2px;font-size:11px\">${_temPoints.length - index}</div>`\n        // eslint-disable-next-line no-new\n        const textMarker = new AMap.Marker({\n          position: new AMap.LngLat(item.lng, item.lat),\n          map: this.$amap,\n          content: indexText,\n          touchZoom: false\n        })\n\n        overlays.addOverlay(textMarker)\n        overlays.addOverlay(marker)\n\n        // 设置 marker 绑定的数据\n        marker.setExtData(item)\n        // 点击方法绑定\n        marker.on('click', this.markerClick)\n      })\n    },\n    drawProductMarkers (points) {\n      const size = new AMap.Size(20, 25)\n      // 绘制图标\n      const Icon = new AMap.Icon({\n        size,\n        image: require('@/static/map/guide_mark_6.png'),\n        imageSize: size\n      })\n\n      points.forEach((item, index) => {\n        // 绘制标记气球lat: 30.270003 lng: 119.606614\n\n        const marker = new AMap.Marker({\n          position: new AMap.LngLat(item.lng, item.lat),\n          map: this.$amap,\n          icon: Icon,\n          label: item.journeyPointName,\n          touchZoom: false,\n          extData: item\n        })\n\n        productOverlays.addOverlay(marker)\n\n        // 点击方法绑定\n        // marker.on('click', this.productClick)\n      })\n    },\n\n    productClick (e) {\n      const point = e.target.getExtData()\n      // 绘制气球上数字文字\n      const indexText = `<div style=\"color:#333333;margin-top:2px;font-size:12px\">${point.journeyPointName}</div>`\n      // eslint-disable-next-line no-new\n      const offsetW = point.journeyPointName.length * 12 / 2 - 2\n      const marker = new AMap.Marker({\n        position: new AMap.LngLat(point.lng, point.lat),\n        map: this.$amap,\n        content: indexText,\n        offset: new AMap.Pixel(-offsetW, -3),\n        touchZoom: false\n      })\n      productOverlays.addOverlay(marker)\n    },\n\n    markerClick (e) {\n      if (!this.needClick) return\n      const point = e.target.getExtData()\n      uni.navigateTo({\n        url: `/pages/original-travel/introduction/index?journeyPointId=${point.journeyPointId}`\n      })\n    },\n\n    // 绘制折线图\n    drawPath () {\n      // 折线的节点坐标数组，每个元素为 AMap.LngLat 对象\n      const path = this.points.map(item => new AMap.LngLat(item.lng, item.lat))\n      // 创建折线实例\n      const polyline = new AMap.Polyline({\n        path: path,\n        showDir: true,\n        strokeWeight: 5,\n        strokeColor: '#FC5E51', // 线条颜色\n        lineJoin: 'round', // 折线拐点连接处样式\n        map: this.$amap\n      })\n      overlays.addOverlay(polyline)\n      // 将折线添加至地图实例\n      this.$amap.add(polyline)\n    }\n  },\n  watch: {\n    points () {\n      if (overlays) {\n        overlays.hide()\n        overlays.clearOverlays()\n      }\n      this.drawMarker()\n      this.drawPath()\n    }\n  },\n  created () {\n    uni.$on('drawProductMarkers', (data) => {\n      if (productOverlays) {\n        productOverlays.hide()\n        productOverlays.clearOverlays()\n      }\n\n      if (!this.$isEmpty(data)) {\n        this.drawProductMarkers(data)\n      }\n    })\n  },\n  props: {\n    points: Array,\n    needClick: {\n      type: [Boolean, String],\n      default: false\n    },\n    mapClass: {\n      type: String\n    },\n    mapInitObj: {\n      type: Object\n    }\n  },\n  mounted () {\n    this.drawDistrict()\n  },\n  mixins: [mapMixin]\n}\n\n</script>\n\n<style lang='scss' scoped>\n.map-wrap {\n  position: relative;\n  .mapVH60 {\n    width: 100vw;\n    height: 60vh;\n  }\n  .mapH400 {\n    width: 92vw;\n    height: 400rpx;\n  }\n  .mapVH50 {\n    width: 100vw;\n    height: 50vh;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=style&index=0&id=2a470c08&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Map.vue?vue&type=style&index=0&id=2a470c08&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631088482015\n      var cssReload = require(\"/Users/ccwork/Documents/Project__slzx/business_external/tianmu-league/h5/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}