{"version":3,"sources":["webpack:///./src/pages/steward/3helper/components/ReceivePop.vue?c2d0","webpack:///./src/pages/steward/3helper/components/ReceivePop.vue?8256","webpack:///./src/pages/steward/3helper/components/ReceivePop.vue?956a","webpack:///./src/pages/steward/3helper/components/ReceivePop.vue?3c8e","uni-app:///src/pages/steward/3helper/components/ReceivePop.vue","webpack:///./src/pages/steward/3helper/components/ReceivePop.vue?3988","webpack:///./src/pages/steward/3helper/components/ReceivePop.vue?9909"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACyI;AACzI,gBAAgB,gJAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sOAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAqe,CAAgB,meAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8Czf;gBACA;AACA;AAAA;AAAA,GADA;AAEA,oBAFA;AAGA;AACA,QADA,sBACA;AAAA;AAAA;AACA;AACA;AACA;;AACA;AAAA;AACA;AACA;AACA;AACA,KATA;AAUA,QAVA,kBAUA;AACA;AACA;AACA,KAbA;AAcA,aAdA,uBAcA;AACA;AACA;AACA;AACA;AACA,KAnBA;AAoBA,YApBA,oBAoBA,IApBA,EAoBA;AACA;AACA,KAtBA;AAuBA,mBAvBA,6BAuBA;AACA;AACA,KAzBA;AA0BA,oBA1BA,4BA0BA,IA1BA,EA0BA;AACA;AACA,KA5BA;AA6BA,aA7BA,uBA6BA;AACA;AACA,KA/BA;AAgCA,oCAhCA,8CAgCA;AAAA;;AACA;;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AADA;;AAIA;AACA;AAAA;AAAA;AACA;;AAEA;AACA;;AACA;;AACA;;AACA;AACA,OALA;AAMA;AAvDA,GAHA;AA4DA,MA5DA,kBA4DA;AACA;AACA,mBADA;AAEA,qBAFA;AAEA;AACA,iBAHA;AAIA,qBAJA;AAKA,qBALA;AAMA,mBACA;AACA,oBADA;AAEA,eAFA;AAGA;AAHA,OADA,EAMA;AACA,oBADA;AAEA,eAFA;AAGA;AAHA,OANA;AANA;AAmBA,GAhFA;AAiFA;AACA,gBADA,0BACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA,KANA;AAOA,sBAPA,gCAOA;AACA;AACA;AATA,GAjFA;AA4FA;AACA,mBADA;AAEA,sBAFA;AAGA;AACA,mBADA;AAEA;AACA;AACA;AAJA;AAHA,GA5FA;AAsGA,SAtGA,qBAsGA;AACA;AACA;AAxGA,C;;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAs9B,CAAgB,24BAAG,EAAC,C;;;;;;;;;;;ACA1+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/steward/3helper/components/ReceivePop.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ReceivePop.vue?vue&type=template&id=0369be61&scoped=true&\"\nvar renderjs\nimport script from \"./ReceivePop.vue?vue&type=script&lang=js&\"\nexport * from \"./ReceivePop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReceivePop.vue?vue&type=style&index=0&id=0369be61&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0369be61\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/steward/3helper/components/ReceivePop.vue\"\nexport default component.exports","export * from \"-!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReceivePop.vue?vue&type=template&id=0369be61&scoped=true&\"","var components\ntry {\n  components = {\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReceivePop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReceivePop.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <u-popup v-model=\"isShow\"\n             mode=\"bottom\"\n             border-radius=\"30\"\n             :mask-close-able=\"false\">\n      <view class=\"pl32 pr32 pb32\">\n        <div class=\"title ft30 tc\">认领</div>\n        <div class=\"close-btn\"\n             @click=\"hide\">\n          <svg-icon class=\"ft24 color-999 bold mt8\"\n                    icon=\"icon_cha\"></svg-icon>\n        </div>\n        <div v-for=\"(item, index) in selectList\"\n             :key=\"index\"\n             class=\"option mb24 pl24 pt32 pb32 center-justify column\"\n             :class=\"item.type === selectedType ? 'option-selected' : ''\"\n             @click=\"onSelect(item)\">\n          <div class=\"center-align mb8\">\n            <div class=\"mr16 radio center\">\n              <svg-icon v-if=\"item.type === selectedType\"\n                        icon=\"icon_duihao\"\n                        class=\"ft20 white-color\"></svg-icon>\n            </div>\n            <span class=\"ft32 name\">{{item.name}}</span>\n          </div>\n          <span class=\"ft24 description\">{{item.description}}</span>\n          <div v-if=\"item.type === 1 && isHall\"\n               class=\"pt24\">\n            <div class=\"select-btn ft24 tc\"\n                 style=\"color: #E32417\"\n                 @click=\"onJointUnitShow\">选择联办单位</div>\n            <div class=\"ft24 color-999 pt16\">{{unitNameText}}</div>\n          </div>\n        </div>\n        <div class=\"confirm-btn white-color ft30 tc mt32\"\n             @click=\"onConfirm\">确定</div>\n      </view>\n    </u-popup>\n    <joint-unit-pop v-if=\"isHall\"\n                    ref=\"jointUnitPop\"\n                    @onConfirm=\"jointUnitConfirm\"></joint-unit-pop>\n  </div>\n</template>\n<script>\nimport JointUnitPop from './JointUnitPop.vue'\nlet cacheSelectList = null\nexport default {\n  components: { JointUnitPop },\n  name: 'ReceivePop',\n  methods: {\n    show ({ projectId, unitIds }) {\n      this.isShow = true\n      this.projectId = projectId\n      this.unitIds = unitIds || []\n      if (unitIds && unitIds.length === 1) { // 若当前联合单位为 1 默认单独领办\n        this.selectedType = 2\n        this.selectList.splice(0, 1)\n      }\n    },\n    hide () {\n      this.isShow = false\n      this.resetData()\n    },\n    resetData () {\n      this.projectId = null\n      this.unitIds = []\n      this.selectedType = 1\n      this.selectList = [...cacheSelectList]\n    },\n    onSelect (item) {\n      this.selectedType = item.type\n    },\n    onJointUnitShow () {\n      this.$refs.jointUnitPop.show()\n    },\n    jointUnitConfirm (list) {\n      this.selectUnits = [...list]\n    },\n    onConfirm () {\n      this.leadJourneyHelperProjectSchedule()\n    },\n    leadJourneyHelperProjectSchedule () {\n      const selectedType = this.selectedType\n      if (this.isHall && selectedType === 1 && this.selectUnits.length === 0) {\n        return this.$msg('请先选择联办单位')\n      }\n\n      const memberUnitOrgId = this.memberPersonalInfo.unitOrgId\n      let chooseUnitList = this.isHall ? this.selectUnits : this.unitIds\n      chooseUnitList = chooseUnitList.filter(el => el.id !== memberUnitOrgId)\n      const params = {\n        id: this.projectId,\n      }\n\n      if (selectedType === 1) {\n        params.journeyCoConstructionUnitIds = chooseUnitList.map(el => el.id)\n      }\n\n      this.$api.leadJourneyHelperProjectSchedule(params).then(res => {\n        if (res.isError) return this.$msg(res.message)\n        this.$msg('认领成功')\n        this.$emit('receiveSuccess')\n        this.hide()\n      })\n    }\n  },\n  data () {\n    return {\n      isShow: false,\n      projectId: null,  // 项目id\n      unitIds: [],\n      selectUnits: [],\n      selectedType: 1,\n      selectList: [\n        {\n          name: '联合领办',\n          type: 1,\n          description: '视为共建单位联合领办，分数平分'\n        },\n        {\n          name: '单独领办',\n          type: 2,\n          description: '视为单独领办，享受分数加成'\n        }\n      ]\n    }\n  },\n  computed: {\n    unitNameText () {\n      const selectUnits = this.selectUnits\n      if (selectUnits.length === 0) return ''\n      const nameList = selectUnits.map(el => el.name)\n      return `(已选：${nameList.join('、')})`\n    },\n    memberPersonalInfo () {\n      return this.$store.state.user.memberPersonalInfo\n    },\n  },\n  props: {\n    isHall: Boolean,\n    itemConfig: Object,\n    showContact: {\n      type: Boolean,\n      default: () => {\n        return false\n      }\n    }\n  },\n  created () {\n    cacheSelectList = [...this.selectList]\n  },\n}\n</script>\n<style lang='scss' scoped>\n.title {\n  height: 90rpx;\n  line-height: 90rpx;\n}\n.close-btn {\n  position: absolute;\n  right: 24rpx;\n  top: 12rpx;\n}\n.option {\n  width: 100%;\n  background: #f3f3f3;\n  border-radius: 8rpx;\n  box-sizing: border-box;\n  .radio {\n    width: 32rpx;\n    height: 32rpx;\n    border-radius: 50%;\n    border: solid 1px #999;\n    box-sizing: border-box;\n  }\n  .description {\n    color: #999;\n  }\n}\n.option-selected {\n  background: #fce9e7;\n  .radio {\n    border: none;\n    background: #e32417;\n  }\n  .name {\n    color: #e32417;\n  }\n  .description {\n    color: #ef867f;\n  }\n}\n.confirm-btn {\n  height: 80rpx;\n  line-height: 80rpx;\n  background: #e32417;\n  border-radius: 40rpx;\n}\n.select-btn {\n  width: 186rpx;\n  height: 56rpx;\n  line-height: 56rpx;\n  border: solid 1px #e32417;\n  border-radius: 30rpx;\n}\n</style>","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReceivePop.vue?vue&type=style&index=0&id=0369be61&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReceivePop.vue?vue&type=style&index=0&id=0369be61&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631065792966\n      var cssReload = require(\"/Users/ccwork/Documents/Project__slzx/business_external/tianmu-league/xcx/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}