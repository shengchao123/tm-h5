{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/steward/3helper/contact-list/index.vue?0b55","webpack:///./src/pages/steward/3helper/contact-list/index.vue?8aa5","webpack:///./src/pages/steward/3helper/contact-list/index.vue?77fe","webpack:///./src/pages/steward/3helper/contact-list/index.vue?ed97","uni-app:///src/pages/steward/3helper/contact-list/index.vue","webpack:///./src/pages/steward/3helper/contact-list/index.vue?7c6d","webpack:///./src/pages/steward/3helper/contact-list/index.vue?7a15"],"names":["createPage","Page"],"mappings":"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","file":"pages/steward/3helper/contact-list/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/steward/3helper/contact-list/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=321f16b8&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=321f16b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"321f16b8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/steward/3helper/contact-list/index.vue\"\nexport default component.exports","export * from \"-!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=321f16b8&scoped=true&\"","var components\ntry {\n  components = {\n    mescrollUni: function() {\n      return import(\n        /* webpackChunkName: \"components/mescroll-uni/mescroll-uni\" */ \"@/components/mescroll-uni/mescroll-uni.vue\"\n      )\n    },\n    empty: function() {\n      return import(\n        /* webpackChunkName: \"components/empty/empty\" */ \"@/components/empty/empty.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$isEmpty(_vm.listData)\n  var l0 = !m0\n    ? _vm.__map(_vm.listData, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var a0 = Object.assign({}, item, { index: index })\n        return {\n          $orig: $orig,\n          a0: a0\n        }\n      })\n    : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      return _vm.$refs.selectionCommunit.show()\n    }\n\n    _vm.e1 = function(item) {\n      return _vm.onRouteItem(item)\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"contact-list-wrap\">\n    <view class=\"filter-select center-align between-row pl32 pr32 color-666 ft28\">\n      <view @click=\"$refs.selectionCommunit.show()\"\n            class=\"center-align\">\n        <text class=\"street-community inline-block\">{{streetCommunity}}</text>\n        <svg-icon icon=\"icon_xiangxia\"\n                  class=\"ft18 ml16 color-999\"></svg-icon>\n      </view>\n      <!-- <view @click=\"$refs.selectPop.show()\"\n                class=\"center-align\">\n            <text class=\"street-community inline-block\">{{unitName}}</text>\n            <svg-icon icon=\"icon_xiangxia\"\n                      class=\"ft18 ml16 color-999\"></svg-icon>\n          </view> -->\n      <view class=\"point-rules ft24 center-align\"\n            @click=\"onToRules\">\n        <svg-icon icon=\"icon_wenhao\"></svg-icon>\n        <text class=\"ml8\">积分规则</text>\n      </view>\n    </view>\n    <view class=\"title-list color-666 ft26 medium center-align pl32 pr32 \">\n      <view v-for=\"(item,index) in titleList\"\n            :key=\"index\"\n            class=\"title-item\">\n        {{item}}\n      </view>\n    </view>\n    <mescroll-uni ref=\"mescrollRef\"\n                  class=\"mescroll-wrap\"\n                  :up=\"upOption\"\n                  @init=\"mescrollInit\"\n                  @down=\"downCallback\"\n                  @up=\"upCallback\"\n                  top=\"168rpx\">\n      <template>\n\n        <empty v-if=\"$isEmpty(listData)\"></empty>\n        <view v-else\n              class=\"content-list pl32 pr32\">\n          <item v-for=\"(item,index) in listData\"\n                :key=\"index\"\n                :itemInfo=\"{...item,index}\">\n          </item>\n        </view>\n        <select-pop ref=\"selectPop\"\n                    :selectedId.sync=\"selectedId\"\n                    :list=\"companyList\"\n                    title=\"选择共建单位\"\n                    @onRouteItem=\"(item)=>onRouteItem(item)\"></select-pop>\n        <selection-communit ref=\"selectionCommunit\"\n                            @onConfirm=\"onConfirmCommunit\"\n                            :isHaveAll=\"true\"></selection-communit>\n      </template>\n    </mescroll-uni>\n  </view>\n</template>\n<script>\nimport MescrollMixin from \"@/components/mescroll-uni/mescroll-mixins.js\";\nimport MescrollUni from \"@/components/mescroll-uni/mescroll-uni.vue\";\nimport Item from './components/Item.vue';\nimport SelectPop from 'pages/components/SelectPop'\nimport SelectionCommunit from '../../components/SelectionCommunit.vue'\nimport { replaceString } from '@u/tools.js'\nexport default {\n  name: 'ContactList',\n  methods: {\n    onConfirmCommunit (info) {\n      this.streetInfo = info.streetInfo\n      this.communityInfo = info.communityInfo\n      this.communityOrgId = info.communityInfo?.id ?? null\n      this.$nextTick(() => {\n        this.getJourneyCoConstructionUnitTablePage()\n      })\n    },\n    // 获取共建单位组织列表\n    findUnitOrganizationList () {\n      this.$api.findUnitOrganizationList().then(res => {\n        if (res.isError) {\n          this.$msg(res.message)\n          return\n        }\n        this.companyList = replaceString(res.content, [{ key: 'orgId', value: 'id' }, { key: 'orgName', value: 'name' }])\n      })\n    },\n    onRouteItem (item) {\n      this.unitInfo = item\n      this.$nextTick(() => {\n        this.getJourneyCoConstructionUnitTablePage()\n      })\n    },\n    onToRules () {\n      uni.navigateTo({\n        url: '/pages/steward/3helper/integral-rule/index'\n      })\n    },\n    upCallback (page) {\n      this.getJourneyCoConstructionUnitTablePage(page)\n    },\n    downCallback () {\n      this.mescroll.resetUpScroll(); // 重置列表为第一页\n    },\n    getJourneyCoConstructionUnitTablePage (page) {\n      const params = {\n        pageNumber: page && page.num || 1,\n        pageSize: page && page.size || 10,\n        communityOrgId: this.communityOrgId,\n        unitOrgId: this.unitInfo.id\n      }\n      this.$api.getJourneyCoConstructionUnitTablePage(params).then(res => {\n        if (res.isError) return this.mescroll.endErr()\n        const { items, count } = res.content\n        this.mescroll.endBySize(items.length, count)\n        this.listData = params.pageNumber === 1 ? items : this.listData.concat(items)\n      })\n    }\n  },\n  data () {\n    return {\n      streetInfo: {},\n      communityInfo: {},\n      selectedId: '',\n      companyList: [],\n      upOption: {\n        empty: {\n          use: false, // 是否显示空布局\n        },\n        textNoMore: '',\n        noMoreSize: 10,\n        toTop: {\n          bottom: 120\n        },\n      },\n      communityOrgId: null,\n      unitInfo: {},\n      listData: [],\n      titleList: ['共建单位/街道社区', '接单', '抢单', '办结率', '积分']\n    }\n  },\n  computed: {\n    unitName () {\n      const { unitInfo } = this\n      if (this.$isEmpty(unitInfo)) return '共建单位'\n      return unitInfo.name\n    },\n    streetCommunity () {\n      const { streetInfo, communityInfo } = this\n      if (this.$isEmpty(streetInfo)) return '街道社区'\n      if (this.$isEmpty(communityInfo)) return streetInfo.name\n      return streetInfo.name + communityInfo.name\n    },\n    memberPersonalInfo () {\n      return this.$store.state.user.memberPersonalInfo\n    },\n    // 是否共建单位用户\n    isUnitUser () {\n      return this.memberPersonalInfo.isUnitUser\n    }\n  },\n  created () {\n    this.findUnitOrganizationList()\n  },\n  mixins: [MescrollMixin],\n  components: {\n    MescrollUni,\n    Item,\n    SelectPop,\n    SelectionCommunit\n  }\n}\n</script>\n<style lang='scss' scoped>\n.contact-list-wrap {\n  .filter-select {\n    width: 100%;\n    height: 88rpx;\n    position: fixed;\n    top: 0;\n    .street-community {\n      max-width: 224rpx;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    .point-rules {\n      color: #518cfc;\n    }\n  }\n  .title-list {\n    width: 100%;\n    height: 80rpx;\n    background: #f3f3f3;\n    position: fixed;\n    top: 88rpx;\n    .title-item {\n      &:first-child {\n        width: 248rpx;\n      }\n      &:nth-child(2) {\n        width: 96rpx;\n        margin-left: 40rpx;\n      }\n      &:nth-child(3) {\n        width: 96rpx;\n      }\n      &:nth-child(4) {\n        width: 128rpx;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=321f16b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=321f16b8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631065793352\n      var cssReload = require(\"/Users/ccwork/Documents/Project__slzx/business_external/tianmu-league/xcx/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}