{"version":3,"sources":["webpack:///./src/pages/steward/components/SelectionCommunit.vue?7f5d","webpack:///./src/pages/steward/components/SelectionCommunit.vue?a5f8","webpack:///./src/pages/steward/components/SelectionCommunit.vue?81f7","webpack:///./src/pages/steward/components/SelectionCommunit.vue?8348","uni-app:///src/pages/steward/components/SelectionCommunit.vue","webpack:///./src/pages/steward/components/SelectionCommunit.vue?44f3","webpack:///./src/pages/steward/components/SelectionCommunit.vue?3457"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0I;AAC1I;AACqE;AACL;AACsC;;;AAGtG;AACsI;AACtI,gBAAgB,gJAAU;AAC1B,EAAE,uFAAM;AACR,EAAE,wGAAM;AACR,EAAE,iHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sOAEN;AACP,KAAK;AACL;AACA,aAAa,4OAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AAA6d,CAAgB,0eAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBCsEjf;AACA;AACA;AACA,YAFA,sBAEA;AAAA;;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KARA;AASA,WATA,qBASA;AACA;AAAA;AACA;;AACA;AACA;AACA,gCADA;AAEA;AAFA;AAIA,OALA,MAKA;AACA;AACA,gCADA;AACA;AADA;AAGA;;AACA;AACA,KAvBA;AAwBA;AACA,aAzBA,uBAyBA;AACA;AACA;AACA,KA5BA;AA6BA;AACA,iBA9BA,yBA8BA,IA9BA,EA8BA;AACA;AACA;AACA,mBADA;AAEA,cAFA;AAGA;AAHA;AAKA;AACA;AACA,KAvCA;AAwCA;AACA,cAzCA,sBAyCA,IAzCA,EAyCA,KAzCA,EAyCA;AAAA;;AACA;AAAA;AACA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA,WALA,MAKA;AACA;AACA;AACA;AACA;AACA,OAdA,MAcA;AACA;AACA;;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA,KAhEA;AAiEA;AACA,gBAlEA,wBAkEA,IAlEA,EAkEA,KAlEA,EAkEA;AACA;AACA,KApEA;AAqEA;AACA,cAtEA,sBAsEA,KAtEA,EAsEA;AACA;AACA;AACA,KAzEA;AA0EA,QA1EA,kBA0EA;AACA;AACA,KA5EA;AA6EA,iCA7EA,2CA6EA;AAAA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;AACA;AACA;AACA,OAfA;AAgBA;AA9FA,GADA;AAiGA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AALA;AADA,GAjGA;AA0GA;AACA;AACA,mBADA;AAEA;AACA;AACA;AAJA;AADA,GA1GA;AAkHA,MAlHA,kBAkHA;AACA;AACA,kBADA;AAEA,2BAFA;AAGA,oBAHA;AAIA,mBAJA;AAIA;AACA,oBALA;AAKA;AACA,uBANA;AAMA;AACA,sBAPA;AAQA,iBACA;AACA,mBADA;AAEA,cAFA;AAGA;AAHA,OADA;AARA;AAgBA,GAnIA;AAoIA;AACA,oBADA,8BACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA;AAOA,KATA;AAUA,YAVA,sBAUA;AAAA;AACA;AACA;AACA,yBADA;AAEA,qBAFA;AAGA,uBAHA;AAIA,6BAJA;AAKA,0BALA;AAMA,6BANA;AAOA;AAPA;AASA;AACA,KAtBA;AAuBA,eAvBA,yBAuBA;AAAA;AACA;AACA;AACA,OAFA;AAGA,KA3BA;AA4BA,mBA5BA,6BA4BA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAjCA,GApIA;AAuKA,SAvKA,qBAuKA;AACA;AACA;AAzKA,C;;;;;;;;;;;;;ACtEA;AAAA;AAAA;AAAA;AAAk8B,CAAgB,k5BAAG,EAAC,C;;;;;;;;;;;ACAt9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/steward/components/SelectionCommunit.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./SelectionCommunit.vue?vue&type=template&id=5ce8a92a&scoped=true&\"\nvar renderjs\nimport script from \"./SelectionCommunit.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectionCommunit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SelectionCommunit.vue?vue&type=style&index=0&id=5ce8a92a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ce8a92a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/steward/components/SelectionCommunit.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./SelectionCommunit.vue?vue&type=template&id=5ce8a92a&scoped=true&\"","var components\ntry {\n  components = {\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.tabsList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 = _vm.orgInfoText(item.name)\n    return {\n      $orig: $orig,\n      m0: m0\n    }\n  })\n\n  var l1 = _vm.__map(_vm.tabsList[_vm.tabsCurrent].list, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m1 = _vm.tabsCurrent === 0 ? _vm.selectIconStatus(item) : null\n    var m2 = !(_vm.tabsCurrent === 0) ? _vm.selectIconStatus(item) : null\n    var m3 = _vm.$isEmpty(item.child)\n    return {\n      $orig: $orig,\n      m1: m1,\n      m2: m2,\n      m3: m3\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isOrgShow = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./SelectionCommunit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./SelectionCommunit.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"selection-communit-wrap\">\n    <u-popup v-model=\"isOrgShow\"\n             mode=\"bottom\"\n             height=\"760\"\n             border-radius=\"30\"\n             :mask-custom-style=\"maskCustomStyle\">\n      <view class=\"popup-wrap\">\n        <view class=\"relative h84\">\n          <view class=\"ft34 popup-title bold\">选择街道社区</view>\n          <view class=\"close-btn\"\n                @click=\"isOrgShow = false\">\n            <svg-icon icon=\"icon_cha\"\n                      class=\"ft26 color-999 bold mt8\"></svg-icon>\n          </view>\n        </view>\n        <view class=\"pl30 pr30\">\n          <view class=\"mt32 flex\">\n            <view v-for=\"(item,index) in tabsList\"\n                  :key=\"index\"\n                  @click=\"changeTabs(index)\"\n                  class=\"tabs-item mr48\"\n                  :class=\"tabsCurrent === index ?'primary-color bold':'color-666'\">\n              <view class=\"ft30\">{{orgInfoText(item.name)}}</view>\n              <view class=\"center-justify\"\n                    v-if=\"tabsCurrent === index\">\n                <view class=\"tabs-bar\"></view>\n              </view>\n            </view>\n          </view>\n          <scroll-view scroll-y=\"true\"\n                       :scroll-top=\"scrollTop\"\n                       class=\"mt24 h376\">\n            <view v-for=\"(item,index) in tabsList[tabsCurrent].list\"\n                  :key=\"index\"\n                  class=\"column b-border org-item center-justify\">\n              <view class=\"center-align between-row\">\n                <view class=\"flex flex1\"\n                      @click=\"changeTopOrg(item,index)\">\n                  <svg-icon :icon=\"selectIconStatus(item)\"\n                            v-if=\"tabsCurrent === 0\"\n                            class=\"ft36\"\n                            :class=\"streetInfo.id === item.id ? 'primary-color' : 'color-ae'\">\n                  </svg-icon>\n                  <svg-icon :icon=\"selectIconStatus(item)\"\n                            v-else\n                            class=\"ft36\"\n                            :class=\"scommunityInfo.id === item.id ? 'primary-color' : 'color-ae'\">\n                  </svg-icon>\n\n                  <view class=\"ml16 ft30 color-333\">{{item.name}}</view>\n                </view>\n                <view class=\"item-icon\"\n                      @click=\"onChildrenOrg(item)\"\n                      v-if=\"!$isEmpty(item.child)\">\n                  <svg-icon icon=\"icon_xiangyoujiantou\"\n                            class=\"ft20 color-c4 bold mt8 \"></svg-icon>\n                </view>\n              </view>\n\n            </view>\n          </scroll-view>\n          <u-button @click=\"onConfirm\"\n                    :custom-style=\"btnStyle\">确定</u-button>\n        </view>\n      </view>\n    </u-popup>\n  </view>\n</template>\n<script>\nexport default {\n  methods: {\n    // 默认选中第一个街道第一个社区\n    initData () {\n      const firstList = this.tabsList[0].list[0]\n      this.changeTopOrg(firstList, 0)\n      this.$nextTick(() => {\n        this.onConfirm()\n      })\n    },\n    setInfo () {\n      const { streetInfo, communityInfo } = this\n      let obj = {}\n      if (streetInfo.name === '全部街道') {\n        obj = {\n          streetInfo,\n          communityInfo: {}\n        }\n      } else {\n        obj = {\n          streetInfo, communityInfo\n        }\n      }\n      this.$emit('onConfirm', obj)\n    },\n    // 确定\n    onConfirm () {\n      this.setInfo()\n      this.isOrgShow = false\n    },\n    // 选择下一级\n    onChildrenOrg (item) {\n      this.setOrgInfo(item)\n      const temItem = {\n        name: '请选择',\n        id: '',\n        list: item.child\n      }\n      this.tabsCurrent += 1\n      this.tabsList[this.tabsCurrent] = temItem\n    },\n    // 设置组织信息\n    setOrgInfo (item, index) {\n      const { name, id } = item\n      let objKey = ''\n      if (this.tabsCurrent === 0) {\n        objKey = 'streetInfo'\n        if (!this.$isEmpty(index + '')) {\n          const currentStreetList = this.tabsList[0].list[index]\n          if (name !== '全部街道') {\n            this.onChildrenOrg(currentStreetList)\n            this.$nextTick(() => {\n              this.changeTopOrg(currentStreetList.child[0])\n            })\n          } else {\n            // 删除社区数据\n            this.tabsList.splice(1, 1)\n          }\n        }\n      } else {\n        objKey = 'communityInfo'\n      }\n      this[objKey] = { id, name }\n      this.tabsList[this.tabsCurrent] = { ...this.tabsList[this.tabsCurrent], id, name }\n      this.tabsList = JSON.parse(JSON.stringify(this.tabsList))\n    },\n    // 选中某一组织\n    changeTopOrg (item, index) {\n      this.setOrgInfo(item, index)\n    },\n    // 切换tabs\n    changeTabs (index) {\n      if (this.tabsCurrent === index) return\n      this.tabsCurrent = index\n    },\n    show () {\n      this.isOrgShow = true\n    },\n    findCommunityOrganizationTree () {\n      this.$api.findCommunityOrganizationTree().then(res => {\n        if (res.isError) {\n          this.isHaveTabsList = false\n          return this.$msg(res.message)\n        }\n        if (!res && !res.content) {\n          this.isHaveTabsList = false\n          return\n        }\n        const content = JSON.parse(JSON.stringify(res.content))\n        if (this.isHaveAll) {\n          content.unshift({ child: [], id: '', name: '全部街道' })\n        }\n        this.tabsList[0].list = content\n        this.isHaveTabsList = true\n      })\n    },\n  },\n  watch: {\n    isHaveTabsList: {\n      handler: function (val) {\n        if (!val) return\n        this.initData()\n      },\n      immediate: true\n    }\n  },\n  props: {\n    isHaveAll: {\n      type: Boolean,\n      default: () => {\n        return false\n      }\n    }\n  },\n  data () {\n    return {\n      scrollTop: 0,\n      isHaveTabsList: false,\n      tabsCurrent: 0,\n      navbarOrg: {}, // 导航栏数据\n      streetInfo: {}, // 选中的街道数据\n      communityInfo: {}, // 选中的社区数据\n      isOrgShow: false,\n      tabsList: [\n        {\n          name: '请选择',\n          id: '',\n          list: []\n        },\n      ],\n    }\n  },\n  computed: {\n    selectIconStatus () {\n      return function (item) {\n        if (this.tabsCurrent === 0) {\n          return this.streetInfo.id === item.id ? 'icon_chenggongFill' : 'icon_quan'\n        } else {\n          return this.communityInfo.id === item.id ? 'icon_chenggongFill' : 'icon_quan'\n        }\n      }\n    },\n    btnStyle () { // 自定义按钮样式\n      // const btnBgColor = this.$isEmpty(this.communityInfo) ? '#ccc' : '#E32417'\n      const temStyle = {\n        fontSize: '32rpx',\n        color: '#fff',\n        height: '98rpx',\n        borderRadius: '49rpx',\n        fontWeight: 'bold',\n        background: '#E32417',\n        marginTop: '66rpx'\n      }\n      return temStyle\n    },\n    orgInfoText () {// 弹窗内组织名称\n      return (name) => {\n        return name && name.length > 7 ? name.substring(0, 6) + '...' : name\n      }\n    },\n    maskCustomStyle () { // 遮罩层自定义样式\n      const temStyle = {\n        backgroundColor: 'rgba(0, 0, 0, 0.40)'\n      }\n      return temStyle\n    },\n  },\n  created () {\n    this.findCommunityOrganizationTree()\n  }\n}\n</script>\n<style lang='scss' scoped>\n.selection-communit-wrap {\n  .h84 {\n    height: 84rpx;\n    line-height: 84rpx;\n  }\n  .h376 {\n    height: 376rpx;\n  }\n  .color-c4 {\n    color: #c4c4c4;\n  }\n  .color-ae {\n    color: #aeaeae;\n  }\n  .w500 {\n    width: 500rpx;\n  }\n  .popup-wrap {\n    .popup-title {\n      text-align: center;\n      color: #000;\n    }\n    .close-btn {\n      position: absolute;\n      right: 30rpx;\n      top: 0rpx;\n    }\n    .tabs-item {\n      min-width: 90rpx;\n      max-width: 210rpx;\n      text-align: center;\n      display: inline-block;\n    }\n    .tabs-bar {\n      height: 4rpx;\n      background: #e32417;\n      margin-top: 6rpx;\n      width: 32rpx;\n    }\n    .org-item {\n      height: 100rpx;\n    }\n    .item-icon {\n      height: 100rpx;\n      width: 100rpx;\n      text-align: right;\n      line-height: 100rpx;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./SelectionCommunit.vue?vue&type=style&index=0&id=5ce8a92a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./SelectionCommunit.vue?vue&type=style&index=0&id=5ce8a92a&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1631065792051\n      var cssReload = require(\"/Users/ccwork/Documents/Project__slzx/business_external/tianmu-league/xcx/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}